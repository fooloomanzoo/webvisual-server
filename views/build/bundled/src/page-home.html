<html><head></head><body><dom-module id="page-home"><template strip-whitespace=""><style include="shared-style button-style">:host{color:var(--bright-text-color);overflow-y:auto;overflow-x:hidden;}.box{@apply --layout-vertical;@apply --layout-center-center;min-height:100%;margin:auto;font-size:1em;line-height:1.4;}.box > *{position:relative;min-width:280px;box-sizing:border-box;max-width:100vw;}.item{@apply --layout-vertical;@apply --layout-center-center;color:var(--bright-secondary-color);font-size:1em;white-space:pre-line;text-decoration:none;text-align:center;}header{font-weight:400;font-size:2em;margin:0;padding:1em 0.5em 0em 0.5em;text-align:center;white-space:normal;}a{@apply --layout-vertical;@apply --layout-center-center;text-decoration:none;}span, div, h1, a{-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.item.facility{margin:24px;border-radius:12px;border:thin solid var(--bright-secondary-color);}.item.facility.iron-selected,
      .item.facility.iron-selected:hover{font-size:1.25em;background-color:rgba(255, 255, 255, 0.25);border-width:medium;}.item.system{box-sizing:border-box;margin-bottom:0.75em;border-radius:12px;border:thin solid var(--bright-secondary-color);}.item.system:hover{color:var(--bright-text-color);}iron-collapse{margin-bottom:1.5em;}.collapse-content{@apply --layout-vertical;@apply --layout-center-justified;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;margin:0 3em;}a:link,
      a:visited{color:var(--bright-text-color);}a:active{color:var(--active-link-color);}.login{position:absolute;bottom:auto;top:0;left:50%;right:auto;-webkit-transform:translate3d(-50%, 0, 0);transform:translate3d(-50%, 0, 0);@apply --layout-inline;@apply --layout-center-center;color:var(--notification-color);box-sizing:border-box;margin-top:1em;opacity:0.5;font-size:1em;background-color:#252525;border-radius:6px;border:thin solid currentColor;transition:opacity 300ms cubic-bezier(0.6,0,0.3,1);padding:0 0.75em;word-wrap:break-word;cursor:pointer;}.login:focus,
      .login:hover{opacity:1;}@media (min-width: 768px){.box{max-width:50vw;}}</style><template is="dom-if" if="[[!loggedIn]]"><div class="login" on-tap="_requestLogin"><icon-button icon="assignment-ind"></icon-button><span>{{localize('login', 'title')}}</span></div></template><div class="box"><header>{{localize('home', 'title')}}</header><template is="dom-if" if="[[!_hasFacilityItems]]"><div>{{localize('home', 'empty configuration')}}</div></template><template is="dom-if" if="[[_hasFacilityItems]]"><iron-selector id="selector" selected="{{currentFacility}}" attr-for-selected="item-name" selectable=".facility"><template is="dom-repeat" items="[[facilities]]"><div raised="" class="button item facility" item-name="[[item.name]]" title$="[[item.title]]" tabindex="1"><paper-ripple id="ripple" recenters=""></paper-ripple><div>[[item.title]]</div></div><iron-collapse opened="{{_computeOpened(item.name, currentFacility)}}"><div class="collapse-content"><template is="dom-repeat" items="[[item.systems]]" as="system"><a href$="[[_computeHref(system.view, item.name, system.name)]]" tabindex="-1"><div raised="" class="button item system" title$="[[system.title]]" tabindex="1"><paper-ripple id="ripple" recenters=""></paper-ripple><div>[[system.title]]</div></div></a></template></div></iron-collapse></template></iron-selector></template></div></template><script>class PageHome extends WebvisualMixins.LocalizeMixin(Polymer.Element){static get is(){return'page-home'}static get properties(){return{facilities:{type:Array,value:function(){return[]}},currentFacility:{type:String,notify:!0},visible:{type:Boolean},loggedIn:{type:Boolean},languageResourcePrefix:{type:String,value:'/locales/ui/'},_hasFacilityItems:{type:Boolean,computed:'_computeHasFacilityItems(facilities)'}}}_computeHref(a,b,c){return'/'+(a||'list')+'?room='+b+'/'+c}_computeOpened(a,b){return a===b}_computeHasFacilityItems(a){return console.log(a&&0<a.length),!!(a&&0<a.length)}_requestLogin(){this.dispatchEvent(new CustomEvent('login-request',{bubbles:!0,composed:!0}))}}customElements.define(PageHome.is,PageHome);</script></dom-module></body></html>