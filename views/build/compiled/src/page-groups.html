<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="group-data" assetpath="data/"><script>var GroupData=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_fetchGroups',value:function(d){if(d){var f=d.split('/').filter(function(g){return''!==g});2===f.length?(this.roomUri=f[0]+'+'+f[1],Promise.all([this._fetch(this.roomUri+'+groups.json','GET','include','json','groups'),this._fetch(this.roomUri+'+groupingKeys.json','GET','include','json','groupingKeys')]).catch(function(g){console.log(g)})):this.dispatchEvent(new CustomEvent('data-error',{bubbles:!0,composed:!0,detail:'Room is not defined'}))}}},{key:'_computeSubGroups',value:function(d,e){if(d&&e)for(var g,f=0;g=d[f];++f)if(g.key===e)return g.groups;return[]}},{key:'_groupingKeysChanged',value:function(d){var e=this;if(d&&d.length){var f=localStorage.getItem('groupedKey');setTimeout(function(){f&&-1!==d.indexOf(f)?e.set('groupedKey',f):e.roomUri&&e._fetch(e.roomUri+'+preferedGroupingKey.json','GET','include','json','groupedKey',!0).catch(function(g){console.log(g)})},0)}}},{key:'_groupedKeyChanged',value:function(d){d&&localStorage.setItem('groupedKey',d)}}],[{key:'is',get:function(){return'group-data'}},{key:'properties',get:function(){return{urlPrefix:{type:String,value:'/data/'},loggedIn:{type:Boolean},room:{type:String},groupedKey:{type:String,notify:!0,observer:'_groupedKeyChanged'},groupingKeys:{type:Array,value:function(){return[]},notify:!0,observer:'_groupingKeysChanged'},groups:{type:Array,value:function(){return[]},notify:!0},subgroups:{type:Array,computed:'_computeSubGroups(groups, groupedKey)',notify:!0}}}},{key:'observers',get:function(){return['_fetchGroups(room, loggedIn)']}}]),b}(WebvisualMixins.FetchMixin(Polymer.Element));customElements.define(GroupData.is,GroupData);</script></dom-module><dom-module id="group-card"><template strip-whitespace=""><style>:host{display:block;position:relative;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);background:var(--group-card-background, #e5e5e5);}#header{@apply --layout-fit;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;height:3em;border-top-left-radius:inherit;border-top-right-radius:inherit;color:var(--group-card-header-color, var(--bright-text-color));}#header.opened{height:calc(15vh + 120px);}#header .title-text{margin-left:1em;font-size:1.1em;line-height:normal;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;}#title{@apply --layout-fit;bottom:auto;@apply --layout-inline;@apply --layout-center;@apply --layout-justified;pointer-events:none;height:3em;width:100%;mix-blend-mode:exclusion;}#title > *{pointer-events:all;}#mainContent{@apply --layout-horizontal;@apply --layout-wrap;@apply --layout-start;@apply --layout-start-justified;pointer-events:none;border-color:inherit;border-radius:inherit;position:relative;box-sizing:border-box;}#headerBackground{position:relative;width:100%;border-top-left-radius:inherit;border-top-right-radius:inherit;border-bottom-style:solid;border-bottom-width:thin;color:var(--group-card-header-color, var(--bright-text-color));border-color:var(--group-card-header-border, inherit);background-color:var(--group-card-header-background, var(--bright-primary-color));padding-top:3em;transition:padding-top 500ms cubic-bezier(0.6,0,0.2,1);}#headerBackground.opened{bottom:0;padding-top:calc(15vh + 120px);}#headerBackground:not(.opened)::before{@apply --layout-fit;content:'';border-top-left-radius:inherit;border-top-right-radius:inherit;pointer-events:none;background:var(--group-card-header-shim);}::slotted(*){pointer-events:auto;}#addons{@apply --layout-fit;transform-origin:top center;transform:rotateX(90deg) scale(0.5);transition:transform 500ms cubic-bezier(0.6,0,0.2,1);}#addons.opened{transform:rotateX(0deg) scale(1);}#addons > *{overflow:hidden;@apply --layout-fit;}#headerContent{@apply --layout-fit;isolation:isolate;perspective:calc(15vh + 120px);perspective-origin:center top;}:host(.fullscreen) #headerContent{}icon-button.iron-selected{opacity:1;background-color:rgba(255,255,255, 0.125);}.expand-button{margin-right:0.5em;flex-shrink:0;}#title:hover .expand-button{opacity:1;}#control{position:static;left:0;bottom:0;right:auto;top:auto;pointer-events:none;will-change:opacity;transition:opacity 500ms cubic-bezier(0.6,0,0.2,1);mix-blend-mode:exclusion;opacity:0;}#control icon-button{background:rgba(255,255,255,0.0625);}#control icon-button.iron-selected{background:rgba(255,255,255,0.25);}#control.opened{position:absolute;opacity:1;}device-table-group[opened]{margin:3em 0 2.5em 0;}device-chart[opened]{margin-top:3em;padding-bottom:calc(var(--icon-size, 1.5em) + 2*var(--icon-padding, 0.5em) + var(--control-bottom, 0px));}[hidden]{display:none !important;}</style><section id="mainContent"><section id="headerBackground" on-transitionend="_transitionEnd"></section><slot></slot></section><section id="header"><section id="headerContent"><iron-pages id="addons" selected="[[view]]" selectable=".view" selected-attribute="opened"><template is="dom-if" if="[[svgSrcPath]]"><device-svg class="view" url-prefix="[[svgUrlPrefix]]" src="[[svgSrcPath]]" selectable-items="[[svgSelectable]]" items="[[items]]" multi="" exceeding="[[exceeding]]"></device-svg></template><template is="dom-if" if="[[_shouldRenderExtensions]]"><device-chart class="view" multi="" margin="{&quot;left&quot;: 0, &quot;right&quot;: 0, &quot;top&quot;: 0, &quot;bottom&quot;: 0}" items="[[items]]"></device-chart><device-table-group class="view" items="[[items]]" selected-mount="[[item.mount]]"></device-table-group></template></iron-pages><section id="title"><span class="title-text" on-tap="toggle">[[title]]</span><icon-button title="expand" on-tap="toggle" class="expand-button" icon="[[expandIcon]]"></icon-button></section><section id="control"><iron-selector selected="{{view}}" selectable=".button"><template is="dom-if" if="[[svgSrcPath]]"><icon-button title="map" icon="map" class="button" hidden$="[[!svgSrcPath]]"></icon-button></template><template is="dom-if" if="[[_shouldRenderExtensions]]"><icon-button title="chart" icon="show-chart" class="button" hidden$="[[!_shouldRenderExtensions]]"></icon-button><icon-button title="table" icon="list" class="button" hidden$="[[!_shouldRenderExtensions]]"></icon-button></template></iron-selector></section></section></section></template><script>var GroupCard=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'toggle',value:function(){this.opened?this.close():this.open()}},{key:'open',value:function(){this._state=this._STATE.OPENING,this._transitionStart()}},{key:'close',value:function(){this._state=this._STATE.CLOSING,this._transitionStart()}},{key:'_openedChanged',value:function(d,e){void 0===e&&(this.view=0),d&&this._state!==this._STATE.OPENING?this.open():!1===d&&this._state!==this._STATE.CLOSING&&this.close()}},{key:'_resetTransitionState',value:function(){var d=this;requestAnimationFrame(function(){d.$.control.style['will-change']='',d.$.control.style.transition='none',d.$.addons.style['will-change']='',d.$.headerBackground.style['will-change']='',d.$.headerBackground.style.transition='none',d.$.control.classList.remove('opened'),d.$.addons.classList.remove('opened'),d.$.header.classList.remove('opened'),d.$.headerBackground.classList.remove('opened'),d.$.addons.style.display='none',d.opened=!1,d._state=d._STATE.STATIC})}},{key:'_transitionStart',value:function(){var d=this;requestAnimationFrame(function(){d.$.addons.style.display='',d.$.addons.style['will-change']='transform',requestAnimationFrame(function(){d.$.headerBackground.style.transition='',d.$.headerBackground.style['will-change']='padding-top',d._state===d._STATE.OPENING?(d.$.control.style.transition='',d.$.control.style['will-change']='opacity',d.$.addons.classList.add('opened'),d.$.header.classList.add('opened'),d.$.headerBackground.classList.add('opened')):d._state===d._STATE.CLOSING&&(d.$.control.style.transition='none',d.$.control.style['will-change']='',d.$.control.classList.remove('opened'),d.$.addons.classList.remove('opened'),d.$.headerBackground.classList.remove('opened'))})})}},{key:'_transitionEnd',value:function(){var d=this;requestAnimationFrame(function(){d._state===d._STATE.CLOSING?(d.$.addons.style.display='none',d.$.header.classList.remove('opened'),d.opened=!1):d._state===d._STATE.OPENING&&(d.$.control.classList.add('opened'),d.opened=!0,d._viewChanged()),d.$.addons.style['will-change']='',d.$.headerBackground.style['will-change']='',d._state=d._STATE.STATIC})}},{key:'_computeExpandIcon',value:function(d){return d?'unfold-less':'unfold-more'}},{key:'_computeShouldRenderExtensions',value:function(d){return 0<d}},{key:'_viewChanged',value:function(){this.opened&&this.$.addons.selectedItem&&this.$.addons.selectedItem.notifyResize&&this.$.addons.selectedItem.notifyResize()}},{key:'_STATE',get:function(){return{STATIC:0,OPENING:1,CLOSING:2}}}],[{key:'is',get:function(){return'group-card'}},{key:'properties',get:function(){return{title:{type:String,value:'',reflectToAttribute:!0},opened:{type:Boolean,reflectToAttribute:!0,observer:'_openedChanged'},expandIcon:{type:String,value:'unfold-more',computed:'_computeExpandIcon(opened)'},svgUrlPrefix:{type:String},svgSrcPath:{type:String},svgSelectable:{type:Object},view:{type:Number,value:0,observer:'_viewChanged'},_shouldRenderExtensions:{type:Boolean,computed:'_computeShouldRenderExtensions(items.length)'},_state:{type:Number,value:0}}}}]),b}(WebvisualMixins.ContainerMixin(Polymer.Element));customElements.define(GroupCard.is,GroupCard);</script></dom-module></div><dom-module id="page-groups"><template strip-whitespace=""><style include="shared-style grid-layout">:host(:not([plain])) .grid.sign li > *{border-radius:12px;}:host([plain]) .grid.sign li > *{border-radius:8px;}.grid.sign li > *{box-shadow:none !important;border:thin solid var(--grid-border-color);}.grid.sign li > :first-child{border-bottom-left-radius:0px !important;border-bottom-right-radius:0px !important;border-bottom-width:0px !important;}.grid.sign li > :last-child{border-top-left-radius:0px !important;border-top-right-radius:0px !important;}@media (max-width: 1980px){.grid.sign li{-webkit-flex-basis:25%;flex-basis:25%;max-width:25%;}}@media (max-width: 1280px){.grid.sign li{-webkit-flex-basis:33.3%;flex-basis:33.3%;max-width:33.3%;}}@media (min-width: 768px) and (max-width: 900px){.grid.sign li{-webkit-flex-basis:50%;flex-basis:50%;max-width:50%;}}@media (max-width: 520px){.grid.sign li{-webkit-flex-basis:50%;flex-basis:50%;max-width:50%;}}@media (max-width: 400px){.grid.sign li{-webkit-flex-basis:33.3%;flex-basis:33.3%;max-width:33.3%;}}:host(:-webkit-full-screen-ancestor) group-card:not(.fullscreen){visibility:hidden;}</style><group-data room="[[room]]" logged-in="[[loggedIn]]" subgroups="{{subgroups}}" grouped-key="{{groupedKey}}" grouping-keys="{{groupingKeys}}"></group-data><svg-data room="[[room]]" logged-in="[[loggedIn]]" data="{{svgData}}"></svg-data><template is="dom-if" if="[[visible]]"><ul class="grid"><template is="dom-repeat" id="cards" items="[[_getSubGroups(subgroups)]]" as="group"><li><group-card title="[[group.title]]" open-on-select="" open-on-exceed="" multi="" svg-url-prefix="/images/[[room]]/" svg-src-path="[[group.svg.path]]" svg-selectable="[[_getSvgSelectable(group.svg.path, svgData.paths)]]"><ul class="grid sign"><template is="dom-repeat" items="[[group.items]]" as="id"><li><device-sign item="[[_getItem(id, elements)]]" show-date="" no-link="[[!visible]]" selectable=""></device-sign><device-caption vertical="" keys="[[_getItemKeys(id, elements)]]" grouped-key="[[groupedKey]]" without-grouped-key=""></device-caption></li></template></ul></group-card></li></template></ul></template></template><script>var PageGroups=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_getSubGroups',value:function(d){return d||[{},{},{},{},{}]}},{key:'_getItem',value:function(d,e){if(d&&e)for(var g,f=0;g=e[f];++f)if(g.id===d)return g;return{}}},{key:'_getItemKeys',value:function(d,e){if(d&&e)for(var g,f=0;g=e[f];++f)if(g.id===d)return g.keys;return{}}},{key:'_getSvgSelectable',value:function(d,e){return e&&e[d]||{}}},{key:'_groupedKeyChanged',value:function(d,e){if(void 0!==e){var f=Polymer.dom(this.root).querySelectorAll('[is-device]');f.forEach(function(h){h.reset()});var g=Polymer.dom(this.root).querySelectorAll('group-card');g.forEach(function(h){h.clearItems(),h._resetTransitionState()})}}}],[{key:'is',get:function(){return'page-groups'}},{key:'properties',get:function(){return{room:{type:String,notify:!0},elements:{type:Array,notify:!0},subgroups:{type:Array,notify:!0},groupedKey:{type:String,notify:!0,observer:'_groupedKeyChanged'},groupingKeys:{type:Array,notify:!0},visible:{type:Boolean},loggedIn:{type:Boolean},svgData:{type:Object}}}}]),b}(Polymer.Element);customElements.define(PageGroups.is,PageGroups);</script></dom-module></body></html>