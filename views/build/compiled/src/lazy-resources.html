<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="webvisual-app.html"><script>Polymer.IronSelection=function(a){this.selection=[],this.selectCallback=a},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(b){this.selection.slice().forEach(function(c){(!b||0>b.indexOf(c))&&this.setItemSelected(c,!1)},this)},isSelected:function(b){return 0<=this.selection.indexOf(b)},setItemSelected:function(b,c){if(null!=b&&c!==this.isSelected(b)){if(c)this.selection.push(b);else{var d=this.selection.indexOf(b);0<=d&&this.selection.splice(d,1)}this.selectCallback&&this.selectCallback(b,c)}},select:function(b){this.multi?this.toggle(b):this.get()!==b&&(this.setItemSelected(this.get(),!1),this.setItemSelected(b,!0))},toggle:function(b){this.setItemSelected(b,!this.isSelected(b))}};</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:'tap',observer:'_activateEventChanged'},selectable:String,selectedClass:{type:String,value:'iron-selected'},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,'dom-bind':1,'dom-if':1,'dom-repeat':1}}}},observers:['_updateAttrForSelected(attrForSelected)','_updateSelected(selected)','_checkFallback(fallbackSelection)'],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(b){return this.items.indexOf(b)},select:function(b){this.selected=b},selectPrevious:function(){var b=this.items.length,c=(+this._valueToIndex(this.selected)-1+b)%b;this.selected=this._indexToValue(c)},selectNext:function(){var b=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(b)},selectIndex:function(b){this.select(this._indexToValue(b))},forceSynchronousItemUpdate:function(){this._observer&&'function'===typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(b){this.listen(this,b,'_activateHandler')},_removeListener:function(b){this.unlisten(this,b,'_activateHandler')},_activateEventChanged:function(b,c){this._removeListener(c),this._addListener(b)},_updateItems:function(){var b=Polymer.dom(this).queryDistributedElements(this.selectable||'*');b=Array.prototype.filter.call(b,this._bindFilterItem),this._setItems(b)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var c=this._valueToItem(this.selected);c?this._selection.select(c):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(b){return!this._excludedLocalNames[b.localName]},_valueToItem:function(b){return null==b?null:this.items[this._valueToIndex(b)]},_valueToIndex:function(b){if(this.attrForSelected){for(var d,c=0;d=this.items[c];c++)if(this._valueForItem(d)==b)return c;}else return+b},_indexToValue:function(b){if(this.attrForSelected){var c=this.items[b];if(c)return this._valueForItem(c)}else return b},_valueForItem:function(b){if(!b)return null;var c=b[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return c==void 0?b.getAttribute(this.attrForSelected):c},_applySelection:function(b,c){this.selectedClass&&this.toggleClass(this.selectedClass,c,b),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,c,b),this._selectionChange(),this.fire('iron-'+(c?'select':'deselect'),{item:b})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(b){return Polymer.dom(b).observeNodes(function(c){this._updateItems(),this._updateSelected(),this.fire('iron-items-changed',c,{bubbles:!1,cancelable:!1})})},_activateHandler:function(b){for(var f,c=b.target,d=this.items;c&&c!=this;){if(f=d.indexOf(c),0<=f){var g=this._indexToValue(f);return void this._itemActivate(g,c)}c=c.parentNode}},_itemActivate:function(b,c){this.fire('iron-activate',{selected:b,item:c},{cancelable:!0}).defaultPrevented||this.select(b)}};</script><dom-module id="iron-pages" assetpath="../bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:'iron-pages',behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:['_selectedPageChanged(selected)'],_selectedPageChanged:function(){this.async(this.notifyResize)}});</script></dom-module><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:'multiChanged'},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:['_updateSelected(selectedValues.splices)'],select:function(b){this.multi?this._toggleSelected(b):this.selected=b},multiChanged:function(b){this._selection.multi=b,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(b){return this._indexToValue(this.indexOf(b))},this).filter(function(b){return null!=b},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(b){b=b||[];var c=(this._valuesToItems(b)||[]).filter(function(f){return null!==f&&f!==void 0});this._selection.clear(c);for(var d=0;d<c.length;d++)this._selection.setItemSelected(c[d],!0);if(this.fallbackSelection&&!this._selection.get().length){var e=this._valueToItem(this.fallbackSelection);e&&this.select(this.fallbackSelection)}},_selectionChange:function(){var b=this._selection.get();this.multi?(this._setSelectedItems(b),this._setSelectedItem(b.length?b[0]:null)):null!==b&&b!==void 0?(this._setSelectedItems([b]),this._setSelectedItem(b)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(b){var c=this.selectedValues.indexOf(b);0>c?this.push('selectedValues',b):this.splice('selectedValues',c,1)},_valuesToItems:function(b){return null==b?null:b.map(function(c){return this._valueToItem(c)},this)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl];</script><script>Polymer({is:'iron-selector',behaviors:[Polymer.IronMultiSelectableBehavior]});</script><script>Polymer({is:'iron-media-query',properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:'queryChanged'},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display='none',this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var b=this.query;b&&(!this.full&&'('!==b[0]&&(b='('+b+')'),this._mq=window.matchMedia(b),this._add(),this.queryHandler(this._mq))},queryHandler:function(b){this._setQueryMatches(b.matches)}});</script><dom-module id="tabs-overlay" assetpath="components/"><template strip-whitespace=""><style>:host{position:absolute;display:none;pointer-events:none;opacity:0;top:0;right:0;bottom:0;left:0;transition-property:top, right, bottom, left, opacity;}:host([persistent]){display:block !important;}[hidden]{display:none !important;}</style><slot></slot></template><script>var TabsOverlay=function(a){function b(){babelHelpers.classCallCheck(this,b);var c=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._lastTarget=void 0,c._transitionsInFlight=[],c}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'tabs-overlay'}},{key:'properties',get:function(){return{target:{type:Object,observer:'_targetChanged'}}}}]),babelHelpers.createClass(b,[{key:'ready',value:function(){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),this.addEventListener('transitionend',function(f){return d._onTransitionend(f)})}},{key:'_targetChanged',value:function(d,f){this._transitionsInFlight.length||(this._lastTarget&&this._lastTarget.classList.remove('tabs-overlay-static-above'),this.style.display='block',this._move(f,d),this._lastTarget=this.target)}},{key:'_onTransitionend',value:function(d){var f=this._transitionsInFlight.indexOf(d.propertyName);0<=f&&this._transitionsInFlight.splice(f,1),this._transitionsInFlight.length||this._moveComplete()}},{key:'_moveComplete',value:function(){this._lastTarget===this.target?(this._lastTarget&&this._lastTarget.classList.add('tabs-overlay-static-above'),this.style.display='none'):(this._move(this._lastTarget,this.target),this._lastTarget=this.target)}},{key:'_move',value:function(d,f){var g=this,h=d||f,j=f||d;if(h||j){var k=d?1:0,l=f?1:0;Polymer.dom.flush();var m=this.getBoundingClientRect(),n=window.getComputedStyle(this),o=h.getBoundingClientRect(),p=j.getBoundingClientRect();if(0===p.top&&0===p.right&&0===p.bottom&&0===p.left&&0===p.width&&0===p.height)return this.style.transitionProperty='none',this.style.opacity=l,this._transitionsInFlight=[],void Polymer.Async.microTask.run(this._moveComplete.bind(this));this.style.transitionProperty='';var q=parseFloat(n.top||'0')+(o.top-m.top),r=parseFloat(n.right||'0')-(o.right-m.right),s=parseFloat(n.bottom||'0')-(o.bottom-m.bottom),t=parseFloat(n.left||'0')+(o.left-m.left);this.style.transitionDuration='0s',this.style.transitionDelay='0s';var u=[this.style.top=q+'px',this.style.right=r+'px',this.style.bottom=s+'px',this.style.left=t+'px',this.style.opacity=k+''];q+=p.top-o.top,r-=p.right-o.right,s-=p.bottom-o.bottom,t+=p.left-o.left;var v=[0.2,0.2,0.2,0.2,0.2],w=[0,0,0,0,0];o.left<p.left&&o.right<p.right?w[3]=0.1:o.left>p.left&&o.right>p.right&&(w[1]=0.1),o.top<p.top&&o.bottom<p.bottom?w[0]=0.1:o.top>p.top&&o.bottom>p.bottom&&(w[2]=0.1);for(var y=[q+'px',r+'px',s+'px',t+'px',l+''],z=['top','right','bottom','left','opacity'],A=0;A<u.length;A++)u[A]!==y[A]&&(0===v[A]&&0===w[A]||this._transitionsInFlight.push(z[A]));requestAnimationFrame(function(){g.style.transitionDuration=v.map(function(B){return B+'s'}).join(', '),g.style.transitionDelay=w.map(function(B){return B+'s'}).join(', '),g.style.top=q+'px',g.style.right=r+'px',g.style.bottom=s+'px',g.style.left=t+'px',g.style.opacity=l+''})}}}]),b}(Polymer.Element);customElements.define(TabsOverlay.is,TabsOverlay);</script></dom-module><dom-module id="tabs-container" assetpath="components/"><template strip-whitespace=""><style>:host{@apply --layout;@apply --layout-start-justified;@apply --layout-center;box-sizing:border-box;position:relative;white-space:nowrap;overflow:hidden;-webkit-overflow-scrolling:touch;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}[hidden]{display:none !important;}#container{-webkit-overflow-scrolling:touch;position:relative;height:100%;display:flex;flex-direction:row;white-space:nowrap;overflow:hidden;pointer-events:all;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}#overlay{@apply --tab-overlay;}:host([vertical]){@apply --layout-center-center;}:host([reverse]) #container{flex-direction:row-reverse;}:host([vertical]) #container{flex-direction:column;width:100%;}:host([reverse][vertical]) #container{flex-direction:column-reverse;}:host([vertical]) ::slotted(*){width:100%;}:host(:not([vertical])) ::slotted(*){height:100%;}</style><nav id="container" on-track="_onScroll"><tabs-overlay id="overlay"></tabs-overlay><slot></slot></nav></template><script>var TabsContainer=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this._addScrollListeners()}},{key:'_addScrollListeners',value:function(){var d=this;this.$.container.addEventListener('scroll',function(f){return d._onScroll(f)},{passive:!0}),this.$.container.addEventListener('wheel',function(f){return d._onWheel(f)},{passive:!0})}},{key:'_onSelectedItemChanged',value:function(d){var f=this;d&&(!this.multi&&(this.$.overlay.target=d),requestAnimationFrame(function(){f.vertical?f.$.container.scrollTop=d.offsetTop-f.$.container.offsetTop-f.$.container.clientHeight/2+d.clientHeight/2:f.$.container.scrollLeft=d.offsetLeft-f.$.container.offsetLeft-f.$.container.clientWidth/2+d.clientWidth/2}))}},{key:'_onWheel',value:function(d){if(d){var f,g;switch(d.deltaMode){case 0:g=0.2;break;case 1:g=20;break;case 2:g=this.$.container.offsetHeight;break;default:g=1;}this.vertical?(f=d.deltaY||0,this.$.container.scrollTop+=f*g):(f=d.deltaX||0,this.$.container.scrollLeft+=f*g)}}},{key:'_onScroll',value:function(d,f){d.stopImmediatePropagation();var g;this.vertical?(g=f&&-f.ddy||0,this.$.container.scrollTop+=g):(g=f&&-f.ddx||0,this.$.container.scrollLeft+=g)}},{key:'reset',value:function(){this.set('selectedItem',null),this.set('selectedItems',[]),this.set('selectedValues',[])}}],[{key:'is',get:function(){return'tabs-container'}},{key:'properties',get:function(){return{vertical:{type:Boolean,value:!1,reflectToAttribute:!0},multi:{type:Boolean,value:!1}}}},{key:'observers',get:function(){return['_onSelectedItemChanged(selectedItem)']}}]),b}(Polymer.mixinBehaviors([Polymer.IronMultiSelectableBehavior],Polymer.Element));customElements.define(TabsContainer.is,TabsContainer);</script></dom-module><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:'_noinkChanged'},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(b){Polymer.IronButtonStateImpl._downHandler.call(this,b),this.pressed&&this.ensureRipple(b)},ensureRipple:function(b){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var c=this._rippleContainer||this.root;if(c&&Polymer.dom(c).appendChild(this._ripple),b){var d=Polymer.dom(this._rippleContainer||this),e=Polymer.dom(b).rootTarget;d.deepContains(e)&&this._ripple.uiDownAction(b)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement('paper-ripple')},_noinkChanged:function(b){this.hasRipple()&&(this._ripple.noink=b)}};</script><dom-module id="ripple-container" assetpath="components/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;}paper-ripple{color:var(--highlight-color, currentColor);}</style><slot></slot></template><script>var RippleContainer=function(a){function b(){babelHelpers.classCallCheck(this,b);var c=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._isDown=!1,c}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'ripple-container'}}]),babelHelpers.createClass(b,[{key:'ready',value:function(){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),this.addEventListener('focus',function(f){return d._onFocus(f)},!0),this.addEventListener('blur',function(f){return d._onBlur(f)},!0),this.addEventListener('down',function(f){return d._rippleDown(f)}),this.addEventListener('up',function(f){return d._rippleUp(f)})}},{key:'_onFocus',value:function(d){this._isDown||this._rippleDown(d)}},{key:'_onBlur',value:function(d){this._rippleUp(d)}},{key:'_rippleDown',value:function(d){this._isDown=!0,this.getRipple().downAction(d)}},{key:'_rippleUp',value:function(d){this._isDown=!1,this.getRipple().upAction(d)}}]),b}(Polymer.mixinBehaviors([Polymer.PaperRippleBehavior],Polymer.Element));customElements.define(RippleContainer.is,RippleContainer);</script></dom-module><dom-module id="tab-element" assetpath="components/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;cursor:pointer;}[hidden]{display:none !important;}#overlay{pointer-events:none;display:none;position:absolute;top:0;right:0;bottom:0;left:0;@apply --tab-overlay;}#container{height:100%;width:100%;position:relative;}:host(.tabs-overlay-static-above) #overlay{display:block;}</style><div id="overlay"></div><ripple-container id="container"><slot></slot></ripple-container></template><script>var TabElement=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'tab-element'}}]),b}(Polymer.Element);customElements.define(TabElement.is,TabElement);</script></dom-module><dom-module id="logo-element" assetpath="components/"><template strip-whitespace=""><style>:host{color:currentColor;overflow:hidden;box-sizing:border-box;--calculated-icon-padding:var(--icon-padding, 0.5em);height:100%;padding:var(--calculated-icon-padding);transition:color 0.3s cubic-bezier(0.6, 0, 0.3, 1);}a.link{pointer-events:all;}a.link:visited,
    a.link:link{color:currentColor;}.circle{display:inherit;fill:var(--highlight-color, #D75E5E);stroke:var(--highlight-color, #7ED75E);animation:none;transform-origin:9px center;stroke-width:0.5px;transform:scale(0);fill-opacity:0;stroke-opacity:0.5;transition-property:transform, fill-opacity, stroke-opacity;transition-timing-function:cubic-bezier(0.6, 0, 0.3, 1);transition-duration:1000ms;}.circle.animated{transform:scale(1);fill-opacity:0.3;stroke-opacity:0;}.circle.animated:nth-of-type(1){transition-delay:0ms;}.circle.animated:nth-of-type(2){transition-delay:250ms;}.circle.animated:nth-of-type(3){transition-delay:450ms;}.circle.animated:nth-of-type(4){transition-delay:600ms;}.circle.animated:nth-of-type(5){transition-delay:700ms;}.circle.animated:nth-of-type(6){transition-delay:750ms;}svg path{fill:currentColor;shape-rendering:geometricPrecision;transition:color 0.3s cubic-bezier(0.6, 0, 0.3, 1);}@media all and (max-device-width: 240px){:host(:not([show-always])) path:not(#Logo){display:none !important;}}</style><a href$="[[href]]" class="link"><svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 69 21" height="100%" preserveAspectRatio="xMinYMin"><g><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><circle class="circle" r="9" cy="10.5" cx="9" transform="scale(0)" fill="#D75E5E"></circle><path id="Logo" d="m 7.9210071,11.1186 c 0.00247,0 0.069517,-0.1271 0.1238027,-0.2191 C 8.4858763,10.1535 11.162848,3.516 11.818367,1.953 10.931859,1.6606 9.9845675,1.5 8.9998427,1.5 4.0292496,1.5 0,5.5296 0,10.5004 0,11.3201 0.11180425,12.1132 0.31703415,12.8676 0.88207947,12.4999 4.326143,10.1165 4.331304,10.1333 c 0.5515731,2.0313 2.4095879,3.0788 3.5897094,0.9853 z M 15.877984,4.6983 C 15.20168,6.298 12.925902,11.6648 12.315732,12.8725 11.11385,15.0587 9.1934613,17.0984 6.5917182,17.2155 3.5379728,17.3529 1.9207658,16.1872 1.0502452,14.7192 2.562154,17.5633 5.5546275,19.5 8.9998427,19.5 13.970672,19.5 18,15.4704 18,10.5004 18,8.2887 17.200507,6.2651 15.877984,4.6983"></path></g><g transform="translate(21,0)"><path id="f" d="m 1.645165,19.1834 0,0.3029 -1.261087,0 0,1.4579 -0.350028,0 0,-3.1071 1.709207,0 0,0.3028 -1.359179,0 0,1.0435 1.261087,0"></path><path id="o" d="m 2.649377,19.3696 c 0,0.8059 0.350557,1.3184 0.896593,1.3184 0.537215,0 0.892182,-0.5172 0.892182,-1.2996 0,-0.7873 -0.354967,-1.2997 -0.892182,-1.2997 -0.536862,0 -0.896593,0.5124 -0.896593,1.2809 z m 2.162267,0.019 c 0,0.9549 -0.513573,1.607 -1.265674,1.607 -0.765685,0 -1.270085,-0.6475 -1.270085,-1.6303 0,-0.9271 0.523101,-1.5838 1.270085,-1.5838 0.752101,0 1.265674,0.6521 1.265674,1.6071"></path><path id="r" d="m 6.165884,19.3138 c 0.378256,0 0.485875,-0.01 0.630544,-0.061 0.224236,-0.079 0.350204,-0.2748 0.350204,-0.5403 0,-0.2376 -0.107267,-0.4192 -0.294101,-0.4984 -0.144845,-0.065 -0.252112,-0.075 -0.695997,-0.075 l -0.210123,0 0,1.1739 0.219473,0 z m -0.0187,-1.4767 c 0.481112,0 0.658595,0.019 0.863954,0.098 0.312979,0.1211 0.5044,0.4146 0.5044,0.7824 0,0.41 -0.214533,0.6894 -0.639894,0.8433 l 0.817378,1.3834 -0.420422,0 -0.784386,-1.3275 -0.541802,0 0,1.3275 -0.350204,0 0,-3.1071 0.550976,0"></path><path id="s" d="m 9.822473,18.6432 c -0.03264,-0.3541 -0.252112,-0.5545 -0.607079,-0.5545 -0.32674,0 -0.569501,0.2004 -0.569501,0.4751 0,0.1306 0.06528,0.2469 0.186658,0.3261 0.10268,0.07 0.10268,0.07 0.555916,0.2749 0.410894,0.1817 0.574264,0.2842 0.691057,0.4239 0.11203,0.1397 0.172721,0.3213 0.172721,0.5216 0,0.5311 -0.410895,0.8851 -1.017974,0.8851 -0.378255,0 -0.677296,-0.1351 -0.85478,-0.3772 -0.12138,-0.1678 -0.17272,-0.3355 -0.186834,-0.6197 l 0.34103,0 c 0.03264,0.4474 0.280339,0.6895 0.714522,0.6895 0.378255,0 0.644481,-0.2237 0.644481,-0.5357 0,-0.1538 -0.06087,-0.2748 -0.187011,-0.382 C 9.607939,19.6863 9.528372,19.6445 9.220157,19.5093 8.883891,19.3604 8.678532,19.2485 8.571089,19.16 8.388842,19.011 8.295336,18.8201 8.295336,18.5918 c 0,-0.4703 0.392546,-0.8105 0.938935,-0.8105 0.340854,0 0.625604,0.1351 0.784563,0.3727 0.09333,0.1351 0.130731,0.2701 0.144669,0.4892 l -0.34103,0"></path><path id="c" d="m 12.876922,18.6989 c -0.08892,-0.4098 -0.327092,-0.6102 -0.709758,-0.6102 -0.555916,0 -0.90612,0.5031 -0.90612,1.3043 0,0.8058 0.345441,1.2996 0.91053,1.2996 0.434536,0 0.700585,-0.2795 0.751925,-0.8012 l 0.331679,0 C 13.199078,20.5995 12.811469,21 12.185688,21 c -0.793913,0 -1.298313,-0.6194 -1.298313,-1.5976 0,-0.9829 0.5044,-1.6211 1.284199,-1.6211 0.579204,0 0.952697,0.3353 1.032264,0.9176 l -0.326916,0"></path><path id="h" d="m 15.805228,19.1741 0,-1.337 0.350027,0 0,3.1071 -0.350027,0 0,-1.4814 -1.461859,0 0,1.4814 -0.350381,0 0,-3.1071 0.350381,0 0,1.337 1.461859,0"></path><path id="u" d="m 17.402052,17.8371 0,1.8308 c 0,0.4751 0.01888,0.5914 0.112207,0.7359 0.116793,0.177 0.354967,0.2842 0.639718,0.2842 0.331679,0 0.593141,-0.1445 0.686646,-0.3821 0.05134,-0.121 0.06051,-0.2421 0.06051,-0.638 l 0,-1.8308 0.350381,0 0,1.8353 c 0,0.4939 -0.0094,0.5776 -0.07463,0.7453 -0.149609,0.3634 -0.527864,0.5777 -1.022913,0.5777 -0.499637,0 -0.877892,-0.2143 -1.027324,-0.5777 -0.06545,-0.1677 -0.0748,-0.2514 -0.0748,-0.7453 l 0,-1.8353 0.350204,0"></path><path id="n" d="m 20.53113,17.8371 1.494498,2.5854 0,-2.5854 0.326915,0 0,3.1071 -0.382666,0 -1.4855,-2.5806 0,2.5806 -0.331679,0 0,-3.1071 0.378432,0"></path><path id="g" d="m 25.504909,19.4024 0,1.2762 C 25.210985,20.893 24.860428,21 24.477585,21 c -0.840666,0 -1.345242,-0.6055 -1.345242,-1.6163 0,-0.9783 0.504576,-1.6024 1.298489,-1.6024 0.583615,0 0.962047,0.3308 1.031911,0.9131 l -0.326563,0 c -0.09351,-0.4148 -0.317742,-0.6057 -0.705348,-0.6057 -0.57444,0 -0.924468,0.4891 -0.924468,1.2997 0,0.8291 0.354791,1.3042 0.975808,1.3042 0.237998,0 0.476525,-0.07 0.705348,-0.2048 l 0,-0.7826 -0.630544,0 0,-0.3028 0.947933,0"></path><path id="s2" d="m 27.806905,18.6432 c -0.03229,-0.3541 -0.251759,-0.5545 -0.606726,-0.5545 -0.327093,0 -0.569854,0.2004 -0.569854,0.4751 0,0.1306 0.06545,0.2469 0.186658,0.3261 0.10268,0.07 0.10268,0.07 0.555916,0.2749 0.411071,0.1817 0.574264,0.2842 0.691057,0.4239 0.11203,0.1397 0.172721,0.3213 0.172721,0.5216 0,0.5311 -0.410718,0.8851 -1.017974,0.8851 -0.378255,0 -0.676943,-0.1351 -0.854427,-0.3772 -0.121733,-0.1678 -0.173073,-0.3355 -0.187187,-0.6197 l 0.341206,0 c 0.03264,0.4474 0.280163,0.6895 0.714346,0.6895 0.378256,0 0.644658,-0.2237 0.644658,-0.5357 0,-0.1538 -0.06069,-0.2748 -0.186835,-0.382 -0.09809,-0.084 -0.177483,-0.1258 -0.485875,-0.261 -0.336266,-0.1489 -0.541625,-0.2608 -0.649068,-0.3493 -0.182071,-0.149 -0.2754,-0.3399 -0.2754,-0.5682 0,-0.4703 0.392193,-0.8105 0.938582,-0.8105 0.340854,0 0.625781,0.1351 0.78474,0.3727 0.09333,0.1351 0.130554,0.2701 0.144668,0.4892 l -0.341206,0"></path><path id="z" d="m 30.791314,17.8371 0,0.2377 -1.601941,2.5666 1.573713,0 0,0.3028 -1.984784,0 0,-0.2701 1.587827,-2.5388 -1.489558,0 0,-0.2982 1.914743,0"></path><path id="e" d="m 33.089075,19.1834 0,0.3029 -1.26091,0 0,1.1551 1.391818,0 0,0.3028 -1.742199,0 0,-3.1071 1.70956,0 0,0.3028 -1.359179,0 0,1.0435 1.26091,0"></path><path id="n2" d="m 34.340636,17.8371 1.494321,2.5854 0,-2.5854 0.327093,0 0,3.1071 -0.383196,0 -1.484794,-2.5806 0,2.5806 -0.331856,0 0,-3.1071 0.378432,0"></path><path id="t" d="m 38.772613,17.8371 0,0.3028 -0.812967,0 0,2.8043 -0.350028,0 0,-2.8043 -0.808027,0 0,-0.3028 1.971022,0"></path><path id="r2" d="m 39.977245,19.3138 c 0.378255,0 0.485875,-0.01 0.630543,-0.061 0.22406,-0.079 0.350028,-0.2748 0.350028,-0.5403 0,-0.2376 -0.10709,-0.4192 -0.293925,-0.4984 -0.145021,-0.065 -0.252111,-0.075 -0.695997,-0.075 l -0.210122,0 0,1.1739 0.219473,0 z m -0.0187,-1.4767 c 0.481112,0 0.658596,0.019 0.863955,0.098 0.312802,0.1211 0.504399,0.4146 0.504399,0.7824 0,0.41 -0.214709,0.6894 -0.639894,0.8433 l 0.817378,1.3834 -0.420421,0 -0.784563,-1.3275 -0.541625,0 0,1.3275 -0.350204,0 0,-3.1071 0.550975,0"></path><path id="u2" d="m 42.44261,17.8371 0,1.8308 c 0,0.4751 0.0187,0.5914 0.11203,0.7359 0.116794,0.177 0.354968,0.2842 0.639894,0.2842 0.331503,0 0.593142,-0.1445 0.686471,-0.3821 0.05134,-0.121 0.06069,-0.2421 0.06069,-0.638 l 0,-1.8308 0.350381,0 0,1.8353 c 0,0.4939 -0.0094,0.5776 -0.0748,0.7453 -0.149608,0.3634 -0.527864,0.5777 -1.022737,0.5777 -0.499636,0 -0.877891,-0.2143 -1.0275,-0.5777 -0.06545,-0.1677 -0.0748,-0.2514 -0.0748,-0.7453 l 0,-1.8353 0.35038,0"></path><path id="m" d="m 45.72112,17.8371 0.873481,2.7251 0.877892,-2.7251 0.527511,0 0,3.1071 -0.331326,0 0,-2.7576 -0.896593,2.7576 -0.350557,0 -0.896593,-2.7576 0,2.7576 -0.331503,0 0,-3.1071 0.527688,0"></path><path id="J" d="m 3.997442,3.1045 0,8.0812 c 0,1.8718 -0.06104,2.3284 -0.366259,2.8912 -0.472819,0.8372 -1.418988,1.2177 -3.05145,1.2177 -0.12191,0 -0.320388,0 -0.579733,-0.015 l 0,-1.6284 0.335561,0 c 0.884948,-0.015 1.358121,-0.1524 1.541074,-0.4719 0.152608,-0.2283 0.16778,-0.4563 0.16778,-1.9478 l 0,-8.1268 1.953027,0"></path><path id="Ãœ" d="m 13.227832,1.1109 c 0,0.624 -0.503165,1.1263 -1.113772,1.1263 -0.625604,0 -1.128945,-0.5023 -1.128945,-1.1108 0,-0.6389 0.503341,-1.1264 1.128945,-1.1264 0.610607,0 1.113772,0.5022 1.113772,1.1109 z m -2.837623,0 c 0,0.624 -0.503517,1.1263 -1.113949,1.1263 C 8.650304,2.2372 8.147316,1.7349 8.147316,1.1264 8.147316,0.4875 8.650304,0 9.27626,0 c 0.610432,0 1.113949,0.5022 1.113949,1.1109 z m -1.77025,1.9936 0,5.8287 c 0,1.0195 0.03034,1.3548 0.183482,1.75 0.274341,0.6848 0.960988,1.0808 1.891807,1.0808 1.083428,0 1.769722,-0.4869 1.983372,-1.4002 0.07657,-0.3198 0.09139,-0.6241 0.09139,-1.4306 l 0,-5.8287 1.953027,0 0,5.8592 c 0,1.461 -0.07604,1.9632 -0.396428,2.6023 -0.579909,1.2024 -1.922329,1.8871 -3.63136,1.8871 -1.708678,0 -3.051626,-0.6847 -3.63136,-1.8871 C 6.743501,10.9269 6.667462,10.4247 6.667462,8.9637 l 0,-5.8592 1.952498,0"></path><path id="L" d="m 19.452995,3.1045 0,8.4921 4.409042,0 0,1.6587 -6.407939,0 0,-10.1508 1.998897,0"></path><path id="I" d="m 25.693155,13.2553 1.952815,0 0,-10.1507 -1.952815,0 0,10.1507 z"></path><path id="C" d="M 36.174929,6.4072 C 35.991799,5.2352 35.320325,4.596 34.282945,4.596 c -1.510553,0 -2.456368,1.385 -2.456368,3.6067 0,2.222 0.945815,3.5768 2.47154,3.5768 1.190165,0 1.831294,-0.746 1.953204,-2.2831 l 1.739199,0 c -0.122086,2.6173 -1.342948,3.9567 -3.616363,3.9567 -2.791753,0 -4.576999,-2.0544 -4.576999,-5.235 0,-1.8566 0.549388,-3.3026 1.617466,-4.2614 0.778211,-0.6846 1.769721,-1.0501 2.868321,-1.0501 2.166678,0 3.448407,1.248 3.585489,3.5006 l -1.693505,0"></path><path id="H" d="m 45.985228,7.1527 0,-4.0482 1.952851,0 0,10.1508 -1.952851,0 0,-4.4894 -4.042783,0 0,4.4894 -1.953204,0 0,-10.1508 1.953204,0 0,4.0482 4.042783,0"></path></g></svg></a></template><script>var LogoElement=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this._addListners()}},{key:'_addListners',value:function(){this.addEventListener('mouseenter',this._addClass.bind(this)),this.addEventListener('mouseleave',this._removeClass.bind(this))}},{key:'_addClass',value:function(){this._circles||(this._circles=Polymer.dom(this.root).querySelectorAll('.circle')),requestAnimationFrame(function(){Array.prototype.forEach.call(this._circles,function(e){e.classList&&e.classList.add('animated')})}.bind(this))}},{key:'_removeClass',value:function(){this._circles&&requestAnimationFrame(function(){Array.prototype.forEach.call(this._circles,function(e){e.classList&&e.classList.remove('animated')})}.bind(this))}}],[{key:'is',get:function(){return'logo-element'}},{key:'properties',get:function(){return{href:{type:String}}}}]),b}(Polymer.Element);customElements.define(LogoElement.is,LogoElement);</script></dom-module><dom-module id="toggle-button" assetpath="components/"><template strip-whitespace=""><style>:host{@apply --layout-inline;@apply --layout-start-justified;@apply --layout-center;position:relative;outline:none;margin:0em;box-sizing:border-box;text-align:center;float:left;clear:both;padding:0.75em 1.5em;cursor:pointer;}:host([disabled]){pointer-events:none;}.bar{position:absolute;height:100%;width:100%;border-radius:0.5em;pointer-events:none;opacity:0.75;transition:background-color linear 100ms;background-color:var(--toggle-button-unchecked-bar-color, #000000);@apply --toggle-button-unchecked-bar);}.button{position:absolute;top:-0.125em;left:0;height:1.25em;width:1.25em;border-radius:50%;box-shadow:0 1px 5px 0 rgba(0, 0, 0, 0.6);transition:-webkit-transform linear 100ms, background-color linear 100ms;transition:transform linear 100ms, background-color linear 100ms;will-change:transform;background-color:var(--toggle-button-unchecked-button-color, --paper-grey-50);@apply --toggle-button-unchecked-button;}.button.dragging{-webkit-transition:none;transition:none;}:host([checked]:not([disabled])) .bar{opacity:0.5;background-color:var(--toggle-button-checked-bar-color, --primary-color);@apply --toggle-button-checked-bar;}:host([disabled]) .bar{background-color:#000;opacity:0.2;}:host([checked]) .button{-webkit-transform:translate(1.25em, 0);transform:translate(1.25em, 0);}:host([checked]:not([disabled])) .button{background-color:var(--toggle-button-checked-button-color, --primary-color);@apply --toggle-button-checked-button;}:host([disabled]) .button{background-color:var(--disabled-text-color);opacity:1;}#ink{position:absolute;top:-1.125em;left:-1.125em;right:auto;bottom:auto;width:3.5em;height:3.5em;opacity:0.8;pointer-events:none;color:var(--toggle-button-unchecked-ink-color, --primary-text-color);}:host([checked]) #ink{color:var(--toggle-button-checked-ink-color, --primary-color);}.container{display:inline-block;position:relative;width:2.5em;height:1em;margin:0.25em 1px;}.content{position:relative;display:inline-block;vertical-align:middle;padding-left:0.75em;pointer-events:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:inherit;}::slotted(iron-icon){margin-right:0.75em;}[hidden]{display:none !important;}</style><slot name="icon"></slot><section class="container"><paper-ripple id="ink" class="circle"></paper-ripple><section id="toggleBar" class="bar"></section><section id="toggleButton" class="button"></section></section><section class="content"><slot></slot></section></template><script>var ToggleButton=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),Polymer.Gestures.addListener(this,'tap',function(f){return d._onclicked(f)}),Polymer.Gestures.addListener(this,'track',function(f){return d._ontrack(f)})}},{key:'disconnectedCallback',value:function(){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this),Polymer.Gestures.removeListener(this,'tap',function(f){return d._onclicked(f)}),Polymer.Gestures.removeListener(this,'track',function(f){return d._ontrack(f)})}},{key:'_ontrack',value:function(d){var f=d.detail;'start'===f.state?this._trackStart(f):'track'===f.state?this._trackMove(f):'end'===f.state&&this._trackEnd(f)}},{key:'_trackStart',value:function(){this._width=this.$.toggleBar.offsetWidth/2,this._trackChecked=this.checked,this.$.toggleButton.classList.add('dragging')}},{key:'_trackMove',value:function(d){var f=d.dx;this._x=Math.min(this._width,Math.max(0,this._trackChecked?this._width+f:f)),this.translate3d(this._x+'px',0,0,this.$.toggleButton)}},{key:'_trackEnd',value:function(){this.$.toggleButton.classList.remove('dragging'),this.transform('',this.$.toggleButton)}},{key:'_onclicked',value:function(){this.checked=!this.checked}}],[{key:'is',get:function(){return'toggle-button'}},{key:'properties',get:function(){return{checked:{type:Boolean,notify:!0,reflectToAttribute:!0},role:{type:String,reflectToAttribute:!0,readOnly:!0,value:'button'},tabindex:{type:Number,reflectToAttribute:!0,value:0}}}}]),b}(Polymer.Element);customElements.define(ToggleButton.is,ToggleButton);</script></dom-module><dom-module id="svg-data" assetpath="data/"><script>var SVGData=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_fetchSvgSource',value:function(d){if(d){var h=d.split('/').filter(function(j){return''!==j});if(2===h.length){var i=h[0]+'+'+h[1]+'+svgSource.json';this._fetch(i,'GET','include','json','data').catch(function(j){console.log(j)})}else this.dispatchEvent(new CustomEvent('data-error',{bubbles:!0,composed:!0,detail:'Failed to load svg-data'}))}}}],[{key:'is',get:function(){return'svg-data'}},{key:'properties',get:function(){return{urlPrefix:{type:String,value:'/data/'},loggedIn:{type:Boolean},room:{type:String},data:{type:Object,value:function(){return{}},notify:!0}}}},{key:'observers',get:function(){return['_fetchSvgSource(room, loggedIn)']}}]),b}(WebvisualMixins.FetchMixin(Polymer.Element));customElements.define(SVGData.is,SVGData);</script></dom-module><dom-module id="device-socket-data" assetpath="data/"><script>var DeviceSocketData=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_connect',value:function(d,e){d&&e?this._createSocketConnection(this.locationHost,this.nameSpace):(this.socketStatus='sync-problem',Webvisual.disconnect())}},{key:'_createSocketConnection',value:function(d,e){var f=this;d&&'sync-disabled'!==this.socketStatus&&Webvisual&&setTimeout(function(){Webvisual.assignStatusNotifications(f),Webvisual.createSocketConnection(d,e),f.socketRoom&&f.connect(f.socketRoom)},0)}},{key:'connect',value:function(d){return d=d||this.socketRoom,d?void('/'===d.substring(0,1)&&(d=d.slice(1,d.length)),Webvisual.setupConnection(d),'connected'!==this.socketStatus&&(this.socketStatus='connect')):void(this.socketStatus='sync-problem')}},{key:'disconnect',value:function(){this.socketStatus='sync-disabled',Webvisual.disconnect()}}],[{key:'is',get:function(){return'device-socket-data'}},{key:'properties',get:function(){return{locationHost:{type:String,value:window.location.origin},nameSpace:{type:String},socketRoom:{type:String,observer:'connect'},socketStatus:{type:String,value:'connect',notify:!0},lazyConnect:{type:Boolean},loggedIn:{type:Boolean}}}},{key:'observers',get:function(){return['_connect(loggedIn, lazyConnect)']}}]),b}(Polymer.Element);customElements.define(DeviceSocketData.is,DeviceSocketData);</script></dom-module><dom-module id="device-caption" unresolved=""><template><style>:host{font-family:"FiraSans-Regular", sans-serif;@apply --layout-horizontal;@apply --layout-wrap;@apply --layout-center;@apply --layout-self-stretch;box-sizing:border-box;height:auto;width:auto;min-width:4em;font-size:1em;line-height:1.4;position:relative;background-color:var(--caption-background, white);color:var(--caption-color, #252525);padding:var(--caption-padding, 0.4em 0.5em);margin:0;}.captions{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0;margin:0;font-size:0.6em;word-break:break-all;text-overflow:clip;}.captions:after{content:attr(title);}.captions:first-of-type{font-weight:bold;font-size:0.9em;}.captions:nth-of-type(2){font-size:0.8em;}.captions:nth-of-type(3){font-size:0.7em;}:host([vertical]){@apply --layout-vertical;@apply --layout-center-justified;@apply --layout-start;}:host(:not([vertical])) .captions{margin-left:0.35em;@apply --layout-self-baseline;}:host([vertical]) .captions{width:100%;@apply --layout-self-start;}[hidden]{display:none !important;}:host([unresolved]){min-width:6em;min-height:initial;}:host([unresolved][vertical]){min-width:initial;min-height:4em;}</style><template is="dom-repeat" items="[[reducedCaptionKeys]]" as="captionKey"><section class="captions" hidden$="[[isEmptyCaption(captionKey, groupedKey)]]">[[getKey(captionKey, groupedKey, keys.*)]]</section></template></template><script>var CaptionElement=function(a){function b(){babelHelpers.classCallCheck(this,b);var c=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c.setAttribute('unresolved',''),c}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'device-caption'}},{key:'properties',get:function(){return{keys:{type:Object,value:function(){return{}},notify:!0},groupedKey:{type:String,value:''},onlyGroupedKey:{type:Boolean,value:!1},withoutGroupedKey:{type:Boolean,value:!1},reducedCaptionKeys:{type:Array,computed:'_computeReducedCaptionKeys(groupedKey, keys, onlyGroupedKey, withoutGroupedKey)'},vertical:{type:Boolean,reflectToAttribute:!0}}}}]),babelHelpers.createClass(b,[{key:'getKey',value:function(d){return this.keys&&this.keys[d]}},{key:'_computeReducedCaptionKeys',value:function(d,e){var h=Object.keys(e||{});if(0===h.length)return[];var i=[];return!0===this.withoutGroupedKey?i=h.filter(function(j){return d!==j}):!0===this.onlyGroupedKey&&(i=h.filter(function(j){return d===j})),this.hasAttribute('unresolved')&&this.removeAttribute('unresolved'),0===i.length?h:i}},{key:'isEmptyCaption',value:function(d){return!this.keys[d]}}]),b}(Polymer.Element);customElements.define(CaptionElement.is,CaptionElement);</script></dom-module><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.DeviceMixin=function(c){return function(d){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return babelHelpers.inherits(e,d),babelHelpers.createClass(e,[{key:'connectedCallback',value:function(){babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),'connectedCallback',this).call(this),this._linkElement(this.item,this.noLink)}},{key:'disconnectedCallback',value:function(){babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),'disconnectedCallback',this).call(this),this._unlinkElement(),this.clearValues()}},{key:'_linkElement',value:function(g,h){var j=this;if(g&&g.mount){if(this._olditem){if(g.mount===this._olditem.mount&&!h)return;this._unlinkElement(this._olditem)}return h?void this._unlinkElement(g):void(window.Webvisual&&window.Webvisual.assignElement&&(window.Webvisual.assignElement(this),this._olditem=g,this.clearValues(),this.reset(),this.requestValues(null,null,this.viewLength).then(function(k){for(var l in k)if(l===j.item.mount){j.insertValues(k[l]);break}}).catch(function(){})))}}},{key:'_unlinkElement',value:function(g){g=g||this.item||this._olditem,window.Webvisual&&Webvisual.retractElement&&g&&g.mount&&(window.Webvisual.retractElement(this,g),this._olditem=null)}},{key:'getElement',value:function(){return this.properties}},{key:'computeDate',value:function(g){return g?864E5>Math.abs(Date.now()-g)?new Date(g).toLocaleTimeString():new Date(g).toLocaleString():''}},{key:'computeValue',value:function(g,h){return this.item&&this.item.isIndicatorLamp?h?'\u2717':'\u2713':g}},{key:'insertValues',value:function(g,h){var j=this;if(void 0!==g){var h=h||this.viewLength;if(this._initialized||(this._initialized=!0),!h)this.item&&!0===this.item.exceedable&&g.forEach(function(l){j.checkExceedingState(l)}),this.storeInside&&(this.values=this.values.concat(g)),this.renderInsertedValues(g);else{var k=g.slice(g.length-h,g.length);this.item&&!0===this.item.exceedable&&k.forEach(function(l){j.checkExceedingState(l)}),this.storeInside&&(this.values=this.values.concat(k)),this.renderInsertedValues(k),k.length=0}g.length=0}}},{key:'spliceValues',value:function(g){g&&(!0===this.storeInside&&(this.values=this.values.filter(function(h){return-1===g.indexOf(h)}),this.notifyPath('values')),this.renderSplicedValues&&this.renderSplicedValues(g))}},{key:'resetValues',value:function(g){this.values=g,this.notifyPath('values'),this.renderInsertedValues(this.values)}},{key:'clearValues',value:function(){this.values=[],this.notifyPath('values')}},{key:'requestValues',value:function(g,h,j){var k=this;if(!(this.item&&this.item.mount))return new Promise(function(m,o){o()});j=j||this.viewLength||1;var l={target:'cache',operation:'request',args:{mounts:[this.item.mount],from:null,to:null,length:j||1}};return window.Webvisual?new Promise(function(m){window.Webvisual.request(l,m)}):new Promise(function(m,o){k.values?m(k.values.slice(k.values.length-j,k.values.length)):o()})}},{key:'requestRange',value:function(g){var h=this;if(!(this.item&&this.item.mount))return new Promise(function(k){k([void 0,void 0])});var j={target:'cache',operation:'range',forced:!0,args:{mounts:[this.item.mount],key:g}};return!this.storeInside&&window.Webvisual?new Promise(function(k){window.Webvisual.request(j,k)}):new Promise(function(k){if(h.values&&h.values.length){var m=h.min(h.values,g),o=h.max(h.values,g);void 0===m&&void 0===o||k([m,o])}k([void 0,void 0])})}},{key:'min',value:function(g,h){for(var k,l,j=-1,m=g.length;++j<m;)if(null!==(l=g[j][h])&&l>=l){k=l;break}for(;++j<m;)null!==(l=g[j][h])&&k>l&&(k=l);return k}},{key:'max',value:function(g,h){for(var k,l,j=-1,m=g.length;++j<m;)if(null!==(l=g[j][h])&&l>=l){k=l;break}for(;++j<m;)null!==(l=g[j][h])&&k<l&&(k=l);return k}},{key:'renderInsertedValues',value:function(){}},{key:'renderSplicedValues',value:function(){}},{key:'renderClearing',value:function(){}},{key:'checkExceedingState',value:function(g){this.item&&!1!==this.item.exceedable&&void 0!==g&&(0===g.state?!0===this.isExceeding&&(this.isExceeding=!1):!0!==this.isExceeding&&(this.isExceeding=!0,!1===this.hasExceeded&&this.set('hasExceeded',!0)))}},{key:'_exceedingChanged',value:function(g){this.item&&!0===this.item.exceedable&&this.dispatchEvent(new CustomEvent('exceeding',{bubbles:!0,composed:!0,detail:{item:this.item,value:g}}))}},{key:'_hasExceededChanged',value:function(){}},{key:'reset',value:function(){this.resetColor&&this.resetColor(),babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),'reset',this)&&babelHelpers.get(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),'reset',this).call(this),this.isExceeding=!1,this.hasExceeded=!1,this._initialized=!1,this.renderClearing()}}],[{key:'properties',get:function(){return{item:{type:Object},values:{type:Array,value:function(){return[]}},isExceeding:{type:Boolean,value:!1},hasExceeded:{type:Boolean,value:!1},storeInside:{type:Boolean},viewLength:{type:Number,value:1},noLink:{type:Boolean,value:!1},_initialized:{type:Boolean},isDevice:{type:Boolean,value:!0,reflectToAttribute:!0,readOnly:!0}}}},{key:'observers',get:function(){return['_exceedingChanged(isExceeding)','_hasExceededChanged(hasExceeded)','_linkElement(item, noLink)']}}]),e}(c)};</script><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.ColorMixin=function(a){return function(b){function c(){babelHelpers.classCallCheck(this,c);var d=babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return d._createPropertyObserver('item.color','setColor',!0),d}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'setColor',value:function(e){void 0!==e&&(this.updateStyles({'--device-color':e||null}),this.item.isIndicatorLamp?this.updateStyles({'--device-state-inrange-color':null}):this.updateStyles({'--device-state-inrange-color':e||null})),this.updateStyles()}},{key:'resetColor',value:function(){this.setColor(this.item&&this.item.color||this.color||'')}},{key:'getComputedStyleValue',value:function(e){return window.ShadyCSS?ShadyCSS.getComputedStyleValue(this,e):getComputedStyle(this).getPropertyValue(e)}}]),c}(a)};</script><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.CheckedAndSelectMixin=function(a){return function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'connectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'connectedCallback',this).call(this)}},{key:'disconnectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'disconnectedCallback',this).call(this),this._checkedChanged(!1,this.checked),this._removeTouchListeners()}},{key:'_addTouchListeners',value:function(f,g,h){var i=this;if(void 0!==g)if(f)this._removeTouchListeners();else{var j=this.eventTarget;j=j?this.$[j]:this,h?(Polymer.Gestures.addListener(j,'down',function(k){return i._handleTouch(k)}),Polymer.Gestures.addListener(j,'up',function(k){return i._handleTouch(k)})):g?Polymer.Gestures.addListener(j,'tap',function(){return i.select()}):this._removeTouchListeners()}}},{key:'_removeTouchListeners',value:function(){var f=this,g=this.eventTarget;g=g?this.$[g]:this,Polymer.Gestures.removeListener(g,'down',function(h){return f._handleTouch(h)}),Polymer.Gestures.removeListener(g,'up',function(h){return f._handleTouch(h)}),Polymer.Gestures.removeListener(g,'tap',function(){return f.select()})}},{key:'_handleTouch',value:function(f){'down'===f.type?this._lastEvent=f:this._lastEvent&&f.timeStamp-(this._lastEvent.timeStamp||performance.now())>this.tapDuration?(this.dispatchEvent(new CustomEvent(this.tapEvent,{bubbles:!0,composed:!0,detail:{item:this.item}})),!1===this.checked&&this.select(!0)):this.select()}},{key:'_checkedChanged',value:function(){this.selectable&&this.selectEvent&&!this._preventSelectEvent&&this.dispatchEvent(new CustomEvent(this.selectEvent,{bubbles:!0,composed:!0,detail:{item:this.item,value:this.checked}}))}},{key:'select',value:function(f,g){!0===this.selectable&&(this._preventSelectEvent=g,void 0===f?!0===this.toggles?(this.checked=!0!==this.checked,this.active=!this.active):this.checked=!0:this.checked=f)}},{key:'deselect',value:function(){!0===this.checked&&!0===this.selectable&&(this.checked=!1)}},{key:'reset',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'reset',this)&&babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'reset',this).call(this),this.deselect()}}],[{key:'properties',get:function(){return{active:{type:Boolean,notify:!0,reflectToAttribute:!0},selectable:{type:Boolean,value:!1,reflectToAttribute:!0},checked:{type:Boolean,reflectToAttribute:!0,notify:!0,observer:'_checkedChanged'},toggles:{type:Boolean,value:!0},tapEvent:{type:String},tapDuration:{type:Number,value:300},selectEvent:{type:String,value:'item-select'},disabled:{type:Boolean,value:!1},eventTarget:{type:String}}}},{key:'observers',get:function(){return['_addTouchListeners(disabled, selectEvent, tapEvent)']}}]),c}(a)};</script><dom-module id="device-sign"><template strip-whitespace=""><style>:host{@apply --layout-vertical;position:relative;font-family:'FiraSans-Regular', sans-serif;cursor:pointer;pointer-events:all;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);font-size:1em;line-height:1;width:auto;min-width:4em;min-height:4em;align-self:stretch;background-color:var(--device-color);color:var(--device-text-color);will-change:background-color;transition:background-color 250ms cubic-bezier(0.3, 0, 0.15, 1);}:host([state="0"]){background-color:var(--device-state-inrange-color);color:var(--device-state-inrange-text-color);}:host([state="1"]){background-color:var(--device-state-exceeds-color);color:var(--device-state-exceeds-text-color);}:host([state="-1"]){background-color:var(--device-state-deceeds-color);color:var(--device-state-deceeds-text-color);}.value{@apply --layout-fit;@apply --layout-inline;@apply --layout-center-center;padding:0.3em 0.3em 0.5em 0.3em;box-sizing:border-box;overflow:hidden;}.value::before{@apply --layout-fit;content:"";pointer-events:none;background:linear-gradient(180deg,rgba(255,255,255,0),rgba(255,255,255,0.12),rgba(255,255,255,0));}:host([state="1"]) .value::before, :host([state="-1"]) .value::before{will-change:transform;animation-name:sign-background-rotate;animation-duration:1800ms;animation-fill-mode:both;animation-timing-function:linear;animation-iteration-count:infinite;}@keyframes sign-background-rotate{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}#valueSection{@apply --layout-inline;@apply --layout-center-center;max-width:100%;text-align:center;}#value{font-size:0.9em;padding-right:0.2em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}#unitSection{font-size:0.65em;}#dateSection{position:absolute;pointer-events:none;font-size:0.55em;bottom:0;width:100%;padding:0.5em;box-sizing:border-box;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;}svg#icon{height:1.5em;width:1.5em;fill:currentColor;}#ripple{pointer-events:none;color:#1d1d1d;border-radius:inherit;}#bookmark{padding:4px;cursor:pointer;outline:none;position:absolute;right:-5px;top:-5px;height:1.25em;width:1.25em;fill:#fff;opacity:0.9;mix-blend-mode:hard-light;will-change:transform, opacity;transform-origin:center;transition:transform 300ms cubic-bezier(0.3, 0, 0.1, 1), opacity 300ms cubic-bezier(0.3, 0, 0.1, 1);}#bookmark:hover{transform:scale(1.4);opacity:1;}#checkbox{fill:#fff;cursor:pointer;outline:none;pointer-events:none;position:absolute;opacity:0.6;right:0;bottom:0;height:1.25em;width:1.25em;mix-blend-mode:exclusion;}[hidden]{pointer-events:none;display:none !important;}</style><div class="value"><template is="dom-if" if="[[selectable]]"><paper-ripple id="ripple" recenters=""></paper-ripple></template><div id="valueSection" hidden$="[[item.isIndicatorLamp]]"><span id="value"></span> <span id="unitSection">[[item.unit]]</span></div><svg id="icon" hidden$="[[!item.isIndicatorLamp]]" aria-label="Alarm" viewBox="0 0 24 24"><g id="error-outline" hidden$="[[!isExceeding]]"><path d="M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"></path></g></svg></div><span id="dateSection" hidden$="[[!showDate]]"></span> <svg id="bookmark" hidden$="[[!hasExceeded]]" viewBox="0 0 24 24" on-tap="_requestExceedingDetails"><g id="announcement"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"></path></g></svg><template is="dom-if" if="[[checked]]"><svg id="checkbox" viewBox="0 0 24 24"><g id="playlist-add-check"><path d="M14 10H2v2h12v-2zm0-4H2v2h12V6zM2 16h8v-2H2v2zm19.5-4.5L23 13l-6.99 7-4.51-4.5L13 14l3.01 3 5.49-5.5z"></path></g></svg></template></template><script>var DeviceSign=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'insertValues',value:function(d){var f=this;d&&d.length?setTimeout(function(){f._initialized||(f._initialized=!0);var g=d[d.length-1];f.item.isIndicatorLamp||(f.$.value.textContent=f.computeValue(g.y)),f.showDate&&(f.$.dateSection.textContent=f.computeDate(g.x)),f.item.exceedable&&(f.checkExceedingState(g),(!f.hasAttribute('state')||f.state!==g.state)&&f.setAttribute('state',g.state))},0):this.renderClearing()}},{key:'computeValue',value:function(d){return d}},{key:'renderClearing',value:function(){this._initialized||(this.hasExceeded=!1,this.isExceeding=!1),this.$.value.textContent='',this.$.dateSection.textContent='',this.setAttribute('state',null)}},{key:'_requestExceedingDetails',value:function(){this.dispatchEvent(new CustomEvent('request-exceeding-details',{bubbles:!0,composed:!0,detail:{item:this.item}}))}}],[{key:'is',get:function(){return'device-sign'}},{key:'properties',get:function(){return{showDate:{type:Boolean,value:!1},viewLength:{type:Number,value:1}}}}]),b}(WebvisualMixins.CheckedAndSelectMixin(WebvisualMixins.ColorMixin(WebvisualMixins.DeviceMixin(Polymer.Element))));customElements.define(DeviceSign.is,DeviceSign);</script></dom-module><dom-module id="device-checkbox"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;transition:background-color 200ms ease;box-sizing:border-box;cursor:pointer;pointer-events:all;--calculated-box-size:var(--box-size, 20px);--calculated-box-ink-size:var(--box-ink-size, -1px);}#content{display:inline-flex;width:100%;position:relative;line-height:0;padding:0.25em 0.5em;}:host::before{position:absolute;content:"";top:0;left:0;right:0;bottom:0;transition:background-color 200ms cubic-bezier(0.6, 1, 0.3, 1);@apply --checkbox-unchecked-background;}:host([checked])::before{@apply --checkbox-checked-background;}:host(:not([checked])){color:var(--checkbox-unchecked-color);}:host([checked]){color:var(--checkbox-checked-color);}:host(:focus)::before{outline:1px solid var(--bright-primary-color);}#boxContainer{display:inline-block;align-self:center;position:relative;line-height:0;-webkit-tap-highlight-color:transparent;width:var(--calculated-box-size);height:var(--calculated-box-size);min-width:var(--calculated-box-size);margin:var(--box-margin, initial);vertical-align:var(--box-vertical-align, middle);background-color:var(--box-unchecked-background-color, transparent);}#ripple{position:absolute;top:calc(0px - (var(--calculated-box-ink-size) - var(--calculated-box-size)) / 2);left:calc(0px - (var(--calculated-box-ink-size) - var(--calculated-box-size)) / 2);width:var(--calculated-box-ink-size);height:var(--calculated-box-ink-size);color:var(--box-unchecked-ink-color, var(--primary-text-color));opacity:0.6;}#box{opacity:0.75;position:relative;box-sizing:border-box;position:relative;height:100%;border:solid 2px;border-color:var(--checkbox-border, var(--primary-text-color));border-radius:2px;background-color:rgba(255, 255, 255, 0.9);-webkit-transition:background-color 150ms, border-color 150ms, opacity 150ms;transition:background-color 150ms, border-color 150ms, opacity 150ms;}#arrow{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-box-size));border-bottom-width:calc(2/15 * var(--calculated-box-size));border-color:var(--box-arrow-color, white);-webkit-transform-origin:97% 87%;transform-origin:97% 87%;-webkit-transform:scale(0, 0) rotate(22.5deg);transform:scale(0, 0) rotate(67.5deg);box-sizing:content-box;}#box{background-color:var(--device-color);}:host([state="0"]) #box{background-color:var(--device-state-inrange-color, var(--device-color));}:host([checked][state="1"]) #box{border-color:var(--device-state-exceeds-color);}:host([checked][state="-1"]) #box{border-color:var(--device-state-deceeds-color);}:host(:not([checked])[state="1"]) #box{background-color:var(--device-state-exceeds-color);}:host(:not([checked])[state="-1"]) #box{background-color:var(--device-state-deceeds-color);}#ripple{color:var(--device-color);}:host([state="0"]) #ripple{color:var(--device-state-inrange-color);}:host([state="1"]) #ripple{color:var(--device-state-exceeds-color);}:host([state="-1"]) #ripple{color:var(--device-state-deceeds-color);}:host([checked]) #box{opacity:1;}:host([checked]) #arrow{-webkit-animation:arrow-expand 250ms ease-out forwards;animation:arrow-expand 250ms ease-out forwards;}@-webkit-keyframes arrow-expand{0%{-webkit-transform:scale(0, 0) rotate(67.5deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes arrow-expand{0%{transform:scale(0, 0) rotate(67.5deg);}100%{transform:scale(1, 1) rotate(45deg);}}:host([disabled]) #box{opacity:0.5;border-color:var(--box-unchecked-color, --primary-text-color);}:host([disabled][checked]) #box{background-color:var(--disabled-text-color, --primary-text-color);opacity:0.5;}[hidden]{display:none !important;}</style><div id="content"><div id="boxContainer"><template is="dom-if" if="[[selectable]]"><paper-ripple id="ripple" center="" class="circle"></paper-ripple></template><section id="box"><section id="arrow" hidden$="[[!checked]]"></section></section></div><slot></slot></div></template><script>var DeviceCheckbox=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'insertValues',value:function(d){if(d&&d.length){this._initialized||(this._initialized=!0);var e=d[d.length-1];this.item.exceedable&&(this.checkExceedingState(e),(!this.hasAttribute('state')||this.state!==e.state)&&this.setAttribute('state',e.state))}else this.renderClearing()}},{key:'renderClearing',value:function(){this._initialized=!1,this.setAttribute('state',null)}},{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),Polymer.RenderStatus.afterNextRender(this,function(){var d=this.getComputedStyleValue('--calculated-box-ink-size').trim();if(!d||'-1px'===d){var e=parseFloat(this.getComputedStyleValue('--calculated-box-size').trim())||20,f=Math.floor(8/3*e);f%2!==e%2&&f++,this.updateStyles({'--box-ink-size':f+'px'})}})}}],[{key:'is',get:function(){return'device-checkbox'}},{key:'properties',get:function(){return{viewLength:{type:Number,value:1},showDate:{type:Boolean}}}}]),b}(WebvisualMixins.CheckedAndSelectMixin(WebvisualMixins.ColorMixin(WebvisualMixins.DeviceMixin(Polymer.Element))));customElements.define(DeviceCheckbox.is,DeviceCheckbox);</script></dom-module><dom-module id="iron-list" assetpath="../bower_components/iron-list/"><template><style>:host{display:block;}@media only screen and (-webkit-max-device-pixel-ratio: 1){:host{will-change:transform;}}#items{@apply --iron-list-items-container;position:relative;}:host(:not([grid])) #items > ::slotted(*){width:100%;}#items > ::slotted(*){box-sizing:border-box;margin:0;position:absolute;top:0;will-change:transform;}</style><array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector><div id="items"><slot></slot></div></template></dom-module><script>(function(){var a,b,c,d,f=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),g=f&&8<=f[1],h=3,j='-10000px',m=-100,n=null!=Polymer.flush,o=n?Polymer.Async.animationFrame:0,p=n?Polymer.Async.idlePeriod:1,q=n?Polymer.Async.microTask:2;Polymer.OptionalMutableDataBehavior||(Polymer.OptionalMutableDataBehavior={}),Polymer((c={is:'iron-list',properties:{items:{type:Array},maxPhysicalCount:{type:Number,value:500},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},selectedAs:{type:String,value:'selected'},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:'_gridChanged'},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:['_itemsChanged(items.*)','_selectionEnabledChanged(selectionEnabled)','_multiSelectionChanged(multiSelection)','_setOverflow(scrollTarget, scrollOffset)'],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior,Polymer.OptionalMutableDataBehavior],_ratio:0.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var r=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return r-this._viewportHeight},get _itemsParent(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var r=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,r-this._physicalCount)},set _virtualStart(r){r=this._clamp(r,0,this._maxVirtualStart),this.grid&&(r-=r%this._itemsPerRow),this._virtualStartVal=r},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(r){r%=this._physicalCount,0>r&&(r=this._physicalCount+r),this.grid&&(r-=r%this._itemsPerRow),this._physicalStartVal=r},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(r){this._physicalCountVal=r},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return this.grid?this._estRowsInView*this._rowHeight*this._maxPages:0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var r=this._firstVisibleIndexVal;if(null==r){var s=this._physicalTop+this._scrollOffset;r=this._iterateItems(function(t,u){return s+=this._getPhysicalSizeIncrement(t),s>this._scrollPosition?this.grid?u-u%this._itemsPerRow:u:this.grid&&this._virtualCount-1===u?u-u%this._itemsPerRow:void 0})||0,this._firstVisibleIndexVal=r}return r},get lastVisibleIndex(){var r=this._lastVisibleIndexVal;if(null==r){if(this.grid)r=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var s=this._physicalTop+this._scrollOffset;this._iterateItems(function(t,u){s<this._scrollBottom&&(r=u),s+=this._getPhysicalSizeIncrement(t)})}this._lastVisibleIndexVal=r}return r},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)}},a='_itemsParent',d={},d[a]=d[a]||{},d[a].get=function(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},b='_scrollOffset',d[b]=d[b]||{},d[b].get=function(){return this._scrollerPaddingTop+this.scrollOffset},babelHelpers.defineProperty(c,'ready',function(){this.addEventListener('focus',this._didFocus.bind(this),!0)}),babelHelpers.defineProperty(c,'attached',function(){this._debounceRender(this._render,o),this.listen(this,'iron-resize','_resizeHandler'),this.listen(this,'keydown','_keydownHandler')}),babelHelpers.defineProperty(c,'detached',function(){this.unlisten(this,'iron-resize','_resizeHandler'),this.unlisten(this,'keydown','_keydownHandler')}),babelHelpers.defineProperty(c,'_setOverflow',function(s){this.style.webkitOverflowScrolling=s===this?'touch':'',this.style.overflowY=s===this?'auto':'',this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounceRender(this._render,o)}),babelHelpers.defineProperty(c,'updateViewportBoundaries',function(){var s=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(s['padding-top'],10),this._isRTL=!('rtl'!==s.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()}),babelHelpers.defineProperty(c,'_scrollHandler',function(){var s=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),t=s-this._scrollPosition,u=0<=t;if(this._scrollPosition=s,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&0<this._physicalSize){t-=this._scrollOffset;var w=Math.round(t/this._physicalAverage)*this._itemsPerRow;this._virtualStart+=w,this._physicalStart+=w,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()}else if(0<this._physicalCount){var z=this._getReusables(u);u?(this._physicalTop=z.physicalTop,this._virtualStart+=z.indexes.length,this._physicalStart+=z.indexes.length):(this._virtualStart-=z.indexes.length,this._physicalStart-=z.indexes.length),this._update(z.indexes,u?null:z.indexes),this._debounceRender(this._increasePoolIfNeeded.bind(this,0),q)}}),babelHelpers.defineProperty(c,'_getReusables',function(s){var t,u,w,z,A=[],B=this._hiddenContentSize*this._ratio,C=this._virtualStart,D=this._virtualEnd,E=this._physicalCount,F=this._physicalTop+this._scrollOffset,G=this._physicalBottom+this._scrollOffset,H=this._scrollTop,I=this._scrollBottom;for(s?(t=this._physicalStart,u=this._physicalEnd,w=H-F):(t=this._physicalEnd,u=this._physicalStart,w=G-I);z=this._getPhysicalSizeIncrement(t),w-=z,!(A.length>=E||w<=B);)if(s){if(D+A.length+1>=this._virtualCount)break;if(F+z>=H-this._scrollOffset)break;A.push(t),F+=z,t=(t+1)%E}else{if(0>=C-A.length)break;if(F+this._physicalSize-z<=I)break;A.push(t),F-=z,t=0===t?E-1:t-1}return{indexes:A,physicalTop:F-this._scrollOffset}}),babelHelpers.defineProperty(c,'_update',function(s,t){if(!(s&&0===s.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(s),this._updateMetrics(s),t)for(;t.length;){var u=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(u)}this._positionItems(),this._updateScrollerSize()}}),babelHelpers.defineProperty(c,'_createPool',function(s){this._ensureTemplatized();var t,u,w=Array(s);for(t=0;t<s;t++)u=this.stamp(null),w[t]=u.root.querySelector('*'),this._itemsParent.appendChild(u.root);return w}),babelHelpers.defineProperty(c,'_isClientFull',function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition}),babelHelpers.defineProperty(c,'_increasePoolIfNeeded',function(s){var t=this._clamp(this._physicalCount+s,h,this._virtualCount-this._virtualStart);if(t=this._convertIndexToCompleteRow(t),this.grid){var u=t%this._itemsPerRow;u&&t-u<=this._physicalCount&&(t+=this._itemsPerRow),t-=u}var w=t-this._physicalCount,z=Math.round(0.5*this._physicalCount);if(!(0>w)){if(0<w){var A=window.performance.now();[].push.apply(this._physicalItems,this._createPool(w)),[].push.apply(this._physicalSizes,Array(w)),this._physicalCount+=w,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=w),this._update(),this._templateCost=(window.performance.now()-A)/w,z=Math.round(0.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===z||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounceRender(this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,z)),p):this._debounceRender(this._increasePoolIfNeeded.bind(this,z),q))}}),babelHelpers.defineProperty(c,'_render',function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var s=this._getReusables(!0);this._physicalTop=s.physicalTop,this._virtualStart+=s.indexes.length,this._physicalStart+=s.indexes.length,this._update(s.indexes),this._update(),this._increasePoolIfNeeded(0)}else 0<this._virtualCount&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(h))}),babelHelpers.defineProperty(c,'_ensureTemplatized',function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren('template'),this._userTemplate||console.warn('iron-list requires a template to be provided in light-dom');var s={};s.__key__=!0,s[this.as]=!0,s[this.indexAs]=!0,s[this.selectedAs]=!0,s.tabIndex=!0,this._instanceProps=s,this.templatize(this._userTemplate,this.mutableData)}}),babelHelpers.defineProperty(c,'_gridChanged',function(s,t){'undefined'===typeof t||(this.notifyResize(),Polymer.flush?Polymer.flush():Polymer.dom.flush(),s&&this._updateGridMetrics())}),babelHelpers.defineProperty(c,'_itemsChanged',function(s){if('items'===s.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items&&Polymer.Collection?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounceRender(this._render,o);else if('items.splices'===s.path){this._adjustVirtualIndex(s.value.indexSplices),this._virtualCount=this.items?this.items.length:0;var t=s.value.indexSplices.some(function(u){return this._isIndexRendered(u.index)},this);(!this._isClientFull()||t)&&this._debounceRender(this._render,o)}else'items.length'!==s.path&&this._forwardItemPath(s.path,s.value)}),babelHelpers.defineProperty(c,'_forwardItemPath',function(s,t){s=s.slice(6);var u=s.indexOf('.')+1;0===u&&(u=s.length);var w=n?parseInt(s.substring(0,u),10):parseInt(s.substring(1,u),10),z=this._offscreenFocusedItem,A=this._isIndexRendered(w),B;A?B=this.modelForElement(this._physicalItems[this._getPhysicalIndex(w)]):z&&(B=this.modelForElement(z));B&&B[this.indexAs]===w&&(s=s.substring(u),s=this.as+(s?'.'+s:''),n?B._setPendingPropertyOrPath(s,t,!1,!0):B.notifyPath(s,t,!0),B._flushProperties&&B._flushProperties(!0),A&&(this._updateMetrics([w]),this._positionItems(),this._updateScrollerSize()))}),babelHelpers.defineProperty(c,'_adjustVirtualIndex',function(s){s.forEach(function(t){if(t.removed.forEach(this._removeItem,this),t.index<this._virtualStart){var u=Math.max(t.addedCount-t.removed.length,t.index-this._virtualStart);this._virtualStart+=u,0<=this._focusedVirtualIndex&&(this._focusedVirtualIndex+=u)}},this)}),babelHelpers.defineProperty(c,'_removeItem',function(s){this.$.selector.deselect(s),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===s&&(this._removeFocusedItem(),document.activeElement&&document.activeElement.blur&&document.activeElement.blur())}),babelHelpers.defineProperty(c,'_iterateItems',function(s,t){var u,w,z,A;if(2===arguments.length&&t){for(A=0;A<t.length;A++)if(u=t[A],w=this._computeVidx(u),null!=(z=s.call(this,u,w)))return z;}else{for(u=this._physicalStart,w=this._virtualStart;u<this._physicalCount;u++,w++)if(null!=(z=s.call(this,u,w)))return z;for(u=0;u<this._physicalStart;u++,w++)if(null!=(z=s.call(this,u,w)))return z}}),babelHelpers.defineProperty(c,'_computeVidx',function(s){return s>=this._physicalStart?this._virtualStart+(s-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+s}),babelHelpers.defineProperty(c,'_assignModels',function(s){this._iterateItems(function(t,u){var w=this._physicalItems[t],z=this.items&&this.items[u];if(null!=z){var A=this.modelForElement(w);A.__key__=this._collection?this._collection.getKey(z):null,this._forwardProperty(A,this.as,z),this._forwardProperty(A,this.selectedAs,this.$.selector.isSelected(z)),this._forwardProperty(A,this.indexAs,u),this._forwardProperty(A,'tabIndex',this._focusedVirtualIndex===u?0:-1),this._physicalIndexForKey[A.__key__]=t,A._flushProperties&&A._flushProperties(!0),w.removeAttribute('hidden')}else w.setAttribute('hidden','')},s)}),babelHelpers.defineProperty(c,'_updateMetrics',function(s){Polymer.flush?Polymer.flush():Polymer.dom.flush();var t=0,u=0,w=this._physicalAverageCount,z=this._physicalAverage;this._iterateItems(function(A){u+=this._physicalSizes[A]||0,this._physicalSizes[A]=this._physicalItems[A].offsetHeight,t+=this._physicalSizes[A],this._physicalAverageCount+=this._physicalSizes[A]?1:0},s),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(u=1===this._itemsPerRow?u:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+t-u,this._itemsPerRow=1),this._physicalAverageCount!==w&&(this._physicalAverage=Math.round((z*w+t)/this._physicalAverageCount))}),babelHelpers.defineProperty(c,'_updateGridMetrics',function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow}),babelHelpers.defineProperty(c,'_positionItems',function(){this._adjustScrollPosition();var s=this._physicalTop;if(this.grid){var t=this._itemsPerRow*this._itemWidth,u=(this._viewportWidth-t)/2;this._iterateItems(function(w,z){var A=z%this._itemsPerRow,B=Math.floor(A*this._itemWidth+u);this._isRTL&&(B*=-1),this.translate3d(B+'px',s+'px',0,this._physicalItems[w]),this._shouldRenderNextRow(z)&&(s+=this._rowHeight)})}else this._iterateItems(function(w){this.translate3d(0,s+'px',0,this._physicalItems[w]),s+=this._physicalSizes[w]})}),babelHelpers.defineProperty(c,'_getPhysicalSizeIncrement',function(s){return this.grid?this._computeVidx(s)%this._itemsPerRow===this._itemsPerRow-1?this._rowHeight:0:this._physicalSizes[s]}),babelHelpers.defineProperty(c,'_shouldRenderNextRow',function(s){return s%this._itemsPerRow===this._itemsPerRow-1}),babelHelpers.defineProperty(c,'_adjustScrollPosition',function(){var s=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==s){this._physicalTop-=s;var t=this._scrollTop;!g&&0<t&&this._resetScrollPosition(t-s)}}),babelHelpers.defineProperty(c,'_resetScrollPosition',function(s){this.scrollTarget&&0<=s&&(this._scrollTop=s,this._scrollPosition=this._scrollTop)}),babelHelpers.defineProperty(c,'_updateScrollerSize',function(s){this._estScrollHeight=this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,s=s||0===this._scrollHeight,s=s||this._scrollPosition>=this._estScrollHeight-this._physicalSize,s=s||this.grid&&this.$.items.style.height<this._estScrollHeight,(s||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._optPhysicalSize)&&(this.$.items.style.height=this._estScrollHeight+'px',this._scrollHeight=this._estScrollHeight)}),babelHelpers.defineProperty(c,'scrollToItem',function(s){return this.scrollToIndex(this.items.indexOf(s))}),babelHelpers.defineProperty(c,'scrollToIndex',function(s){if(!('number'!==typeof s||0>s||s>this.items.length-1)&&(Polymer.flush?Polymer.flush():Polymer.dom.flush(),0!==this._physicalCount)){s=this._clamp(s,0,this._virtualCount-1),(!this._isIndexRendered(s)||s>=this._maxVirtualStart)&&(this._virtualStart=this.grid?s-2*this._itemsPerRow:s-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var t=this._physicalStart,u=this._virtualStart,w=0,z=this._hiddenContentSize;u<s&&w<=z;)w+=this._getPhysicalSizeIncrement(t),t=(t+1)%this._physicalCount,u++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+w),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}}),babelHelpers.defineProperty(c,'_resetAverage',function(){this._physicalAverage=0,this._physicalAverageCount=0}),babelHelpers.defineProperty(c,'_resizeHandler',function(){this._debounceRender(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null;Math.abs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},o)}),babelHelpers.defineProperty(c,'selectItem',function(s){return this.selectIndex(this.items.indexOf(s))}),babelHelpers.defineProperty(c,'selectIndex',function(s){if(!(0>s||s>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(s)){var t=this.modelForElement(this._physicalItems[this._getPhysicalIndex(s)]);t&&(t[this.selectedAs]=!0),this.updateSizeForIndex(s)}this.$.selector.selectIndex?this.$.selector.selectIndex(s):this.$.selector.select(this.items[s])}}),babelHelpers.defineProperty(c,'deselectItem',function(s){return this.deselectIndex(this.items.indexOf(s))}),babelHelpers.defineProperty(c,'deselectIndex',function(s){if(!(0>s||s>=this._virtualCount)){if(this._isIndexRendered(s)){var t=this.modelForElement(this._physicalItems[this._getPhysicalIndex(s)]);t[this.selectedAs]=!1,this.updateSizeForIndex(s)}this.$.selector.deselectIndex?this.$.selector.deselectIndex(s):this.$.selector.deselect(this.items[s])}}),babelHelpers.defineProperty(c,'toggleSelectionForItem',function(s){return this.toggleSelectionForIndex(this.items.indexOf(s))}),babelHelpers.defineProperty(c,'toggleSelectionForIndex',function(s){var t=this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(s):this.$.selector.isSelected(this.items[s]);t?this.deselectIndex(s):this.selectIndex(s)}),babelHelpers.defineProperty(c,'clearSelection',function(){this._iterateItems(function(s){this.modelForElement(this._physicalItems[s])[this.selectedAs]=!1}),this.$.selector.clearSelection()}),babelHelpers.defineProperty(c,'_selectionEnabledChanged',function(s){var t=s?this.listen:this.unlisten;t.call(this,this,'tap','_selectionHandler')}),babelHelpers.defineProperty(c,'_selectionHandler',function(s){var t=this.modelForElement(s.target);if(t){var u,w,z=Polymer.dom(s).path[0],A=this._itemsParent.node.domHost,B=Polymer.dom(A?A.root:document).activeElement,C=this._physicalItems[this._getPhysicalIndex(t[this.indexAs])];'input'!==z.localName&&'button'!==z.localName&&'select'!==z.localName&&(u=t.tabIndex,t.tabIndex=m,w=B?B.tabIndex:-1,t.tabIndex=u,B&&C!==B&&C.contains(B)&&w!==m||this.toggleSelectionForItem(t[this.as]))}}),babelHelpers.defineProperty(c,'_multiSelectionChanged',function(s){this.clearSelection(),this.$.selector.multi=s}),babelHelpers.defineProperty(c,'updateSizeForItem',function(s){return this.updateSizeForIndex(this.items.indexOf(s))}),babelHelpers.defineProperty(c,'updateSizeForIndex',function(s){return this._isIndexRendered(s)?(this._updateMetrics([this._getPhysicalIndex(s)]),this._positionItems(),null):null}),babelHelpers.defineProperty(c,'_manageFocus',function(){var s=this._focusedVirtualIndex;0<=s&&s<this._virtualCount?this._isIndexRendered(s)?this._restoreFocusedItem():this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])}),babelHelpers.defineProperty(c,'_convertIndexToCompleteRow',function(s){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(s/this._itemsPerRow)*this._itemsPerRow:s}),babelHelpers.defineProperty(c,'_isIndexRendered',function(s){return s>=this._virtualStart&&s<=this._virtualEnd}),babelHelpers.defineProperty(c,'_isIndexVisible',function(s){return s>=this.firstVisibleIndex&&s<=this.lastVisibleIndex}),babelHelpers.defineProperty(c,'_getPhysicalIndex',function(s){return(this._physicalStart+(s-this._virtualStart))%this._physicalCount}),babelHelpers.defineProperty(c,'focusItem',function(s){this._focusPhysicalItem(s)}),babelHelpers.defineProperty(c,'_focusPhysicalItem',function(s){if(!(0>s||s>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(s)||this.scrollToIndex(s);var w,t=this._physicalItems[this._getPhysicalIndex(s)],u=this.modelForElement(t);u.tabIndex=m,t.tabIndex===m&&(w=t),w||(w=Polymer.dom(t).querySelector('[tabindex="'+m+'"]')),u.tabIndex=0,this._focusedVirtualIndex=s,w&&w.focus()}}),babelHelpers.defineProperty(c,'_removeFocusedItem',function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1}),babelHelpers.defineProperty(c,'_createFocusBackfillItem',function(){var s=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||0>this._focusedVirtualIndex)){if(!this._focusBackfillItem){var t=this.stamp(null);this._focusBackfillItem=t.root.querySelector('*'),this._itemsParent.appendChild(t.root)}this._offscreenFocusedItem=this._physicalItems[s],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[s]=this._focusBackfillItem,this._focusedPhysicalIndex=s,this.translate3d(0,j,0,this._offscreenFocusedItem)}}),babelHelpers.defineProperty(c,'_restoreFocusedItem',function(){if(this._offscreenFocusedItem&&!(0>this._focusedVirtualIndex)){this._assignModels();var s=this._focusedPhysicalIndex,t=this._physicalItems[s];if(t){var u=this.modelForElement(t),w=this.modelForElement(this._offscreenFocusedItem);u[this.as]===w[this.as]?(this._focusBackfillItem=t,u.tabIndex=-1,this._physicalItems[s]=this._offscreenFocusedItem,this.translate3d(0,j,0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}}),babelHelpers.defineProperty(c,'_didFocus',function(s){var t=this.modelForElement(s.target),u=this.modelForElement(this._focusedItem),w=null!==this._offscreenFocusedItem,z=this._focusedVirtualIndex;t&&(u===t?!this._isIndexVisible(z)&&this.scrollToIndex(z):(this._restoreFocusedItem(),u&&(u.tabIndex=-1),t.tabIndex=0,z=t[this.indexAs],this._focusedVirtualIndex=z,this._focusedPhysicalIndex=this._getPhysicalIndex(z),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],w&&!this._offscreenFocusedItem&&this._update()))}),babelHelpers.defineProperty(c,'_keydownHandler',function(s){switch(s.keyCode){case 40:s.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this._selectionHandler(s);}}),babelHelpers.defineProperty(c,'_clamp',function(s,t,u){return Math.min(u,Math.max(t,s))}),babelHelpers.defineProperty(c,'_debounceRender',function(s,t){n?(this._renderDebouncer=Polymer.Debouncer.debounce(this._renderDebouncer,t,s.bind(this)),Polymer.enqueueDebouncer(this._renderDebouncer)):this._debounceTemplate(s)}),babelHelpers.defineProperty(c,'_forwardProperty',function(s,t,u){n?s._setPendingProperty(t,u):s[t]=u}),babelHelpers.defineProperty(c,'_forwardHostPropV2',function(s,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(u){u&&this.modelForElement(u).forwardHostProp(s,t)},this)}),babelHelpers.defineProperty(c,'_notifyInstancePropV2',function(s,t,u){if(Polymer.Path.matches(this.as,t)){var w=s[this.indexAs];t==this.as&&(this.items[w]=u),this.notifyPath(Polymer.Path.translate(this.as,'items.'+w,t),u)}}),babelHelpers.defineProperty(c,'_getStampedChildren',function(){return this._physicalItems}),babelHelpers.defineProperty(c,'_forwardInstancePath',function(s,t,u){0===t.indexOf(this.as+'.')&&this.notifyPath('items.'+s.__key__+'.'+t.slice(this.as.length+1),u)}),babelHelpers.defineProperty(c,'_forwardParentPath',function(s,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(u){u&&this.modelForElement(u).notifyPath(s,t,!0)},this)}),babelHelpers.defineProperty(c,'_forwardParentProp',function(s,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(u){u&&(this.modelForElement(u)[s]=t)},this)}),babelHelpers.defineEnumerableProperties(c,d),c))})();</script><dom-module id="device-table"><template strip-whitespace=""><style>:host{color:var(--table-color, currentColor);background-color:var(--table-background, transparent);@apply --layout-vertical;width:100%;height:100%;position:relative;border-color:inherit;border-radius:inherit;min-width:150px;min-height:75px;text-align:left;line-height:1.5;pointer-events:all;}span{position:relative;padding:0 0.5em;}.tr{@apply --layout-horizontal;@apply --layout-around-justified;font-size:0.7em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}.tr:not([state]), .tr[state="0"]{background:none;color:inherit;}.tr:nth-of-type(even){background:rgba(137, 137, 137, 0.15);}.tr[state="1"]{background:var(--device-state-exceeds-color);color:var(--device-state-exceeds-text-color);}.tr[state="-1"]{background:var(--device-state-deceeds-color);color:var(--device-state-deceeds-text-color);}.tr[onlyfirstrow] > span:not(:first-of-type){display:none;}#head{@apply --layout-horizontal;@apply --layout-around-justified;font-size:0.8em;width:100%;line-height:1.8;border-bottom-style:solid;border-bottom-width:thin;border-color:inherit;cursor:pointer;text-align:center;}#caption{font-weight:bold;display:block;position:relative;font-size:0.6em;background-color:rgba(0, 0, 0, 0.2);color:var(--bright-text-color);padding:0.5em 1em;text-align:center;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all;}[hidden]{display:none !important;}#list{height:auto;width:100%;flex:1 1 50px;}::selection{background:transparent;}::-moz-selection{background:transparent;}</style><section id="head" hidden$="[[hideHeader]]" on-tap="_toggleGridView"><span>Datum</span> <span hidden$="[[onlyFirstRow]]">Wert <span hidden$="[[!item.unit]]" style="font-style:italic">([[unit]])</span></span></section><iron-list id="list" items="[[values]]" as="value"><template><div class="tr" state$="[[value.state]]" onlyfirstrow$="[[onlyFirstRow]]"><span>[[computeDate(value.x)]]</span> <span>[[computeValue(value.y, value.state)]]</span></div></template></iron-list><section id="caption" hidden$="[[!caption]]">[[caption]]</section></template><script>var DeviceTable=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'insertValues',value:function(d){var e=this;d&&d.length?setTimeout(function(){if(!e._initialized)e.set('values',d.reverse()),e._initialized=!0;else for(var f=0;f<d.length;f++)e.unshift('values',d[f])},0):!this._initialized&&this.renderClearing()}},{key:'spliceValues',value:function(d){var e=this;setTimeout(function(){for(var f=[],g=0;g<d.length;g++){for(var h=e.values.length-1;0<=h&&e.values[h].x!==d[g].x;h--);-1!==h&&(e.values.splice(h,1),f.push({index:h,removed:[e.values[h]],addedCount:0,object:e.values,type:'splice'}))}e.notifySplices('values',f)},0)}},{key:'renderClearing',value:function(){this.$.list.set('items',[])}},{key:'_computeKeysForCaption',value:function(d,e){if(d&&e&&e.keys){var f='';for(var g in this.item.keys)f+=this.item.keys[g]+' ';this.$.caption.textContent=f}else this.caption&&(this.$.caption.textContent=this.caption)}},{key:'_toggleGridView',value:function(){this.$.list.grid=!!!this.$.list.grid}}],[{key:'is',get:function(){return'device-table'}},{key:'properties',get:function(){return{caption:{type:String,value:''},keysForCaption:{type:Boolean},onlyFirstRow:{type:Boolean},hideHeader:{type:Boolean},fullDate:{type:Boolean},viewLength:{type:Number,value:Number.POSITIVE_INFINITY},storeInside:{type:Boolean,value:!1}}}},{key:'observers',get:function(){return['_computeKeysForCaption(keysForCaption, item)']}}]),b}(WebvisualMixins.DeviceMixin(Polymer.Element));customElements.define(DeviceTable.is,DeviceTable);</script></dom-module><dom-module id="device-table-group"><template strip-whitespace=""><style>:host{@apply --layout-vertical;position:relative;box-sizing:border-box;}#tabs{width:100%;flex-shrink:0;background-color:rgba(0, 0, 0, 0.2);--tab-overlay:{background-color:rgba(0, 0, 0, 0.3);color:var(--bright-text-color);border-bottom:medium solid var(--secondary-color);border-left:none;};}.caption{--caption-background:transparent;--caption-color:currentColor;}#tables{position:relative;box-sizing:border-box;flex:1 0 0.0001px;}.tab{font-size:0.75em;height:auto;box-sizing:border-box;border-radius:0;white-space:nowrap;}.hidden{display:none;}</style><tabs-container id="tabs" selected="{{selectedMount}}" attr-for-selected="title"><template is="dom-repeat" items="[[items]]"><tab-element class="tab" title$="[[item.mount]]"><device-caption class="caption" keys="[[item.keys]]"></device-caption></tab-element></template></tabs-container><iron-pages id="tables" selected="{{selectedMount}}" attr-for-selected="title"><template is="dom-repeat" items="[[items]]"><device-table title$="[[item.mount]]" item="[[item]]" no-link="[[!opened]]"></device-table></template></iron-pages></template><script>var DeviceTableGroup=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_shouldHideTabs',value:function(d){2>d?this.$.tabs.classList.add('hidden'):this.$.tabs.classList.remove('hidden')}},{key:'reset',value:function(){this.set('items',[]),this.set('selectedItemMount','')}}],[{key:'is',get:function(){return'device-table-group'}},{key:'properties',get:function(){return{opened:{type:Boolean,notify:!0},items:{type:Array,notify:!0},selectedItemMount:{type:String,notify:!0}}}},{key:'observers',get:function(){return['_shouldHideTabs(items.length)']}}]),b}(Polymer.Element);customElements.define(DeviceTableGroup.is,DeviceTableGroup);</script></dom-module><script type="text/javascript">!function(el){"use strict";function tl(yx){return function(fx,xx){return bh(yx(fx),xx)}}function nl(yx,fx,xx){var vx=(fx-yx)/Math.max(0,xx),bx=Math.floor(Math.log(vx)/Math.LN10),wx=vx/Math.pow(10,bx);return 0<=bx?(wx>=Sh?10:wx>=Ch?5:wx>=zh?2:1)*Math.pow(10,bx):-Math.pow(10,-bx)/(wx>=Sh?10:wx>=Ch?5:wx>=zh?2:1)}function ol(yx,fx,xx){var vx=Math.abs(fx-yx)/Math.max(0,xx),bx=Math.pow(10,Math.floor(Math.log(vx)/Math.LN10)),wx=vx/bx;return wx>=Sh?bx*=10:wx>=Ch?bx*=5:wx>=zh&&(bx*=2),fx<yx?-bx:bx}function al(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function il(){return new al}function ll(yx){this._context=yx}function rl(yx){return yx[0]}function dl(yx){return yx[1]}function sl(yx,fx,xx){yx._context.bezierCurveTo((2*yx._x0+yx._x1)/3,(2*yx._y0+yx._y1)/3,(yx._x0+2*yx._x1)/3,(yx._y0+2*yx._y1)/3,(yx._x0+4*yx._x1+fx)/6,(yx._y0+4*yx._y1+xx)/6)}function cl(yx){this._context=yx}function ul(yx,fx,xx){yx._context.bezierCurveTo(yx._x1+yx._k*(yx._x2-yx._x0),yx._y1+yx._k*(yx._y2-yx._y0),yx._x2+yx._k*(yx._x1-fx),yx._y2+yx._k*(yx._y1-xx),yx._x2,yx._y2)}function pl(yx,fx){this._context=yx,this._k=(1-fx)/6}function _l(yx,fx,xx){var vx=yx._x1,bx=yx._y1,wx=yx._x2,Tx=yx._y2;if(yx._l01_a>Fh){var kx=2*yx._l01_2a+3*yx._l01_a*yx._l12_a+yx._l12_2a,Sx=3*yx._l01_a*(yx._l01_a+yx._l12_a);vx=(vx*kx-yx._x0*yx._l12_2a+yx._x2*yx._l01_2a)/Sx,bx=(bx*kx-yx._y0*yx._l12_2a+yx._y2*yx._l01_2a)/Sx}if(yx._l23_a>Fh){var Cx=2*yx._l23_2a+3*yx._l23_a*yx._l12_a+yx._l12_2a,zx=3*yx._l23_a*(yx._l23_a+yx._l12_a);wx=(wx*Cx+yx._x1*yx._l23_2a-fx*yx._l12_2a)/zx,Tx=(Tx*Cx+yx._y1*yx._l23_2a-xx*yx._l12_2a)/zx}yx._context.bezierCurveTo(vx,bx,wx,Tx,yx._x2,yx._y2)}function hl(yx,fx){this._context=yx,this._alpha=fx}function ml(yx){return 0>yx?-1:1}function gl(yx,fx,xx){var vx=yx._x1-yx._x0,bx=fx-yx._x1,wx=(yx._y1-yx._y0)/(vx||0>bx&&-0),Tx=(xx-yx._y1)/(bx||0>vx&&-0);return(ml(wx)+ml(Tx))*Math.min(Math.abs(wx),Math.abs(Tx),.5*Math.abs((wx*bx+Tx*vx)/(vx+bx)))||0}function yl(yx,fx){var xx=yx._x1-yx._x0;return xx?(3*(yx._y1-yx._y0)/xx-fx)/2:fx}function fl(yx,fx,xx){var vx=yx._x0,bx=yx._y0,wx=yx._x1,Tx=yx._y1,kx=(wx-vx)/3;yx._context.bezierCurveTo(vx+kx,bx+kx*fx,wx-kx,Tx-kx*xx,wx,Tx)}function xl(yx){this._context=yx}function bl(yx){this._context=yx}function Tl(yx){this._context=yx}function kl(yx){var fx,xx,vx=yx.length-1,bx=Array(vx),wx=Array(vx),Tx=Array(vx);for(bx[0]=0,wx[0]=2,Tx[0]=yx[0]+2*yx[1],fx=1;fx<vx-1;++fx)bx[fx]=1,wx[fx]=4,Tx[fx]=4*yx[fx]+2*yx[fx+1];for(bx[vx-1]=2,wx[vx-1]=7,Tx[vx-1]=8*yx[vx-1]+yx[vx],fx=1;fx<vx;++fx)xx=bx[fx]/wx[fx-1],wx[fx]-=xx,Tx[fx]-=xx*Tx[fx-1];for(bx[vx-1]=Tx[vx-1]/wx[vx-1],fx=vx-2;0<=fx;--fx)bx[fx]=(Tx[fx]-bx[fx+1])/wx[fx];for(wx[vx-1]=(yx[vx]+bx[vx-1])/2,fx=0;fx<vx-1;++fx)wx[fx]=2*yx[fx+1]-bx[fx+1];return[bx,wx]}function Sl(yx,fx){this._context=yx,this._t=fx}function Ml(yx,fx,xx,vx){function bx(wx){return yx(wx=new Date(+wx)),wx}return bx.floor=bx,bx.ceil=function(wx){return yx(wx=new Date(wx-1)),fx(wx,1),yx(wx),wx},bx.round=function(wx){var Tx=bx(wx),kx=bx.ceil(wx);return wx-Tx<kx-wx?Tx:kx},bx.offset=function(wx,Tx){return fx(wx=new Date(+wx),null==Tx?1:Math.floor(Tx)),wx},bx.range=function(wx,Tx,kx){var Sx=[];if(wx=bx.ceil(wx),kx=null==kx?1:Math.floor(kx),!(wx<Tx&&0<kx))return Sx;do Sx.push(new Date(+wx));while((fx(wx,kx),yx(wx),wx<Tx));return Sx},bx.filter=function(wx){return Ml(function(Tx){if(Tx>=Tx)for(;yx(Tx),!wx(Tx);)Tx.setTime(Tx-1)},function(Tx,kx){if(Tx>=Tx)for(;0<=--kx;)for(;fx(Tx,1),!wx(Tx););})},xx&&(bx.count=function(wx,Tx){return jh.setTime(+wx),Vh.setTime(+Tx),yx(jh),yx(Vh),Math.floor(xx(jh,Vh))},bx.every=function(wx){return wx=Math.floor(wx),isFinite(wx)&&0<wx?1<wx?bx.filter(vx?function(Tx){return 0==vx(Tx)%wx}:function(Tx){return 0==bx.count(0,Tx)%wx}):bx:null}),bx}function Ul(yx){return Ml(function(fx){fx.setDate(fx.getDate()-(fx.getDay()+7-yx)%7),fx.setHours(0,0,0,0)},function(fx,xx){fx.setDate(fx.getDate()+7*xx)},function(fx,xx){return(xx-fx-(xx.getTimezoneOffset()-fx.getTimezoneOffset())*Zh)/Wh})}function Al(yx){return Ml(function(fx){fx.setUTCDate(fx.getUTCDate()-(fx.getUTCDay()+7-yx)%7),fx.setUTCHours(0,0,0,0)},function(fx,xx){fx.setUTCDate(fx.getUTCDate()+7*xx)},function(fx,xx){return(xx-fx)/Wh})}function Yl(yx){return new El(yx)}function El(yx){if(!(fx=hm.exec(yx)))throw new Error("invalid format: "+yx);var fx,xx=fx[1]||" ",vx=fx[2]||">",bx=fx[3]||"-",wx=fx[4]||"",Tx=!!fx[5],kx=fx[6]&&+fx[6],Sx=!!fx[7],Cx=fx[8]&&+fx[8].slice(1),zx=fx[9]||"";"n"===zx?(Sx=!0,zx="g"):_m[zx]||(zx=""),(Tx||"0"===xx&&"="===vx)&&(Tx=!0,xx="0",vx="="),this.fill=xx,this.align=vx,this.sign=bx,this.symbol=wx,this.zero=Tx,this.width=kx,this.comma=Sx,this.precision=Cx,this.type=zx}function Pl(yx){return mm=xm(yx),el.format=mm.format,gm=mm.formatPrefix,mm}function Dl(yx){if(0<=yx.y&&100>yx.y){var fx=new Date(-1,yx.m,yx.d,yx.H,yx.M,yx.S,yx.L);return fx.setFullYear(yx.y),fx}return new Date(yx.y,yx.m,yx.d,yx.H,yx.M,yx.S,yx.L)}function Fl(yx){if(0<=yx.y&&100>yx.y){var fx=new Date(Date.UTC(-1,yx.m,yx.d,yx.H,yx.M,yx.S,yx.L));return fx.setUTCFullYear(yx.y),fx}return new Date(Date.UTC(yx.y,yx.m,yx.d,yx.H,yx.M,yx.S,yx.L))}function Ll(yx){return{y:yx,m:0,d:1,H:0,M:0,S:0,L:0}}function Hl(yx){function fx(lv,rv){return function(dv){var sv,cv,uv,pv=[],_v=-1,hv=0,mv=lv.length;for(dv instanceof Date||(dv=new Date(+dv));++_v<mv;)37===lv.charCodeAt(_v)&&(pv.push(lv.slice(hv,_v)),null==(cv=Cm[sv=lv.charAt(++_v)])?cv="e"===sv?" ":"0":sv=lv.charAt(++_v),(uv=rv[sv])&&(sv=uv(dv,cv)),pv.push(sv),hv=_v+1);return pv.push(lv.slice(hv,_v)),pv.join("")}}function xx(lv,rv){return function(dv){var sv=Ll(1900);if(vx(sv,lv,dv+="",0)!=dv.length)return null;if("p"in sv&&(sv.H=sv.H%12+12*sv.p),"W"in sv||"U"in sv){"w"in sv||(sv.w="W"in sv?1:0);var cv="Z"in sv?Fl(Ll(sv.y)).getUTCDay():rv(Ll(sv.y)).getDay();sv.m=0,sv.d="W"in sv?(sv.w+6)%7+7*sv.W-(cv+5)%7:sv.w+7*sv.U-(cv+6)%7}return"Z"in sv?(sv.H+=0|sv.Z/100,sv.M+=sv.Z%100,Fl(sv)):rv(sv)}}function vx(lv,rv,dv,sv){for(var cv,uv,pv=0,_v=rv.length,hv=dv.length;pv<_v;){if(sv>=hv)return-1;if(37===(cv=rv.charCodeAt(pv++))){if(cv=rv.charAt(pv++),!(uv=iv[cv in Cm?rv.charAt(pv++):cv])||0>(sv=uv(lv,dv,sv)))return-1;}else if(cv!=dv.charCodeAt(sv++))return-1}return sv}var qx=yx.dateTime,Ix=yx.date,Nx=yx.time,Ox=yx.periods,$x=yx.days,jx=yx.shortDays,Vx=yx.months,Bx=yx.shortMonths,Zx=Il(Ox),Wx=Nl(Ox),Rx=Il($x),Jx=Nl($x),Gx=Il(jx),Kx=Nl(jx),Qx=Il(Vx),ev=Nl(Vx),tv=Il(Bx),nv=Nl(Bx),ov={a:function(lv){return jx[lv.getDay()]},A:function(lv){return $x[lv.getDay()]},b:function(lv){return Bx[lv.getMonth()]},B:function(lv){return Vx[lv.getMonth()]},c:null,d:nd,e:nd,H:od,I:ad,j:id,L:ld,m:rd,M:dd,p:function(lv){return Ox[+(12<=lv.getHours())]},S:sd,U:cd,w:ud,W:pd,x:null,X:null,y:_d,Y:hd,Z:md,"%":Ad},av={a:function(lv){return jx[lv.getUTCDay()]},A:function(lv){return $x[lv.getUTCDay()]},b:function(lv){return Bx[lv.getUTCMonth()]},B:function(lv){return Vx[lv.getUTCMonth()]},c:null,d:gd,e:gd,H:yd,I:fd,j:xd,L:vd,m:bd,M:wd,p:function(lv){return Ox[+(12<=lv.getUTCHours())]},S:Td,U:kd,w:Sd,W:Cd,x:null,X:null,y:zd,Y:Md,Z:Ud,"%":Ad},iv={a:function(lv,rv,dv){var sv=Gx.exec(rv.slice(dv));return sv?(lv.w=Kx[sv[0].toLowerCase()],dv+sv[0].length):-1},A:function(lv,rv,dv){var sv=Rx.exec(rv.slice(dv));return sv?(lv.w=Jx[sv[0].toLowerCase()],dv+sv[0].length):-1},b:function(lv,rv,dv){var sv=tv.exec(rv.slice(dv));return sv?(lv.m=nv[sv[0].toLowerCase()],dv+sv[0].length):-1},B:function(lv,rv,dv){var sv=Qx.exec(rv.slice(dv));return sv?(lv.m=ev[sv[0].toLowerCase()],dv+sv[0].length):-1},c:function(lv,rv,dv){return vx(lv,qx,rv,dv)},d:Rl,e:Rl,H:Gl,I:Gl,j:Jl,L:ed,m:Wl,M:Kl,p:function(lv,rv,dv){var sv=Zx.exec(rv.slice(dv));return sv?(lv.p=Wx[sv[0].toLowerCase()],dv+sv[0].length):-1},S:Ql,U:$l,w:Ol,W:jl,x:function(lv,rv,dv){return vx(lv,Ix,rv,dv)},X:function(lv,rv,dv){return vx(lv,Nx,rv,dv)},y:Bl,Y:Vl,Z:Zl,"%":td};return ov.x=fx(Ix,ov),ov.X=fx(Nx,ov),ov.c=fx(qx,ov),av.x=fx(Ix,av),av.X=fx(Nx,av),av.c=fx(qx,av),{format:function(rv){var dv=fx(rv+="",ov);return dv.toString=function(){return rv},dv},parse:function(rv){var dv=xx(rv+="",Dl);return dv.toString=function(){return rv},dv},utcFormat:function(rv){var dv=fx(rv+="",av);return dv.toString=function(){return rv},dv},utcParse:function(rv){var dv=xx(rv,Fl);return dv.toString=function(){return rv},dv}}}function Xl(yx,fx,xx){var vx=0>yx?"-":"",bx=(vx?-yx:yx)+"",wx=bx.length;return vx+(wx<xx?Array(xx-wx+1).join(fx)+bx:bx)}function ql(yx){return yx.replace(Um,"\\$&")}function Il(yx){return new RegExp("^(?:"+yx.map(ql).join("|")+")","i")}function Nl(yx){for(var fx={},xx=-1,vx=yx.length;++xx<vx;)fx[yx[xx].toLowerCase()]=xx;return fx}function Ol(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+1));return vx?(yx.w=+vx[0],xx+vx[0].length):-1}function $l(yx,fx,xx){var vx=zm.exec(fx.slice(xx));return vx?(yx.U=+vx[0],xx+vx[0].length):-1}function jl(yx,fx,xx){var vx=zm.exec(fx.slice(xx));return vx?(yx.W=+vx[0],xx+vx[0].length):-1}function Vl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+4));return vx?(yx.y=+vx[0],xx+vx[0].length):-1}function Bl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.y=+vx[0]+(68<+vx[0]?1900:2e3),xx+vx[0].length):-1}function Zl(yx,fx,xx){var vx=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(fx.slice(xx,xx+6));return vx?(yx.Z=vx[1]?0:-(vx[2]+(vx[3]||"00")),xx+vx[0].length):-1}function Wl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.m=vx[0]-1,xx+vx[0].length):-1}function Rl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.d=+vx[0],xx+vx[0].length):-1}function Jl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+3));return vx?(yx.m=0,yx.d=+vx[0],xx+vx[0].length):-1}function Gl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.H=+vx[0],xx+vx[0].length):-1}function Kl(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.M=+vx[0],xx+vx[0].length):-1}function Ql(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+2));return vx?(yx.S=+vx[0],xx+vx[0].length):-1}function ed(yx,fx,xx){var vx=zm.exec(fx.slice(xx,xx+3));return vx?(yx.L=+vx[0],xx+vx[0].length):-1}function td(yx,fx,xx){var vx=Mm.exec(fx.slice(xx,xx+1));return vx?xx+vx[0].length:-1}function nd(yx,fx){return Xl(yx.getDate(),fx,2)}function od(yx,fx){return Xl(yx.getHours(),fx,2)}function ad(yx,fx){return Xl(yx.getHours()%12||12,fx,2)}function id(yx,fx){return Xl(1+Kh.count(nm(yx),yx),fx,3)}function ld(yx,fx){return Xl(yx.getMilliseconds(),fx,3)}function rd(yx,fx){return Xl(yx.getMonth()+1,fx,2)}function dd(yx,fx){return Xl(yx.getMinutes(),fx,2)}function sd(yx,fx){return Xl(yx.getSeconds(),fx,2)}function cd(yx,fx){return Xl(Qh.count(nm(yx),yx),fx,2)}function ud(yx){return yx.getDay()}function pd(yx,fx){return Xl(em.count(nm(yx),yx),fx,2)}function _d(yx,fx){return Xl(yx.getFullYear()%100,fx,2)}function hd(yx,fx){return Xl(yx.getFullYear()%1e4,fx,4)}function md(yx){var fx=yx.getTimezoneOffset();return(0<fx?"-":(fx*=-1,"+"))+Xl(0|fx/60,"0",2)+Xl(fx%60,"0",2)}function gd(yx,fx){return Xl(yx.getUTCDate(),fx,2)}function yd(yx,fx){return Xl(yx.getUTCHours(),fx,2)}function fd(yx,fx){return Xl(yx.getUTCHours()%12||12,fx,2)}function xd(yx,fx){return Xl(1+om.count(lm(yx),yx),fx,3)}function vd(yx,fx){return Xl(yx.getUTCMilliseconds(),fx,3)}function bd(yx,fx){return Xl(yx.getUTCMonth()+1,fx,2)}function wd(yx,fx){return Xl(yx.getUTCMinutes(),fx,2)}function Td(yx,fx){return Xl(yx.getUTCSeconds(),fx,2)}function kd(yx,fx){return Xl(am.count(lm(yx),yx),fx,2)}function Sd(yx){return yx.getUTCDay()}function Cd(yx,fx){return Xl(im.count(lm(yx),yx),fx,2)}function zd(yx,fx){return Xl(yx.getUTCFullYear()%100,fx,2)}function Md(yx,fx){return Xl(yx.getUTCFullYear()%1e4,fx,4)}function Ud(){return"+0000"}function Ad(){return"%"}function Yd(yx){return vm=Hl(yx),el.timeFormat=vm.format,el.timeParse=vm.parse,bm=vm.utcFormat,wm=vm.utcParse,vm}function Dd(){}function Fd(yx,fx){var xx=new Dd;if(yx instanceof Dd)yx.each(function(kx,Sx){xx.set(Sx,kx)});else if(Array.isArray(yx)){var vx,bx=-1,wx=yx.length;if(null==fx)for(;++bx<wx;)xx.set(bx,yx[bx]);else for(;++bx<wx;)xx.set(fx(vx=yx[bx],bx,yx),vx)}else if(yx)for(var Tx in yx)xx.set(Tx,yx[Tx]);return xx}function Ld(){}function Xd(yx,fx){var xx=Object.create(yx.prototype);for(var vx in fx)xx[vx]=fx[vx];return xx}function qd(){}function Id(yx){var fx;return yx=(yx+"").trim().toLowerCase(),(fx=Xm.exec(yx))?(fx=parseInt(fx[1],16),new Vd(15&fx>>8|240&fx>>4,15&fx>>4|240&fx,(15&fx)<<4|15&fx,1)):(fx=qm.exec(yx))?Nd(parseInt(fx[1],16)):(fx=Im.exec(yx))?new Vd(fx[1],fx[2],fx[3],1):(fx=Nm.exec(yx))?new Vd(255*fx[1]/100,255*fx[2]/100,255*fx[3]/100,1):(fx=Om.exec(yx))?Od(fx[1],fx[2],fx[3],fx[4]):(fx=$m.exec(yx))?Od(255*fx[1]/100,255*fx[2]/100,255*fx[3]/100,fx[4]):(fx=jm.exec(yx))?Bd(fx[1],fx[2]/100,fx[3]/100,1):(fx=Vm.exec(yx))?Bd(fx[1],fx[2]/100,fx[3]/100,fx[4]):Bm.hasOwnProperty(yx)?Nd(Bm[yx]):"transparent"===yx?new Vd(NaN,NaN,NaN,0):null}function Nd(yx){return new Vd(255&yx>>16,255&yx>>8,255&yx,1)}function Od(yx,fx,xx,vx){return 0>=vx&&(yx=fx=xx=NaN),new Vd(yx,fx,xx,vx)}function $d(yx){return yx instanceof qd||(yx=Id(yx)),yx?(yx=yx.rgb(),new Vd(yx.r,yx.g,yx.b,yx.opacity)):new Vd}function jd(yx,fx,xx,vx){return 1===arguments.length?$d(yx):new Vd(yx,fx,xx,null==vx?1:vx)}function Vd(yx,fx,xx,vx){this.r=+yx,this.g=+fx,this.b=+xx,this.opacity=+vx}function Bd(yx,fx,xx,vx){return 0>=vx?yx=fx=xx=NaN:0>=xx||1<=xx?yx=fx=NaN:0>=fx&&(yx=NaN),new Rd(yx,fx,xx,vx)}function Zd(yx){if(yx instanceof Rd)return new Rd(yx.h,yx.s,yx.l,yx.opacity);if(yx instanceof qd||(yx=Id(yx)),!yx)return new Rd;if(yx instanceof Rd)return yx;var fx=(yx=yx.rgb()).r/255,xx=yx.g/255,vx=yx.b/255,bx=Math.min(fx,xx,vx),wx=Math.max(fx,xx,vx),Tx=NaN,kx=wx-bx,Sx=(wx+bx)/2;return kx?(Tx=fx===wx?(xx-vx)/kx+6*(xx<vx):xx===wx?(vx-fx)/kx+2:(fx-xx)/kx+4,kx/=.5>Sx?wx+bx:2-wx-bx,Tx*=60):kx=0<Sx&&1>Sx?0:Tx,new Rd(Tx,kx,Sx,yx.opacity)}function Rd(yx,fx,xx,vx){this.h=+yx,this.s=+fx,this.l=+xx,this.opacity=+vx}function Jd(yx,fx,xx){return 255*(60>yx?fx+(xx-fx)*yx/60:180>yx?xx:240>yx?fx+(xx-fx)*(240-yx)/60:fx)}function Gd(yx){if(yx instanceof Qd)return new Qd(yx.l,yx.a,yx.b,yx.opacity);if(yx instanceof mc){var fx=yx.h*Zm;return new Qd(yx.l,Math.cos(fx)*yx.c,Math.sin(fx)*yx.c,yx.opacity)}yx instanceof Vd||(yx=$d(yx));var xx=pc(yx.r),vx=pc(yx.g),bx=pc(yx.b),wx=lc((.4124564*xx+.3575761*vx+.1804375*bx)/Rm),Tx=lc((.2126729*xx+.7151522*vx+.072175*bx)/Jm);return new Qd(116*Tx-16,500*(wx-Tx),200*(Tx-lc((.0193339*xx+.119192*vx+.9503041*bx)/Gm)),yx.opacity)}function Qd(yx,fx,xx,vx){this.l=+yx,this.a=+fx,this.b=+xx,this.opacity=+vx}function lc(yx){return yx>tg?Math.pow(yx,1/3):yx/eg+Km}function dc(yx){return yx>Qm?yx*yx*yx:eg*(yx-Km)}function cc(yx){return 255*(.0031308>=yx?12.92*yx:1.055*Math.pow(yx,1/2.4)-.055)}function pc(yx){return .04045>=(yx/=255)?yx/12.92:Math.pow((yx+.055)/1.055,2.4)}function _c(yx){if(yx instanceof mc)return new mc(yx.h,yx.c,yx.l,yx.opacity);yx instanceof Qd||(yx=Gd(yx));var fx=Math.atan2(yx.b,yx.a)*Wm;return new mc(0>fx?fx+360:fx,Math.sqrt(yx.a*yx.a+yx.b*yx.b),yx.l,yx.opacity)}function mc(yx,fx,xx,vx){this.h=+yx,this.c=+fx,this.l=+xx,this.opacity=+vx}function gc(yx){if(yx instanceof fc)return new fc(yx.h,yx.s,yx.l,yx.opacity);yx instanceof Vd||(yx=$d(yx));var fx=yx.r/255,xx=yx.g/255,vx=yx.b/255,bx=(sg*vx+rg*fx-dg*xx)/(sg+rg-dg),wx=vx-bx,Tx=(lg*(xx-bx)-ag*wx)/ig,kx=Math.sqrt(Tx*Tx+wx*wx)/(lg*bx*(1-bx)),Sx=kx?Math.atan2(Tx,wx)*Wm-120:NaN;return new fc(0>Sx?Sx+360:Sx,kx,bx,yx.opacity)}function yc(yx,fx,xx,vx){return 1===arguments.length?gc(yx):new fc(yx,fx,xx,null==vx?1:vx)}function fc(yx,fx,xx,vx){this.h=+yx,this.s=+fx,this.l=+xx,this.opacity=+vx}function xc(yx,fx){return function(xx){return yx+xx*fx}}function vc(yx,fx,xx){return yx=Math.pow(yx,xx),fx=Math.pow(fx,xx)-yx,xx=1/xx,function(vx){return Math.pow(yx+vx*fx,xx)}}function wc(yx){return 1==(yx=+yx)?Tc:function(fx,xx){return xx-fx?vc(fx,xx,yx):hg(isNaN(fx)?xx:fx)}}function Tc(yx,fx){var xx=fx-yx;return xx?xc(yx,xx):hg(isNaN(yx)?fx:yx)}function kc(yx){return function(){return yx}}function Sc(yx){return function(fx){return yx(fx)+""}}function Mc(yx,fx,xx,vx){function bx(Cx){return Cx.length?Cx.pop()+" ":""}function wx(Cx,zx,Mx,Ux,Ax,Yx){if(Cx!==Mx||zx!==Ux){var Ex=Ax.push("translate(",null,fx,null,xx);Yx.push({i:Ex-4,x:fg(Cx,Mx)},{i:Ex-2,x:fg(zx,Ux)})}else(Mx||Ux)&&Ax.push("translate("+Mx+fx+Ux+xx)}function Tx(Cx,zx,Mx,Ux){Cx===zx?zx&&Mx.push(bx(Mx)+"rotate("+zx+vx):(180<Cx-zx?zx+=360:180<zx-Cx&&(Cx+=360),Ux.push({i:Mx.push(bx(Mx)+"rotate(",null,vx)-2,x:fg(Cx,zx)}))}function kx(Cx,zx,Mx,Ux){Cx===zx?zx&&Mx.push(bx(Mx)+"skewX("+zx+vx):Ux.push({i:Mx.push(bx(Mx)+"skewX(",null,vx)-2,x:fg(Cx,zx)})}function Sx(Cx,zx,Mx,Ux,Ax,Yx){if(Cx!==Mx||zx!==Ux){var Ex=Ax.push(bx(Ax)+"scale(",null,",",null,")");Yx.push({i:Ex-4,x:fg(Cx,Mx)},{i:Ex-2,x:fg(zx,Ux)})}else 1===Mx&&1===Ux||Ax.push(bx(Ax)+"scale("+Mx+","+Ux+")")}return function(Cx,zx){var Mx=[],Ux=[];return Cx=yx(Cx),zx=yx(zx),wx(Cx.translateX,Cx.translateY,zx.translateX,zx.translateY,Mx,Ux),Tx(Cx.rotate,zx.rotate,Mx,Ux),kx(Cx.skewX,zx.skewX,Mx,Ux),Sx(Cx.scaleX,Cx.scaleY,zx.scaleX,zx.scaleY,Mx,Ux),Cx=zx=null,function(Ax){for(var Yx,Ex=-1,Px=Ux.length;++Ex<Px;)Mx[(Yx=Ux[Ex]).i]=Yx.x(Ax);return Mx.join("")}}}function Uc(yx){return((yx=Math.exp(yx))+1/yx)/2}function Ac(yx){return((yx=Math.exp(yx))-1/yx)/2}function Yc(yx){return((yx=Math.exp(2*yx))-1)/(yx+1)}function Ec(yx){return function fx(xx){function vx(bx,wx){var Tx=yx((bx=yc(bx)).h,(wx=yc(wx)).h),kx=Tc(bx.s,wx.s),Sx=Tc(bx.l,wx.l),Cx=Tc(bx.opacity,wx.opacity);return function(zx){return bx.h=Tx(zx),bx.s=kx(zx),bx.l=Sx(Math.pow(zx,xx)),bx.opacity=Cx(zx),bx+""}}return xx=+xx,vx.gamma=fx,vx}(1)}function Pc(yx,fx){return(fx-=yx=+yx)?function(xx){return(xx-yx)/fx}:Pg(fx)}function Dc(yx){return function(fx,xx){var vx=yx(fx=+fx,xx=+xx);return function(bx){return bx<=fx?0:bx>=xx?1:vx(bx)}}}function Fc(yx){return function(fx,xx){var vx=yx(fx=+fx,xx=+xx);return function(bx){return 0>=bx?fx:1<=bx?xx:vx(bx)}}}function Lc(yx,fx,xx,vx){var bx=yx[0],wx=yx[1],Tx=fx[0],kx=fx[1];return wx<bx?(bx=xx(wx,bx),Tx=vx(kx,Tx)):(bx=xx(bx,wx),Tx=vx(Tx,kx)),function(Sx){return Tx(bx(Sx))}}function Hc(yx,fx,xx,vx){var bx=Math.min(yx.length,fx.length)-1,wx=Array(bx),Tx=Array(bx),kx=-1;for(yx[bx]<yx[0]&&(yx=yx.slice().reverse(),fx=fx.slice().reverse());++kx<bx;)wx[kx]=xx(yx[kx],yx[kx+1]),Tx[kx]=vx(fx[kx],fx[kx+1]);return function(Sx){var Cx=Th(yx,Sx,1,bx)-1;return Tx[Cx](wx[Cx](Sx))}}function Xc(yx,fx){return fx.domain(yx.domain()).range(yx.range()).interpolate(yx.interpolate()).clamp(yx.clamp())}function qc(yx,fx){function xx(){return bx=2<Math.min(kx.length,Sx.length)?Hc:Lc,wx=Tx=null,vx}function vx(Mx){return(wx||(wx=bx(kx,Sx,zx?Dc(yx):yx,Cx)))(+Mx)}var bx,wx,Tx,kx=Fg,Sx=Fg,Cx=Tg,zx=!1;return vx.invert=function(Mx){return(Tx||(Tx=bx(Sx,kx,Pc,zx?Fc(fx):fx)))(+Mx)},vx.domain=function(Mx){return arguments.length?(kx=Em.call(Mx,Dg),xx()):kx.slice()},vx.range=function(Mx){return arguments.length?(Sx=Pm.call(Mx),xx()):Sx.slice()},vx.rangeRound=function(Mx){return Sx=Pm.call(Mx),Cx=kg,xx()},vx.clamp=function(Mx){return arguments.length?(zx=!!Mx,xx()):zx},vx.interpolate=function(Mx){return arguments.length?(Cx=Mx,xx()):Cx},xx()}function Ic(yx){var fx=yx.domain;return yx.ticks=function(xx){var vx=fx();return Mh(vx[0],vx[vx.length-1],null==xx?10:xx)},yx.tickFormat=function(xx,vx){return Lg(fx(),xx,vx)},yx.nice=function(xx){null==xx&&(xx=10);var vx,bx=fx(),wx=0,Tx=bx.length-1,kx=bx[wx],Sx=bx[Tx];return Sx<kx&&(vx=kx,kx=Sx,Sx=vx,vx=wx,wx=Tx,Tx=vx),vx=nl(kx,Sx,xx),0<vx?vx=nl(kx=Math.floor(kx/vx)*vx,Sx=Math.ceil(Sx/vx)*vx,xx):0>vx&&(vx=nl(kx=Math.ceil(kx*vx)/vx,Sx=Math.floor(Sx*vx)/vx,xx)),0<vx?(bx[wx]=Math.floor(kx/vx)*vx,bx[Tx]=Math.ceil(Sx/vx)*vx,fx(bx)):0>vx&&(bx[wx]=Math.ceil(kx*vx)/vx,bx[Tx]=Math.floor(Sx*vx)/vx,fx(bx)),yx},yx}function Nc(){var yx=qc(Pc,fg);return yx.copy=function(){return Xc(yx,Nc())},Ic(yx)}function Oc(yx,fx){return(fx=Math.log(fx/yx))?function(xx){return Math.log(xx/yx)/fx}:Pg(fx)}function $c(yx,fx){return 0>yx?function(xx){return-Math.pow(-fx,xx)*Math.pow(-yx,1-xx)}:function(xx){return Math.pow(fx,xx)*Math.pow(yx,1-xx)}}function jc(yx){return isFinite(yx)?+("1e"+yx):0>yx?0:yx}function Vc(yx){return 10===yx?jc:yx===Math.E?Math.exp:function(fx){return Math.pow(yx,fx)}}function Bc(yx){return yx===Math.E?Math.log:10===yx&&Math.log10||2===yx&&Math.log2||(yx=Math.log(yx),function(fx){return Math.log(fx)/yx})}function Zc(yx){return function(fx){return-yx(-fx)}}function Wc(){function yx(){return bx=Bc(vx),wx=Vc(vx),0>xx()[0]&&(bx=Zc(bx),wx=Zc(wx)),fx}var fx=qc(Oc,$c).domain([1,10]),xx=fx.domain,vx=10,bx=Bc(10),wx=Vc(10);return fx.base=function(Tx){return arguments.length?(vx=+Tx,yx()):vx},fx.domain=function(Tx){return arguments.length?(xx(Tx),yx()):xx()},fx.ticks=function(Tx){var kx,Sx=xx(),Cx=Sx[0],zx=Sx[Sx.length-1];(kx=zx<Cx)&&(Yx=Cx,Cx=zx,zx=Yx);var Mx,Ux,Ax,Yx=bx(Cx),Ex=bx(zx),Px=null==Tx?10:+Tx,Dx=[];if(!(!(vx%1)&&Ex-Yx<Px))Dx=Mh(Yx,Ex,Math.min(Ex-Yx,Px)).map(wx);else if(Yx=Math.round(Yx)-1,Ex=Math.round(Ex)+1,0<Cx){for(;Yx<Ex;++Yx)for(Ux=1,Mx=wx(Yx);Ux<vx;++Ux)if(!((Ax=Mx*Ux)<Cx)){if(Ax>zx)break;Dx.push(Ax)}}else for(;Yx<Ex;++Yx)for(Ux=vx-1,Mx=wx(Yx);1<=Ux;--Ux)if(!((Ax=Mx*Ux)<Cx)){if(Ax>zx)break;Dx.push(Ax)}return kx?Dx.reverse():Dx},fx.tickFormat=function(Tx,kx){if(null==kx&&(kx=10===vx?".0e":","),"function"!=typeof kx&&(kx=el.format(kx)),Tx===1/0)return kx;null==Tx&&(Tx=10);var Sx=Math.max(1,vx*Tx/fx.ticks().length);return function(Cx){var zx=Cx/wx(Math.round(bx(Cx)));return zx*vx<vx-.5&&(zx*=vx),zx<=Sx?kx(Cx):""}},fx.nice=function(){return xx(Hg(xx(),{floor:function(kx){return wx(Math.floor(bx(kx)))},ceil:function(kx){return wx(Math.ceil(bx(kx)))}}))},fx.copy=function(){return Xc(fx,Wc().base(vx))},fx}function Rc(yx,fx){return 0>yx?-Math.pow(-yx,fx):Math.pow(yx,fx)}function Jc(){var xx=1,vx=qc(function(wx,Tx){return(Tx=Rc(Tx,xx)-(wx=Rc(wx,xx)))?function(kx){return(Rc(kx,xx)-wx)/Tx}:Pg(Tx)},function(wx,Tx){return Tx=Rc(Tx,xx)-(wx=Rc(wx,xx)),function(kx){return Rc(wx+Tx*kx,1/xx)}}),bx=vx.domain;return vx.exponent=function(wx){return arguments.length?(xx=+wx,bx(bx())):xx},vx.copy=function(){return Xc(vx,Jc().exponent(xx))},Ic(vx)}function Gc(yx){return new Date(yx)}function Kc(yx){return yx instanceof Date?+yx:+new Date(+yx)}function Qc(yx,fx,xx,vx,bx,wx,Tx,kx,Sx){function Cx(Ix){return(Tx(Ix)<Ix?Yx:wx(Ix)<Ix?Ex:bx(Ix)<Ix?Px:vx(Ix)<Ix?Dx:fx(Ix)<Ix?xx(Ix)<Ix?Fx:Lx:yx(Ix)<Ix?Hx:Xx)(Ix)}function zx(Ix,Nx,Ox,$x){if(null==Ix&&(Ix=10),"number"==typeof Ix){var jx=Math.abs(Ox-Nx)/Ix,Vx=wh(function(Bx){return Bx[2]}).right(qx,jx);Vx===qx.length?($x=ol(Nx/jg,Ox/jg,Ix),Ix=yx):Vx?($x=(Vx=qx[jx/qx[Vx-1][2]<qx[Vx][2]/jx?Vx-1:Vx])[1],Ix=Vx[0]):($x=ol(Nx,Ox,Ix),Ix=kx)}return null==$x?Ix:Ix.every($x)}var Mx=qc(Pc,fg),Ux=Mx.invert,Ax=Mx.domain,Yx=Sx(".%L"),Ex=Sx(":%S"),Px=Sx("%I:%M"),Dx=Sx("%I %p"),Fx=Sx("%a %d"),Lx=Sx("%b %d"),Hx=Sx("%B"),Xx=Sx("%Y"),qx=[[Tx,1,Xg],[Tx,5,5*Xg],[Tx,15,15*Xg],[Tx,30,30*Xg],[wx,1,qg],[wx,5,5*qg],[wx,15,15*qg],[wx,30,30*qg],[bx,1,Ig],[bx,3,3*Ig],[bx,6,6*Ig],[bx,12,12*Ig],[vx,1,Ng],[vx,2,2*Ng],[xx,1,Og],[fx,1,$g],[fx,3,3*$g],[yx,1,jg]];return Mx.invert=function(Ix){return new Date(Ux(Ix))},Mx.domain=function(Ix){return arguments.length?Ax(Em.call(Ix,Kc)):Ax().map(Gc)},Mx.ticks=function(Ix,Nx){var Ox,$x=Ax(),jx=$x[0],Vx=$x[$x.length-1],Bx=Vx<jx;return Bx&&(Ox=jx,jx=Vx,Vx=Ox),Ox=zx(Ix,jx,Vx,Nx),Ox=Ox?Ox.range(jx,Vx+1):[],Bx?Ox.reverse():Ox},Mx.tickFormat=function(Ix,Nx){return null==Nx?Cx:Sx(Nx)},Mx.nice=function(Ix,Nx){var Ox=Ax();return(Ix=zx(Ix,Ox[0],Ox[Ox.length-1],Nx))?Ax(Hg(Ox,Ix)):Mx},Mx.copy=function(){return Xc(Mx,Qc(yx,fx,xx,vx,bx,wx,Tx,kx,Sx))},Mx}function ep(yx){return"translate("+(yx+.5)+",0)"}function tp(yx){return"translate(0,"+(yx+.5)+")"}function np(yx){var fx=Math.max(0,yx.bandwidth()-1)/2;return yx.round()&&(fx=Math.round(fx)),function(xx){return yx(xx)+fx}}function op(){return!this.__axis}function ap(yx,fx){function xx(Ux){var Ax=null==bx?fx.ticks?fx.ticks.apply(fx,vx):fx.domain():bx,Yx=null==wx?fx.tickFormat?fx.tickFormat.apply(fx,vx):Wg:wx,Ex=Math.max(Tx,0)+Sx,Px=fx.range(),Dx=Px[0]+.5,Fx=Px[Px.length-1]+.5,Lx=(fx.bandwidth?np:Wg)(fx.copy()),Hx=Ux.selection?Ux.selection():Ux,Xx=Hx.selectAll(".domain").data([null]),qx=Hx.selectAll(".tick").data(Ax,fx).order(),Ix=qx.exit(),Nx=qx.enter().append("g").attr("class","tick"),Ox=qx.select("line"),$x=qx.select("text");Xx=Xx.merge(Xx.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),qx=qx.merge(Nx),Ox=Ox.merge(Nx.append("line").attr("stroke","#000").attr(zx+"2",Cx*Tx)),$x=$x.merge(Nx.append("text").attr("fill","#000").attr(zx,Cx*Ex).attr("dy",yx===Rg?"0em":yx===Gg?"0.71em":"0.32em")),Ux!==Hx&&(Xx=Xx.transition(Ux),qx=qx.transition(Ux),Ox=Ox.transition(Ux),$x=$x.transition(Ux),Ix=Ix.transition(Ux).attr("opacity",Qg).attr("transform",function(jx){return isFinite(jx=Lx(jx))?Mx(jx):this.getAttribute("transform")}),Nx.attr("opacity",Qg).attr("transform",function(jx){var Vx=this.parentNode.__axis;return Mx(Vx&&isFinite(Vx=Vx(jx))?Vx:Lx(jx))})),Ix.remove(),Xx.attr("d",yx===Kg||yx==Jg?"M"+Cx*kx+","+Dx+"H0.5V"+Fx+"H"+Cx*kx:"M"+Dx+","+Cx*kx+"V0.5H"+Fx+"V"+Cx*kx),qx.attr("opacity",1).attr("transform",function(jx){return Mx(Lx(jx))}),Ox.attr(zx+"2",Cx*Tx),$x.attr(zx,Cx*Ex).text(Yx),Hx.filter(op).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",yx===Jg?"start":yx===Kg?"end":"middle"),Hx.each(function(){this.__axis=Lx})}var vx=[],bx=null,wx=null,Tx=6,kx=6,Sx=3,Cx=yx===Rg||yx===Kg?-1:1,zx=yx===Kg||yx===Jg?"x":"y",Mx=yx===Rg||yx===Gg?ep:tp;return xx.scale=function(Ux){return arguments.length?(fx=Ux,xx):fx},xx.ticks=function(){return vx=Zg.call(arguments),xx},xx.tickArguments=function(Ux){return arguments.length?(vx=null==Ux?[]:Zg.call(Ux),xx):vx.slice()},xx.tickValues=function(Ux){return arguments.length?(bx=null==Ux?null:Zg.call(Ux),xx):bx&&bx.slice()},xx.tickFormat=function(Ux){return arguments.length?(wx=Ux,xx):wx},xx.tickSize=function(Ux){return arguments.length?(Tx=kx=+Ux,xx):Tx},xx.tickSizeInner=function(Ux){return arguments.length?(Tx=+Ux,xx):Tx},xx.tickSizeOuter=function(Ux){return arguments.length?(kx=+Ux,xx):kx},xx.tickPadding=function(Ux){return arguments.length?(Sx=+Ux,xx):Sx},xx}function sp(){for(var yx,fx=0,xx=arguments.length,vx={};fx<xx;++fx){if(!(yx=arguments[fx]+"")||yx in vx)throw new Error("illegal type: "+yx);vx[yx]=[]}return new cp(vx)}function cp(yx){this._=yx}function up(yx,fx){return yx.trim().split(/^|\s+/).map(function(xx){var vx="",bx=xx.indexOf(".");if(0<=bx&&(vx=xx.slice(bx+1),xx=xx.slice(0,bx)),xx&&!fx.hasOwnProperty(xx))throw new Error("unknown type: "+xx);return{type:xx,name:vx}})}function pp(yx,fx){for(var xx,vx=0,bx=yx.length;vx<bx;++vx)if((xx=yx[vx]).name===fx)return xx.value}function _p(yx,fx,xx){for(var vx=0,bx=yx.length;vx<bx;++vx)if(yx[vx].name===fx){yx[vx]=ey,yx=yx.slice(0,vx).concat(yx.slice(vx+1));break}return null!=xx&&yx.push({name:fx,value:xx}),yx}function hp(yx){return function(){var fx=this.ownerDocument,xx=this.namespaceURI;return xx===ty&&fx.documentElement.namespaceURI===ty?fx.createElement(yx):fx.createElementNS(xx,yx)}}function mp(yx){return function(){return this.ownerDocument.createElementNS(yx.space,yx.local)}}function gp(yx,fx,xx){return yx=yp(yx,fx,xx),function(vx){var bx=vx.relatedTarget;bx&&(bx===this||8&bx.compareDocumentPosition(this))||yx.call(this,vx)}}function yp(yx,fx,xx){return function(vx){var bx=el.event;el.event=vx;try{yx.call(this,this.__data__,fx,xx)}finally{el.event=bx}}}function fp(yx){return yx.trim().split(/^|\s+/).map(function(fx){var xx="",vx=fx.indexOf(".");return 0<=vx&&(xx=fx.slice(vx+1),fx=fx.slice(0,vx)),{type:fx,name:xx}})}function xp(yx){return function(){var fx=this.__on;if(fx){for(var xx,vx=0,bx=-1,wx=fx.length;vx<wx;++vx)xx=fx[vx],yx.type&&xx.type!==yx.type||xx.name!==yx.name?fx[++bx]=xx:this.removeEventListener(xx.type,xx.listener,xx.capture);++bx?fx.length=bx:delete this.__on}}}function vp(yx,fx,xx){var vx=sy.hasOwnProperty(yx.type)?gp:yp;return function(bx,wx,Tx){var kx,Sx=this.__on,Cx=vx(fx,wx,Tx);if(Sx)for(var zx=0,Mx=Sx.length;zx<Mx;++zx)if((kx=Sx[zx]).type===yx.type&&kx.name===yx.name)return this.removeEventListener(kx.type,kx.listener,kx.capture),this.addEventListener(kx.type,kx.listener=Cx,kx.capture=xx),void(kx.value=fx);this.addEventListener(yx.type,Cx,xx),kx={type:yx.type,name:yx.name,value:fx,listener:Cx,capture:xx},Sx?Sx.push(kx):this.__on=[kx]}}function bp(yx,fx,xx,vx){var bx=el.event;yx.sourceEvent=el.event,el.event=yx;try{return fx.apply(xx,vx)}finally{el.event=bx}}function wp(){}function Tp(){return[]}function kp(yx,fx){this.ownerDocument=yx.ownerDocument,this.namespaceURI=yx.namespaceURI,this._next=null,this._parent=yx,this.__data__=fx}function Sp(yx,fx,xx,vx,bx,wx){for(var Tx,kx=0,Sx=fx.length,Cx=wx.length;kx<Cx;++kx)(Tx=fx[kx])?(Tx.__data__=wx[kx],vx[kx]=Tx):xx[kx]=new kp(yx,wx[kx]);for(;kx<Sx;++kx)(Tx=fx[kx])&&(bx[kx]=Tx)}function Cp(yx,fx,xx,vx,bx,wx,Tx){var kx,Sx,Cx,zx={},Mx=fx.length,Ux=wx.length,Ax=Array(Mx);for(kx=0;kx<Mx;++kx)(Sx=fx[kx])&&(Ax[kx]=Cx=wy+Tx.call(Sx,Sx.__data__,kx,fx),Cx in zx?bx[kx]=Sx:zx[Cx]=Sx);for(kx=0;kx<Ux;++kx)(Sx=zx[Cx=wy+Tx.call(yx,wx[kx],kx,wx)])?(vx[kx]=Sx,Sx.__data__=wx[kx],zx[Cx]=null):xx[kx]=new kp(yx,wx[kx]);for(kx=0;kx<Mx;++kx)(Sx=fx[kx])&&zx[Ax[kx]]===Sx&&(bx[kx]=Sx)}function zp(yx,fx){return yx<fx?-1:yx>fx?1:yx>=fx?0:NaN}function Mp(yx){return function(){this.removeAttribute(yx)}}function Up(yx){return function(){this.removeAttributeNS(yx.space,yx.local)}}function Ap(yx,fx){return function(){this.setAttribute(yx,fx)}}function Yp(yx,fx){return function(){this.setAttributeNS(yx.space,yx.local,fx)}}function Ep(yx,fx){return function(){var xx=fx.apply(this,arguments);null==xx?this.removeAttribute(yx):this.setAttribute(yx,xx)}}function Pp(yx,fx){return function(){var xx=fx.apply(this,arguments);null==xx?this.removeAttributeNS(yx.space,yx.local):this.setAttributeNS(yx.space,yx.local,xx)}}function Dp(yx){return function(){this.style.removeProperty(yx)}}function Fp(yx,fx,xx){return function(){this.style.setProperty(yx,fx,xx)}}function Lp(yx,fx,xx){return function(){var vx=fx.apply(this,arguments);null==vx?this.style.removeProperty(yx):this.style.setProperty(yx,vx,xx)}}function Hp(yx,fx){return yx.style.getPropertyValue(fx)||Fy(yx).getComputedStyle(yx,null).getPropertyValue(fx)}function Xp(yx){return function(){delete this[yx]}}function qp(yx,fx){return function(){this[yx]=fx}}function Ip(yx,fx){return function(){var xx=fx.apply(this,arguments);null==xx?delete this[yx]:this[yx]=xx}}function Np(yx){return yx.trim().split(/^|\s+/)}function Op(yx){return yx.classList||new $p(yx)}function $p(yx){this._node=yx,this._names=Np(yx.getAttribute("class")||"")}function jp(yx,fx){for(var xx=Op(yx),vx=-1,bx=fx.length;++vx<bx;)xx.add(fx[vx])}function Vp(yx,fx){for(var xx=Op(yx),vx=-1,bx=fx.length;++vx<bx;)xx.remove(fx[vx])}function Bp(yx){return function(){jp(this,yx)}}function Zp(yx){return function(){Vp(this,yx)}}function Wp(yx,fx){return function(){(fx.apply(this,arguments)?jp:Vp)(this,yx)}}function Rp(){this.textContent=""}function Jp(yx){return function(){this.textContent=yx}}function Gp(yx){return function(){var fx=yx.apply(this,arguments);this.textContent=null==fx?"":fx}}function Kp(){this.innerHTML=""}function Qp(yx){return function(){this.innerHTML=yx}}function e_(yx){return function(){var fx=yx.apply(this,arguments);this.innerHTML=null==fx?"":fx}}function t_(){this.nextSibling&&this.parentNode.appendChild(this)}function n_(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o_(){return null}function a_(){var yx=this.parentNode;yx&&yx.removeChild(this)}function i_(yx,fx,xx){var vx=Fy(yx),bx=vx.CustomEvent;"function"==typeof bx?bx=new bx(fx,xx):(bx=vx.document.createEvent("Event"),xx?(bx.initEvent(fx,xx.bubbles,xx.cancelable),bx.detail=xx.detail):bx.initEvent(fx,!1,!1)),yx.dispatchEvent(bx)}function l_(yx,fx){return function(){return i_(this,yx,fx)}}function r_(yx,fx){return function(){return i_(this,yx,fx.apply(this,arguments))}}function d_(yx,fx){this._groups=yx,this._parents=fx}function s_(){return new d_([[document.documentElement]],Wy)}function c_(){el.event.stopImmediatePropagation()}function u_(yx,fx){var xx=yx.document.documentElement,vx=Ry(yx).on("dragstart.drag",null);fx&&(vx.on("click.drag",Ky,!0),setTimeout(function(){vx.on("click.drag",null)},0)),"onselectstart"in xx?vx.on("selectstart.drag",null):(xx.style.MozUserSelect=xx.__noselect,delete xx.__noselect)}function p_(yx,fx,xx,vx,bx,wx,Tx,kx,Sx,Cx){this.target=yx,this.type=fx,this.subject=xx,this.identifier=vx,this.active=bx,this.x=wx,this.y=Tx,this.dx=kx,this.dy=Sx,this._=Cx}function __(){return!el.event.button}function h_(){return this.parentNode}function m_(yx){return null==yx?{x:el.event.x,y:el.event.y}:yx}function g_(){return cf||(_f(y_),cf=pf.now()+uf)}function y_(){cf=0}function f_(){this._call=this._time=this._next=null}function x_(yx,fx,xx){var vx=new f_;return vx.restart(yx,fx,xx),vx}function v_(){g_(),++af;for(var yx,fx=tf;fx;)0<=(yx=cf-fx._time)&&fx._call.call(null,yx),fx=fx._next;--af}function b_(){cf=(sf=pf.now())+uf,af=lf=0;try{v_()}finally{af=0,T_(),cf=0}}function w_(){var yx=pf.now(),fx=yx-sf;fx>df&&(uf-=fx,sf=yx)}function T_(){for(var yx,fx,xx=tf,vx=1/0;xx;)xx._call?(vx>xx._time&&(vx=xx._time),yx=xx,xx=xx._next):(fx=xx._next,xx._next=null,xx=yx?yx._next=fx:tf=fx);nf=yx,k_(vx)}function k_(yx){if(!af){lf&&(lf=clearTimeout(lf));var fx=yx-cf;24<fx?(yx<1/0&&(lf=setTimeout(b_,fx)),rf&&(rf=clearInterval(rf))):(rf||(sf=cf,rf=setInterval(w_,df)),af=1,_f(b_))}}function S_(yx,fx){var xx=yx.__transition;if(!xx||!(xx=xx[fx])||xx.state>yf)throw new Error("too late");return xx}function C_(yx,fx){var xx=yx.__transition;if(!xx||!(xx=xx[fx])||xx.state>xf)throw new Error("too late");return xx}function z_(yx,fx){var xx=yx.__transition;if(!xx||!(xx=xx[fx]))throw new Error("too late");return xx}function M_(yx,fx,xx){function bx(Cx){var zx,Mx,Ux,Ax;if(xx.state!==ff)return Tx();for(zx in Sx)if((Ax=Sx[zx]).name===xx.name){if(Ax.state===vf)return hf(bx);Ax.state===bf?(Ax.state=Tf,Ax.timer.stop(),Ax.on.call("interrupt",yx,yx.__data__,Ax.index,Ax.group),delete Sx[zx]):+zx<fx&&(Ax.state=Tf,Ax.timer.stop(),delete Sx[zx])}if(hf(function(){xx.state===vf&&(xx.state=bf,xx.timer.restart(wx,xx.delay,xx.time),wx(Cx))}),xx.state=xf,xx.on.call("start",yx,yx.__data__,xx.index,xx.group),xx.state===xf){for(xx.state=vf,kx=Array(Ux=xx.tween.length),zx=0,Mx=-1;zx<Ux;++zx)(Ax=xx.tween[zx].value.call(yx,yx.__data__,xx.index,xx.group))&&(kx[++Mx]=Ax);kx.length=Mx+1}}function wx(Cx){for(var zx=Cx<xx.duration?xx.ease.call(null,Cx/xx.duration):(xx.timer.restart(Tx),xx.state=wf,1),Mx=-1,Ux=kx.length;++Mx<Ux;)kx[Mx].call(null,zx);xx.state===wf&&(xx.on.call("end",yx,yx.__data__,xx.index,xx.group),Tx())}function Tx(){for(var Cx in xx.state=Tf,xx.timer.stop(),delete Sx[fx],Sx)return;delete yx.__transition}var kx,Sx=yx.__transition;Sx[fx]=xx,xx.timer=x_(function(Cx){xx.state=ff,xx.timer.restart(bx,xx.delay,xx.time),xx.delay<=Cx&&bx(Cx-xx.delay)},0,xx.time)}function U_(yx,fx){var xx,vx;return function(){var bx=C_(this,yx),wx=bx.tween;if(wx!==xx)for(var Tx=0,kx=(vx=xx=wx).length;Tx<kx;++Tx)if(vx[Tx].name===fx){(vx=vx.slice()).splice(Tx,1);break}bx.tween=vx}}function A_(yx,fx,xx){var vx,bx;if("function"!=typeof xx)throw new Error;return function(){var wx=C_(this,yx),Tx=wx.tween;if(Tx!==vx){bx=(vx=Tx).slice();for(var kx={name:fx,value:xx},Sx=0,Cx=bx.length;Sx<Cx;++Sx)if(bx[Sx].name===fx){bx[Sx]=kx;break}Sx===Cx&&bx.push(kx)}wx.tween=bx}}function Y_(yx,fx,xx){var vx=yx._id;return yx.each(function(){var bx=C_(this,vx);(bx.value||(bx.value={}))[fx]=xx.apply(this,arguments)}),function(bx){return z_(bx,vx).value[fx]}}function E_(yx){return function(){this.removeAttribute(yx)}}function P_(yx){return function(){this.removeAttributeNS(yx.space,yx.local)}}function D_(yx,fx,xx){var vx,bx;return function(){var wx=this.getAttribute(yx);return wx===xx?null:wx===vx?bx:bx=fx(vx=wx,xx)}}function F_(yx,fx,xx){var vx,bx;return function(){var wx=this.getAttributeNS(yx.space,yx.local);return wx===xx?null:wx===vx?bx:bx=fx(vx=wx,xx)}}function L_(yx,fx,xx){var vx,bx,wx;return function(){var Tx,kx=xx(this);{if(null!=kx)return Tx=this.getAttribute(yx),Tx===kx?null:Tx===vx&&kx===bx?wx:wx=fx(vx=Tx,bx=kx);this.removeAttribute(yx)}}}function H_(yx,fx,xx){var vx,bx,wx;return function(){var Tx,kx=xx(this);{if(null!=kx)return Tx=this.getAttributeNS(yx.space,yx.local),Tx===kx?null:Tx===vx&&kx===bx?wx:wx=fx(vx=Tx,bx=kx);this.removeAttributeNS(yx.space,yx.local)}}}function X_(yx,fx){function xx(){var vx=this,bx=fx.apply(vx,arguments);return bx&&function(wx){vx.setAttributeNS(yx.space,yx.local,bx(wx))}}return xx._value=fx,xx}function q_(yx,fx){function xx(){var vx=this,bx=fx.apply(vx,arguments);return bx&&function(wx){vx.setAttribute(yx,bx(wx))}}return xx._value=fx,xx}function I_(yx,fx){return function(){S_(this,yx).delay=+fx.apply(this,arguments)}}function N_(yx,fx){return fx=+fx,function(){S_(this,yx).delay=fx}}function O_(yx,fx){return function(){C_(this,yx).duration=+fx.apply(this,arguments)}}function $_(yx,fx){return fx=+fx,function(){C_(this,yx).duration=fx}}function j_(yx,fx){if("function"!=typeof fx)throw new Error;return function(){C_(this,yx).ease=fx}}function V_(yx){return(yx+"").trim().split(/^|\s+/).every(function(fx){var xx=fx.indexOf(".");return 0<=xx&&(fx=fx.slice(0,xx)),!fx||"start"===fx})}function B_(yx,fx,xx){var vx,bx,wx=V_(fx)?S_:C_;return function(){var Tx=wx(this,yx),kx=Tx.on;kx!==vx&&(bx=(vx=kx).copy()).on(fx,xx),Tx.on=bx}}function Z_(yx){return function(){var fx=this.parentNode;for(var xx in this.__transition)if(+xx!==yx)return;fx&&fx.removeChild(this)}}function W_(yx,fx){var xx,vx,bx;return function(){var wx=Hp(this,yx),Tx=(this.style.removeProperty(yx),Hp(this,yx));return wx===Tx?null:wx===xx&&Tx===vx?bx:bx=fx(xx=wx,vx=Tx)}}function R_(yx){return function(){this.style.removeProperty(yx)}}function J_(yx,fx,xx){var vx,bx;return function(){var wx=Hp(this,yx);return wx===xx?null:wx===vx?bx:bx=fx(vx=wx,xx)}}function G_(yx,fx,xx){var vx,bx,wx;return function(){var Tx=Hp(this,yx),kx=xx(this);return null==kx&&(this.style.removeProperty(yx),kx=Hp(this,yx)),Tx===kx?null:Tx===vx&&kx===bx?wx:wx=fx(vx=Tx,bx=kx)}}function K_(yx,fx,xx){function vx(){var bx=this,wx=fx.apply(bx,arguments);return wx&&function(Tx){bx.style.setProperty(yx,wx(Tx),xx)}}return vx._value=fx,vx}function Q_(yx){return function(){this.textContent=yx}}function eh(yx){return function(){var fx=yx(this);this.textContent=null==fx?"":fx}}function th(yx,fx,xx,vx){this._groups=yx,this._parents=fx,this._name=xx,this._id=vx}function oh(){return++Bf}function ih(yx,fx){for(var xx;!(xx=yx.__transition)||!(xx=xx[fx]);)if(!(yx=yx.parentNode))return Rf.time=g_(),Rf;return xx}function lh(yx,fx,xx){this.target=yx,this.type=fx,this.transform=xx}function rh(yx,fx,xx){this.k=yx,this.x=fx,this.y=xx}function dh(){el.event.stopImmediatePropagation()}function sh(){return!el.event.button}function ch(){var yx,fx,xx=this;return xx instanceof SVGElement?(yx=(xx=xx.ownerSVGElement||xx).width.baseVal.value,fx=xx.height.baseVal.value):(yx=xx.clientWidth,fx=xx.clientHeight),[[0,0],[yx,fx]]}function uh(){return this.__zoom||Kf}function ph(){el.event.stopImmediatePropagation()}function _h(yx){return{type:yx}}function hh(){return!el.event.button}function mh(){var yx=this.ownerSVGElement||this;return[[0,0],[yx.width.baseVal.value,yx.height.baseVal.value]]}function gh(yx){for(;!yx.__brush;)if(!(yx=yx.parentNode))return;return yx.__brush}function yh(yx){return yx[0][0]===yx[1][0]||yx[0][1]===yx[1][1]}function vh(yx){function fx(Ux){var Ax=Ux.property("__brush",Tx).selectAll(".overlay").data([_h("overlay")]);Ax.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ux.overlay).merge(Ax).each(function(){var Ex=gh(this).extent;Ry(this).attr("x",Ex[0][0]).attr("y",Ex[0][1]).attr("width",Ex[1][0]-Ex[0][0]).attr("height",Ex[1][1]-Ex[0][1])}),Ux.selectAll(".selection").data([_h("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ux.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Yx=Ux.selectAll(".handle").data(yx.handles,function(Ex){return Ex.type});Yx.exit().remove(),Yx.enter().append("rect").attr("class",function(Ex){return"handle handle--"+Ex.type}).attr("cursor",function(Ex){return ux[Ex.type]}),Ux.each(xx).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",wx)}function xx(){var Ux=Ry(this),Ax=gh(this).selection;Ax?(Ux.selectAll(".selection").style("display",null).attr("x",Ax[0][0]).attr("y",Ax[0][1]).attr("width",Ax[1][0]-Ax[0][0]).attr("height",Ax[1][1]-Ax[0][1]),Ux.selectAll(".handle").style("display",null).attr("x",function(Yx){return"e"===Yx.type[Yx.type.length-1]?Ax[1][0]-Mx/2:Ax[0][0]-Mx/2}).attr("y",function(Yx){return"s"===Yx.type[0]?Ax[1][1]-Mx/2:Ax[0][1]-Mx/2}).attr("width",function(Yx){return"n"===Yx.type||"s"===Yx.type?Ax[1][0]-Ax[0][0]+Mx:Mx}).attr("height",function(Yx){return"e"===Yx.type||"w"===Yx.type?Ax[1][1]-Ax[0][1]+Mx:Mx})):Ux.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function vx(Ux,Ax){return Ux.__brush.emitter||new bx(Ux,Ax)}function bx(Ux,Ax){this.that=Ux,this.args=Ax,this.state=Ux.__brush,this.active=0}function wx(){function Ux(){var pv=_y(Zx);!iv||Vx||Bx||(Math.abs(pv[0]-rv[0])>Math.abs(pv[1]-rv[1])?Bx=!0:Vx=!0),rv=pv,jx=!0,ox(),Ax()}function Ax(){var pv;switch(Ox=rv[0]-lv[0],$x=rv[1]-lv[1],Rx){case ix:case ax:Jx&&(Ox=Math.max(tv-Dx,Math.min(ov-Xx,Ox)),Fx=Dx+Ox,qx=Xx+Ox),Gx&&($x=Math.max(nv-Lx,Math.min(av-Ix,$x)),Hx=Lx+$x,Nx=Ix+$x);break;case lx:0>Jx?(Ox=Math.max(tv-Dx,Math.min(ov-Dx,Ox)),Fx=Dx+Ox,qx=Xx):0<Jx&&(Ox=Math.max(tv-Xx,Math.min(ov-Xx,Ox)),Fx=Dx,qx=Xx+Ox),0>Gx?($x=Math.max(nv-Lx,Math.min(av-Lx,$x)),Hx=Lx+$x,Nx=Ix):0<Gx&&($x=Math.max(nv-Ix,Math.min(av-Ix,$x)),Hx=Lx,Nx=Ix+$x);break;case rx:Jx&&(Fx=Math.max(tv,Math.min(ov,Dx-Ox*Jx)),qx=Math.max(tv,Math.min(ov,Xx+Ox*Jx))),Gx&&(Hx=Math.max(nv,Math.min(av,Lx-$x*Gx)),Nx=Math.max(nv,Math.min(av,Ix+$x*Gx)));}qx<Fx&&(Jx*=-1,pv=Dx,Dx=Xx,Xx=pv,pv=Fx,Fx=qx,qx=pv,Wx in px&&cv.attr("cursor",ux[Wx=px[Wx]])),Nx<Hx&&(Gx*=-1,pv=Lx,Lx=Ix,Ix=pv,pv=Hx,Hx=Nx,Nx=pv,Wx in _x&&cv.attr("cursor",ux[Wx=_x[Wx]])),Kx.selection&&(ev=Kx.selection),Vx&&(Fx=ev[0][0],qx=ev[1][0]),Bx&&(Hx=ev[0][1],Nx=ev[1][1]),ev[0][0]===Fx&&ev[0][1]===Hx&&ev[1][0]===qx&&ev[1][1]===Nx||(Kx.selection=[[Fx,Hx],[qx,Nx]],xx.call(Zx),dv.brush())}function Yx(){if(ph(),el.event.touches){if(el.event.touches.length)return;kx&&clearTimeout(kx),kx=setTimeout(function(){kx=null},500),sv.on("touchmove.brush touchend.brush touchcancel.brush",null)}else u_(el.event.view,jx),uv.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);sv.attr("pointer-events","all"),cv.attr("cursor",ux.overlay),Kx.selection&&(ev=Kx.selection),yh(ev)&&(Kx.selection=null,xx.call(Zx)),dv.end()}function Ex(){switch(el.event.keyCode){case 16:iv=Jx&&Gx;break;case 18:Rx===lx&&(Jx&&(Xx=qx-Ox*Jx,Dx=Fx+Ox*Jx),Gx&&(Ix=Nx-$x*Gx,Lx=Hx+$x*Gx),Rx=rx,Ax());break;case 32:Rx!==lx&&Rx!==rx||(0>Jx?Xx=qx-Ox:0<Jx&&(Dx=Fx-Ox),0>Gx?Ix=Nx-$x:0<Gx&&(Lx=Hx-$x),Rx=ix,cv.attr("cursor",ux.selection),Ax());break;default:return;}ox()}function Px(){switch(el.event.keyCode){case 16:iv&&(Vx=Bx=iv=!1,Ax());break;case 18:Rx===rx&&(0>Jx?Xx=qx:0<Jx&&(Dx=Fx),0>Gx?Ix=Nx:0<Gx&&(Lx=Hx),Rx=lx,Ax());break;case 32:Rx===ix&&(el.event.altKey?(Jx&&(Xx=qx-Ox*Jx,Dx=Fx+Ox*Jx),Gx&&(Ix=Nx-$x*Gx,Lx=Hx+$x*Gx),Rx=rx):(0>Jx?Xx=qx:0<Jx&&(Dx=Fx),0>Gx?Ix=Nx:0<Gx&&(Lx=Hx),Rx=lx),cv.attr("cursor",ux[Wx]),Ax());break;default:return;}ox()}if(el.event.touches){if(el.event.changedTouches.length<el.event.touches.length)return ox();}else if(kx)return;if(Cx.apply(this,arguments)){var Dx,Fx,Lx,Hx,Xx,qx,Ix,Nx,Ox,$x,jx,Vx,Bx,Zx=this,Wx=el.event.target.__data__.type,Rx="selection"===(el.event.metaKey?Wx="overlay":Wx)?ax:el.event.altKey?rx:lx,Jx=yx===sx?null:hx[Wx],Gx=yx===dx?null:mx[Wx],Kx=gh(Zx),Qx=Kx.extent,ev=Kx.selection,tv=Qx[0][0],nv=Qx[0][1],ov=Qx[1][0],av=Qx[1][1],iv=Jx&&Gx&&el.event.shiftKey,lv=_y(Zx),rv=lv,dv=vx(Zx,arguments).beforestart();"overlay"===Wx?Kx.selection=ev=[[Dx=yx===sx?tv:lv[0],Lx=yx===dx?nv:lv[1]],[Xx=yx===sx?ov:Dx,Ix=yx===dx?av:Lx]]:(Dx=ev[0][0],Lx=ev[0][1],Xx=ev[1][0],Ix=ev[1][1]),Fx=Dx,Hx=Lx,qx=Xx,Nx=Ix;var sv=Ry(Zx).attr("pointer-events","none"),cv=sv.selectAll(".overlay").attr("cursor",ux[Wx]);if(el.event.touches)sv.on("touchmove.brush",Ux,!0).on("touchend.brush touchcancel.brush",Yx,!0);else{var uv=Ry(el.event.view).on("keydown.brush",Ex,!0).on("keyup.brush",Px,!0).on("mousemove.brush",Ux,!0).on("mouseup.brush",Yx,!0);Qy(el.event.view)}ph(),Sf(Zx),xx.call(Zx),dv.start()}}function Tx(){var Ux=this.__brush||{selection:null};return Ux.extent=Sx.apply(this,arguments),Ux.dim=yx,Ux}var kx,Sx=mh,Cx=hh,zx=sp(fx,"start","brush","end"),Mx=6;return fx.move=function(Ux,Ax){Ux.selection?Ux.on("start.brush",function(){vx(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){vx(this,arguments).end()}).tween("brush",function(){function Yx(Xx){Px.selection=1===Xx&&yh(Lx)?null:Hx(Xx),xx.call(Ex),Dx.brush()}var Ex=this,Px=Ex.__brush,Dx=vx(Ex,arguments),Fx=Px.selection,Lx=yx.input("function"==typeof Ax?Ax.apply(this,arguments):Ax,Px.extent),Hx=Tg(Fx,Lx);return Fx&&Lx?Yx:Yx(1)}):Ux.each(function(){var Yx=this,Ex=arguments,Px=Yx.__brush,Dx=yx.input("function"==typeof Ax?Ax.apply(Yx,Ex):Ax,Px.extent),Fx=vx(Yx,Ex).beforestart();Sf(Yx),Px.selection=null==Dx||yh(Dx)?null:Dx,xx.call(Yx),Fx.start().brush().end()})},bx.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(Ax){bp(new nx(fx,Ax,yx.output(this.state.selection)),zx.apply,zx,[Ax,this.that,this.args])}},fx.extent=function(Ux){return arguments.length?(Sx="function"==typeof Ux?Ux:tx([[+Ux[0][0],+Ux[0][1]],[+Ux[1][0],+Ux[1][1]]]),fx):Sx},fx.filter=function(Ux){return arguments.length?(Cx="function"==typeof Ux?Ux:tx(!!Ux),fx):Cx},fx.handleSize=function(Ux){return arguments.length?(Mx=+Ux,fx):Mx},fx.on=function(){var Ux=zx.on.apply(zx,arguments);return Ux===zx?fx:Ux},fx}var bh=function(fx,xx){return fx<xx?-1:fx>xx?1:fx>=xx?0:NaN},wh=function(fx){return 1===fx.length&&(fx=tl(fx)),{left:function(vx,bx,wx,Tx){for(null==wx&&(wx=0),null==Tx&&(Tx=vx.length);wx<Tx;){var kx=wx+Tx>>>1;0>fx(vx[kx],bx)?wx=kx+1:Tx=kx}return wx},right:function(vx,bx,wx,Tx){for(null==wx&&(wx=0),null==Tx&&(Tx=vx.length);wx<Tx;){var kx=wx+Tx>>>1;0<fx(vx[kx],bx)?Tx=kx:wx=kx+1}return wx}}},Th=wh(bh).right,Sh=Math.sqrt(50),Ch=Math.sqrt(10),zh=Math.sqrt(2),Mh=function(fx,xx,vx){var bx,wx,Tx,kx=xx<fx,Sx=-1;if(kx&&(bx=fx,fx=xx,xx=bx),0===(Tx=nl(fx,xx,vx))||!isFinite(Tx))return[];if(0<Tx)for(fx=Math.ceil(fx/Tx),xx=Math.floor(xx/Tx),wx=Array(bx=Math.ceil(xx-fx+1));++Sx<bx;)wx[Sx]=(fx+Sx)*Tx;else for(fx=Math.floor(fx*Tx),xx=Math.ceil(xx*Tx),wx=Array(bx=Math.ceil(fx-xx+1));++Sx<bx;)wx[Sx]=(fx-Sx)/Tx;return kx&&wx.reverse(),wx},Yh=Math.PI,Eh=2*Yh;al.prototype=il.prototype={constructor:al,moveTo:function(fx,xx){this._+="M"+(this._x0=this._x1=+fx)+","+(this._y0=this._y1=+xx)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(fx,xx){this._+="L"+(this._x1=+fx)+","+(this._y1=+xx)},quadraticCurveTo:function(fx,xx,vx,bx){this._+="Q"+ +fx+","+ +xx+","+(this._x1=+vx)+","+(this._y1=+bx)},bezierCurveTo:function(fx,xx,vx,bx,wx,Tx){this._+="C"+ +fx+","+ +xx+","+ +vx+","+ +bx+","+(this._x1=+wx)+","+(this._y1=+Tx)},arcTo:function(fx,xx,vx,bx,wx){fx=+fx,xx=+xx,vx=+vx,bx=+bx,wx=+wx;var Tx=this._x1,kx=this._y1,Sx=vx-fx,Cx=bx-xx,zx=Tx-fx,Mx=kx-xx,Ux=zx*zx+Mx*Mx;if(0>wx)throw new Error("negative radius: "+wx);if(null===this._x1)this._+="M"+(this._x1=fx)+","+(this._y1=xx);else if(!(1e-6<Ux));else if(1e-6<Math.abs(Mx*Sx-Cx*zx)&&wx){var Ax=vx-Tx,Yx=bx-kx,Ex=Sx*Sx+Cx*Cx,Dx=Math.sqrt(Ex),Fx=Math.sqrt(Ux),Lx=wx*Math.tan((Yh-Math.acos((Ex+Ux-(Ax*Ax+Yx*Yx))/(2*Dx*Fx)))/2),Hx=Lx/Fx,Xx=Lx/Dx;1e-6<Math.abs(Hx-1)&&(this._+="L"+(fx+Hx*zx)+","+(xx+Hx*Mx)),this._+="A"+wx+","+wx+",0,0,"+ +(Mx*Ax>zx*Yx)+","+(this._x1=fx+Xx*Sx)+","+(this._y1=xx+Xx*Cx)}else this._+="L"+(this._x1=fx)+","+(this._y1=xx)},arc:function(fx,xx,vx,bx,wx,Tx){fx=+fx,xx=+xx;var kx=(vx=+vx)*Math.cos(bx),Sx=vx*Math.sin(bx),Cx=fx+kx,zx=xx+Sx,Mx=1^Tx,Ux=Tx?bx-wx:wx-bx;if(0>vx)throw new Error("negative radius: "+vx);null===this._x1?this._+="M"+Cx+","+zx:(1e-6<Math.abs(this._x1-Cx)||1e-6<Math.abs(this._y1-zx))&&(this._+="L"+Cx+","+zx),vx&&(0>Ux&&(Ux=Ux%Eh+Eh),Ux>Eh-1e-6?this._+="A"+vx+","+vx+",0,1,"+Mx+","+(fx-kx)+","+(xx-Sx)+"A"+vx+","+vx+",0,1,"+Mx+","+(this._x1=Cx)+","+(this._y1=zx):1e-6<Ux&&(this._+="A"+vx+","+vx+",0,"+ +(Ux>=Yh)+","+Mx+","+(this._x1=fx+vx*Math.cos(wx))+","+(this._y1=xx+vx*Math.sin(wx))))},rect:function(fx,xx,vx,bx){this._+="M"+(this._x0=this._x1=+fx)+","+(this._y0=this._y1=+xx)+"h"+ +vx+"v"+ +bx+"h"+-vx+"Z"},toString:function(){return this._}};var Dh=function(fx){return function(){return fx}},Fh=1e-12;ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(fx,xx){switch(fx=+fx,xx=+xx,this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2;default:this._context.lineTo(fx,xx);}}};var Lh=function(fx){return new ll(fx)},Hh=function(){function fx(Sx){var Cx,zx,Mx,Ux=Sx.length,Ax=!1;for(null==wx&&(kx=Tx(Mx=il())),Cx=0;Cx<=Ux;++Cx)!(Cx<Ux&&bx(zx=Sx[Cx],Cx,Sx))===Ax&&((Ax=!Ax)?kx.lineStart():kx.lineEnd()),Ax&&kx.point(+xx(zx,Cx,Sx),+vx(zx,Cx,Sx));if(Mx)return kx=null,Mx+""||null}var xx=rl,vx=dl,bx=Dh(!0),wx=null,Tx=Lh,kx=null;return fx.x=function(Sx){return arguments.length?(xx="function"==typeof Sx?Sx:Dh(+Sx),fx):xx},fx.y=function(Sx){return arguments.length?(vx="function"==typeof Sx?Sx:Dh(+Sx),fx):vx},fx.defined=function(Sx){return arguments.length?(bx="function"==typeof Sx?Sx:Dh(!!Sx),fx):bx},fx.curve=function(Sx){return arguments.length?(Tx=Sx,null!=wx&&(kx=Tx(wx)),fx):Tx},fx.context=function(Sx){return arguments.length?(null==Sx?wx=kx=null:kx=Tx(wx=Sx),fx):wx},fx};cl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(fx,xx){switch(fx=+fx,xx=+xx,this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sl(this,fx,xx);}this._x0=this._x1,this._x1=fx,this._y0=this._y1,this._y1=xx}};pl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ul(this,this._x1,this._y1);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(fx,xx){switch(fx=+fx,xx=+xx,this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2,this._x1=fx,this._y1=xx;break;case 2:this._point=3;default:ul(this,fx,xx);}this._x0=this._x1,this._x1=this._x2,this._x2=fx,this._y0=this._y1,this._y1=this._y2,this._y2=xx}};var Ih=function yx(fx){function xx(vx){return new pl(vx,fx)}return xx.tension=function(vx){return yx(+vx)},xx}(0);hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(fx,xx){if(fx=+fx,xx=+xx,this._point){var vx=this._x2-fx,bx=this._y2-xx;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(vx*vx+bx*bx,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2;break;case 2:this._point=3;default:_l(this,fx,xx);}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=fx,this._y0=this._y1,this._y1=this._y2,this._y2=xx}};var Nh=function yx(fx){function xx(vx){return fx?new hl(vx,fx):new pl(vx,0)}return xx.alpha=function(vx){return yx(+vx)},xx}(.5);xl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fl(this,this._t0,yl(this,this._t0));}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(fx,xx){var vx=NaN;if(fx=+fx,xx=+xx,fx!==this._x1||xx!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2;break;case 2:this._point=3,fl(this,yl(this,vx=gl(this,fx,xx)),vx);break;default:fl(this,this._t0,vx=gl(this,fx,xx));}this._x0=this._x1,this._x1=fx,this._y0=this._y1,this._y1=xx,this._t0=vx}}},(function(yx){this._context=new bl(yx)}.prototype=Object.create(xl.prototype)).point=function(yx,fx){xl.prototype.point.call(this,fx,yx)},bl.prototype={moveTo:function(fx,xx){this._context.moveTo(xx,fx)},closePath:function(){this._context.closePath()},lineTo:function(fx,xx){this._context.lineTo(xx,fx)},bezierCurveTo:function(fx,xx,vx,bx,wx,Tx){this._context.bezierCurveTo(xx,fx,bx,vx,Tx,wx)}},Tl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var fx=this._x,xx=this._y,vx=fx.length;if(vx)if(this._line?this._context.lineTo(fx[0],xx[0]):this._context.moveTo(fx[0],xx[0]),2===vx)this._context.lineTo(fx[1],xx[1]);else for(var bx=kl(fx),wx=kl(xx),Tx=0,kx=1;kx<vx;++Tx,++kx)this._context.bezierCurveTo(bx[0][Tx],wx[0][Tx],bx[1][Tx],wx[1][Tx],fx[kx],xx[kx]);(this._line||0!==this._line&&1===vx)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(fx,xx){this._x.push(+fx),this._y.push(+xx)}};Sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(fx,xx){switch(fx=+fx,xx=+xx,this._point){case 0:this._point=1,this._line?this._context.lineTo(fx,xx):this._context.moveTo(fx,xx);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,xx),this._context.lineTo(fx,xx);else{var vx=this._x*(1-this._t)+fx*this._t;this._context.lineTo(vx,this._y),this._context.lineTo(vx,xx)}}this._x=fx,this._y=xx}};var jh=new Date,Vh=new Date,Bh=Ml(function(){},function(yx,fx){yx.setTime(+yx+fx)},function(yx,fx){return fx-yx});Bh.every=function(yx){return yx=Math.floor(yx),isFinite(yx)&&0<yx?1<yx?Ml(function(fx){fx.setTime(Math.floor(fx/yx)*yx)},function(fx,xx){fx.setTime(+fx+xx*yx)},function(fx,xx){return(xx-fx)/yx}):Bh:null};var Zh=6e4,Wh=6048e5,Rh=Ml(function(yx){yx.setTime(1e3*Math.floor(yx/1e3))},function(yx,fx){yx.setTime(+yx+1e3*fx)},function(yx,fx){return(fx-yx)/1e3},function(yx){return yx.getUTCSeconds()}),Jh=Ml(function(yx){yx.setTime(Math.floor(yx/Zh)*Zh)},function(yx,fx){yx.setTime(+yx+fx*Zh)},function(yx,fx){return(fx-yx)/Zh},function(yx){return yx.getMinutes()}),Gh=Ml(function(yx){var fx=yx.getTimezoneOffset()*Zh%36e5;0>fx&&(fx+=36e5),yx.setTime(36e5*Math.floor((+yx-fx)/36e5)+fx)},function(yx,fx){yx.setTime(+yx+36e5*fx)},function(yx,fx){return(fx-yx)/36e5},function(yx){return yx.getHours()}),Kh=Ml(function(yx){yx.setHours(0,0,0,0)},function(yx,fx){yx.setDate(yx.getDate()+fx)},function(yx,fx){return(fx-yx-(fx.getTimezoneOffset()-yx.getTimezoneOffset())*Zh)/864e5},function(yx){return yx.getDate()-1}),Qh=Ul(0),em=Ul(1),tm=(Ul(2),Ul(3),Ul(4),Ul(5),Ul(6),Ml(function(yx){yx.setDate(1),yx.setHours(0,0,0,0)},function(yx,fx){yx.setMonth(yx.getMonth()+fx)},function(yx,fx){return fx.getMonth()-yx.getMonth()+12*(fx.getFullYear()-yx.getFullYear())},function(yx){return yx.getMonth()})),nm=Ml(function(yx){yx.setMonth(0,1),yx.setHours(0,0,0,0)},function(yx,fx){yx.setFullYear(yx.getFullYear()+fx)},function(yx,fx){return fx.getFullYear()-yx.getFullYear()},function(yx){return yx.getFullYear()});nm.every=function(yx){return isFinite(yx=Math.floor(yx))&&0<yx?Ml(function(fx){fx.setFullYear(Math.floor(fx.getFullYear()/yx)*yx),fx.setMonth(0,1),fx.setHours(0,0,0,0)},function(fx,xx){fx.setFullYear(fx.getFullYear()+xx*yx)}):null},Ml(function(yx){yx.setUTCSeconds(0,0)},function(yx,fx){yx.setTime(+yx+fx*Zh)},function(yx,fx){return(fx-yx)/Zh},function(yx){return yx.getUTCMinutes()}),Ml(function(yx){yx.setUTCMinutes(0,0,0)},function(yx,fx){yx.setTime(+yx+36e5*fx)},function(yx,fx){return(fx-yx)/36e5},function(yx){return yx.getUTCHours()});var om=Ml(function(yx){yx.setUTCHours(0,0,0,0)},function(yx,fx){yx.setUTCDate(yx.getUTCDate()+fx)},function(yx,fx){return(fx-yx)/864e5},function(yx){return yx.getUTCDate()-1}),am=Al(0),im=Al(1),lm=(Al(2),Al(3),Al(4),Al(5),Al(6),Ml(function(yx){yx.setUTCDate(1),yx.setUTCHours(0,0,0,0)},function(yx,fx){yx.setUTCMonth(yx.getUTCMonth()+fx)},function(yx,fx){return fx.getUTCMonth()-yx.getUTCMonth()+12*(fx.getUTCFullYear()-yx.getUTCFullYear())},function(yx){return yx.getUTCMonth()}),Ml(function(yx){yx.setUTCMonth(0,1),yx.setUTCHours(0,0,0,0)},function(yx,fx){yx.setUTCFullYear(yx.getUTCFullYear()+fx)},function(yx,fx){return fx.getUTCFullYear()-yx.getUTCFullYear()},function(yx){return yx.getUTCFullYear()}));lm.every=function(yx){return isFinite(yx=Math.floor(yx))&&0<yx?Ml(function(fx){fx.setUTCFullYear(Math.floor(fx.getUTCFullYear()/yx)*yx),fx.setUTCMonth(0,1),fx.setUTCHours(0,0,0,0)},function(fx,xx){fx.setUTCFullYear(fx.getUTCFullYear()+xx*yx)}):null};var rm,dm=function(fx,xx){if(0>(vx=(fx=xx?fx.toExponential(xx-1):fx.toExponential()).indexOf("e")))return null;var vx,bx=fx.slice(0,vx);return[1<bx.length?bx[0]+bx.slice(2):bx,+fx.slice(vx+1)]},sm=function(fx){return fx=dm(Math.abs(fx)),fx?fx[1]:NaN},cm=function(fx,xx){return function(vx,bx){for(var wx=vx.length,Tx=[],kx=0,Sx=fx[0],Cx=0;0<wx&&0<Sx&&(Cx+Sx+1>bx&&(Sx=Math.max(1,bx-Cx)),Tx.push(vx.substring(wx-=Sx,wx+Sx)),!((Cx+=Sx+1)>bx));)Sx=fx[kx=(kx+1)%fx.length];return Tx.reverse().join(xx)}},um=function(fx){return function(xx){return xx.replace(/[0-9]/g,function(vx){return fx[+vx]})}},pm=function(fx,xx){var vx=dm(fx,xx);if(!vx)return fx+"";var bx=vx[0],wx=vx[1];return 0>wx?"0."+Array(-wx).join("0")+bx:bx.length>wx+1?bx.slice(0,wx+1)+"."+bx.slice(wx+1):bx+Array(wx-bx.length+2).join("0")},_m={"":function(fx,xx){t:for(var vx,bx=(fx=fx.toPrecision(xx)).length,wx=1,Tx=-1;wx<bx;++wx)switch(fx[wx]){case".":Tx=vx=wx;break;case"0":0===Tx&&(Tx=wx),vx=wx;break;case"e":break t;default:0<Tx&&(Tx=0);}return 0<Tx?fx.slice(0,Tx)+fx.slice(vx+1):fx},"%":function(fx,xx){return(100*fx).toFixed(xx)},b:function(fx){return Math.round(fx).toString(2)},c:function(fx){return fx+""},d:function(fx){return Math.round(fx).toString(10)},e:function(fx,xx){return fx.toExponential(xx)},f:function(fx,xx){return fx.toFixed(xx)},g:function(fx,xx){return fx.toPrecision(xx)},o:function(fx){return Math.round(fx).toString(8)},p:function(fx,xx){return pm(100*fx,xx)},r:pm,s:function(fx,xx){var vx=dm(fx,xx);if(!vx)return fx+"";var bx=vx[0],wx=vx[1],Tx=wx-(rm=3*Math.max(-8,Math.min(8,Math.floor(wx/3))))+1,kx=bx.length;return Tx===kx?bx:Tx>kx?bx+Array(Tx-kx+1).join("0"):0<Tx?bx.slice(0,Tx)+"."+bx.slice(Tx):"0."+Array(1-Tx).join("0")+dm(fx,Math.max(0,xx+Tx-1))[0]},X:function(fx){return Math.round(fx).toString(16).toUpperCase()},x:function(fx){return Math.round(fx).toString(16)}},hm=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Yl.prototype=El.prototype,El.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var mm,gm,ym=function(fx){return fx},fm=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"],xm=function(fx){function xx(Cx){function zx(Nx){var Ox,$x,jx,Vx=Hx,Bx=Xx;if("c"===Lx)Bx=qx(Nx)+Bx,Nx="";else{var Zx=0>(Nx=+Nx);if(Nx=qx(Math.abs(Nx),Fx),Zx&&0==+Nx&&(Zx=!1),Vx=(Zx?"("===Ax?Ax:"-":"-"===Ax||"("===Ax?"":Ax)+Vx,Bx=Bx+("s"===Lx?fm[8+rm/3]:"")+(Zx&&"("===Ax?")":""),Ix)for(Ox=-1,$x=Nx.length;++Ox<$x;)if(48>(jx=Nx.charCodeAt(Ox))||57<jx){Bx=(46===jx?Tx+Nx.slice(Ox+1):Nx.slice(Ox))+Bx,Nx=Nx.slice(0,Ox);break}}Dx&&!Ex&&(Nx=bx(Nx,1/0));var Wx=Vx.length+Nx.length+Bx.length,Rx=Wx<Px?Array(Px-Wx+1).join(Mx):"";switch(Dx&&Ex&&(Nx=bx(Rx+Nx,Rx.length?Px-Bx.length:1/0),Rx=""),Ux){case"<":Nx=Vx+Nx+Bx+Rx;break;case"=":Nx=Vx+Rx+Nx+Bx;break;case"^":Nx=Rx.slice(0,Wx=Rx.length>>1)+Vx+Nx+Bx+Rx.slice(Wx);break;default:Nx=Rx+Vx+Nx+Bx;}return kx(Nx)}var Mx=(Cx=Yl(Cx)).fill,Ux=Cx.align,Ax=Cx.sign,Yx=Cx.symbol,Ex=Cx.zero,Px=Cx.width,Dx=Cx.comma,Fx=Cx.precision,Lx=Cx.type,Hx="$"===Yx?wx[0]:"#"===Yx&&/[boxX]/.test(Lx)?"0"+Lx.toLowerCase():"",Xx="$"===Yx?wx[1]:/[%p]/.test(Lx)?Sx:"",qx=_m[Lx],Ix=!Lx||/[defgprs%]/.test(Lx);return Fx=null==Fx?Lx?6:12:/[gprs]/.test(Lx)?Math.max(1,Math.min(21,Fx)):Math.max(0,Math.min(20,Fx)),zx.toString=function(){return Cx+""},zx}var bx=fx.grouping&&fx.thousands?cm(fx.grouping,fx.thousands):ym,wx=fx.currency,Tx=fx.decimal,kx=fx.numerals?um(fx.numerals):ym,Sx=fx.percent||"%";return{format:xx,formatPrefix:function(Cx,zx){var Mx=xx((Cx=Yl(Cx),Cx.type="f",Cx)),Ux=3*Math.max(-8,Math.min(8,Math.floor(sm(zx)/3))),Ax=Math.pow(10,-Ux),Yx=fm[8+Ux/3];return function(Ex){return Mx(Ax*Ex)+Yx}}}};Pl({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var vm,bm,wm,Tm=function(fx){return Math.max(0,-sm(Math.abs(fx)))},km=function(fx,xx){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(sm(xx)/3)))-sm(Math.abs(fx)))},Sm=function(fx,xx){return fx=Math.abs(fx),xx=Math.abs(xx)-fx,Math.max(0,sm(xx)-sm(fx))+1},Cm={"-":"",_:" ",0:"0"},zm=/^\s*\d+/,Mm=/^%/,Um=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Yd({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Date.prototype.toISOString||bm("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||wm("%Y-%m-%dT%H:%M:%S.%LZ"),Dd.prototype=Fd.prototype={constructor:Dd,has:function(fx){return"$"+fx in this},get:function(fx){return this["$"+fx]},set:function(fx,xx){return this["$"+fx]=xx,this},remove:function(fx){var xx="$"+fx;return xx in this&&delete this[xx]},clear:function(){for(var fx in this)"$"===fx[0]&&delete this[fx]},keys:function(){var fx=[];for(var xx in this)"$"===xx[0]&&fx.push(xx.slice(1));return fx},values:function(){var fx=[];for(var xx in this)"$"===xx[0]&&fx.push(this[xx]);return fx},entries:function(){var fx=[];for(var xx in this)"$"===xx[0]&&fx.push({key:xx.slice(1),value:this[xx]});return fx},size:function(){var fx=0;for(var xx in this)"$"===xx[0]&&++fx;return fx},empty:function(){for(var fx in this)if("$"===fx[0])return!1;return!0},each:function(fx){for(var xx in this)"$"===xx[0]&&fx(this[xx],xx.slice(1),this)}};var Am=Fd.prototype;Ld.prototype=function(yx,fx){var xx=new Ld;if(yx instanceof Ld)yx.each(function(wx){xx.add(wx)});else if(yx){var vx=-1,bx=yx.length;if(null==fx)for(;++vx<bx;)xx.add(yx[vx]);else for(;++vx<bx;)xx.add(fx(yx[vx],vx,yx))}return xx}.prototype={constructor:Ld,has:Am.has,add:function(fx){return fx+="",this["$"+fx]=fx,this},remove:Am.remove,clear:Am.clear,values:Am.keys,size:Am.size,empty:Am.empty,each:Am.each};var Ym=Array.prototype,Em=Ym.map,Pm=Ym.slice,Dm=function(fx,xx,vx){fx.prototype=xx.prototype=vx,vx.constructor=fx},Xm=/^#([0-9a-f]{3})$/,qm=/^#([0-9a-f]{6})$/,Im=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,Nm=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Om=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,$m=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,jm=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Vm=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Bm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dm(qd,Id,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Dm(Vd,jd,Xd(qd,{brighter:function(fx){return fx=null==fx?1/.7:Math.pow(1/.7,fx),new Vd(this.r*fx,this.g*fx,this.b*fx,this.opacity)},darker:function(fx){return fx=null==fx?.7:Math.pow(.7,fx),new Vd(this.r*fx,this.g*fx,this.b*fx,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&255>=this.r&&0<=this.g&&255>=this.g&&0<=this.b&&255>=this.b&&0<=this.opacity&&1>=this.opacity},toString:function(){var fx=this.opacity;return fx=isNaN(fx)?1:Math.max(0,Math.min(1,fx)),(1===fx?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===fx?")":", "+fx+")")}})),Dm(Rd,function(yx,fx,xx,vx){return 1===arguments.length?Zd(yx):new Rd(yx,fx,xx,null==vx?1:vx)},Xd(qd,{brighter:function(fx){return fx=null==fx?1/.7:Math.pow(1/.7,fx),new Rd(this.h,this.s,this.l*fx,this.opacity)},darker:function(fx){return fx=null==fx?.7:Math.pow(.7,fx),new Rd(this.h,this.s,this.l*fx,this.opacity)},rgb:function(){var fx=this.h%360+360*(0>this.h),xx=isNaN(fx)||isNaN(this.s)?0:this.s,vx=this.l,bx=vx+(.5>vx?vx:1-vx)*xx,wx=2*vx-bx;return new Vd(Jd(240<=fx?fx-240:fx+120,wx,bx),Jd(fx,wx,bx),Jd(120>fx?fx+240:fx-120,wx,bx),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity}}));var Zm=Math.PI/180,Wm=180/Math.PI,Rm=.95047,Jm=1,Gm=1.08883,Km=4/29,Qm=6/29,eg=3*Qm*Qm,tg=Qm*Qm*Qm;Dm(Qd,function(yx,fx,xx,vx){return 1===arguments.length?Gd(yx):new Qd(yx,fx,xx,null==vx?1:vx)},Xd(qd,{brighter:function(fx){return new Qd(this.l+18*(null==fx?1:fx),this.a,this.b,this.opacity)},darker:function(fx){return new Qd(this.l-18*(null==fx?1:fx),this.a,this.b,this.opacity)},rgb:function(){var fx=(this.l+16)/116,xx=isNaN(this.a)?fx:fx+this.a/500,vx=isNaN(this.b)?fx:fx-this.b/200;return fx=Jm*dc(fx),xx=Rm*dc(xx),vx=Gm*dc(vx),new Vd(cc(3.2404542*xx-1.5371385*fx-.4985314*vx),cc(-.969266*xx+1.8760108*fx+.041556*vx),cc(.0556434*xx-.2040259*fx+1.0572252*vx),this.opacity)}})),Dm(mc,function(yx,fx,xx,vx){return 1===arguments.length?_c(yx):new mc(yx,fx,xx,null==vx?1:vx)},Xd(qd,{brighter:function(fx){return new mc(this.h,this.c,this.l+18*(null==fx?1:fx),this.opacity)},darker:function(fx){return new mc(this.h,this.c,this.l-18*(null==fx?1:fx),this.opacity)},rgb:function(){return Gd(this).rgb()}}));var ng=-.14861,og=1.78277,ag=-.29227,ig=-.90649,lg=1.97294,rg=lg*ig,dg=lg*og,sg=og*ag-ig*ng;Dm(fc,yc,Xd(qd,{brighter:function(fx){return fx=null==fx?1/.7:Math.pow(1/.7,fx),new fc(this.h,this.s,this.l*fx,this.opacity)},darker:function(fx){return fx=null==fx?.7:Math.pow(.7,fx),new fc(this.h,this.s,this.l*fx,this.opacity)},rgb:function(){var fx=isNaN(this.h)?0:(this.h+120)*Zm,xx=+this.l,vx=isNaN(this.s)?0:this.s*xx*(1-xx),bx=Math.cos(fx),wx=Math.sin(fx);return new Vd(255*(xx+vx*(ng*bx+og*wx)),255*(xx+vx*(ag*bx+ig*wx)),255*(xx+vx*(lg*bx)),this.opacity)}}));var cg,ug,pg,_g,hg=function(fx){return function(){return fx}},mg=function yx(fx){function xx(bx,wx){var Tx=vx((bx=jd(bx)).r,(wx=jd(wx)).r),kx=vx(bx.g,wx.g),Sx=vx(bx.b,wx.b),Cx=Tc(bx.opacity,wx.opacity);return function(zx){return bx.r=Tx(zx),bx.g=kx(zx),bx.b=Sx(zx),bx.opacity=Cx(zx),bx+""}}var vx=wc(fx);return xx.gamma=yx,xx}(1),gg=function(fx,xx){var vx,bx=xx?xx.length:0,wx=fx?Math.min(bx,fx.length):0,Tx=Array(bx),kx=Array(bx);for(vx=0;vx<wx;++vx)Tx[vx]=Tg(fx[vx],xx[vx]);for(;vx<bx;++vx)kx[vx]=xx[vx];return function(Sx){for(vx=0;vx<wx;++vx)kx[vx]=Tx[vx](Sx);return kx}},yg=function(fx,xx){var vx=new Date;return fx=+fx,xx-=fx,function(bx){return vx.setTime(fx+xx*bx),vx}},fg=function(fx,xx){return fx=+fx,xx-=fx,function(vx){return fx+xx*vx}},xg=function(fx,xx){var vx,bx={},wx={};for(vx in null!==fx&&"object"==("undefined"===typeof fx?"undefined":babelHelpers.typeof(fx))||(fx={}),null!==xx&&"object"==("undefined"===typeof xx?"undefined":babelHelpers.typeof(xx))||(xx={}),xx)vx in fx?bx[vx]=Tg(fx[vx],xx[vx]):wx[vx]=xx[vx];return function(Tx){for(vx in bx)wx[vx]=bx[vx](Tx);return wx}},vg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bg=new RegExp(vg.source,"g"),wg=function(fx,xx){var vx,bx,wx,Tx=vg.lastIndex=bg.lastIndex=0,kx=-1,Sx=[],Cx=[];for(fx+="",xx+="";(vx=vg.exec(fx))&&(bx=bg.exec(xx));)(wx=bx.index)>Tx&&(wx=xx.slice(Tx,wx),Sx[kx]?Sx[kx]+=wx:Sx[++kx]=wx),(vx=vx[0])===(bx=bx[0])?Sx[kx]?Sx[kx]+=bx:Sx[++kx]=bx:(Sx[++kx]=null,Cx.push({i:kx,x:fg(vx,bx)})),Tx=bg.lastIndex;return Tx<xx.length&&(wx=xx.slice(Tx),Sx[kx]?Sx[kx]+=wx:Sx[++kx]=wx),2>Sx.length?Cx[0]?Sc(Cx[0].x):kc(xx):(xx=Cx.length,function(zx){for(var Mx,Ux=0;Ux<xx;++Ux)Sx[(Mx=Cx[Ux]).i]=Mx.x(zx);return Sx.join("")})},Tg=function(fx,xx){var vx,bx="undefined"===typeof xx?"undefined":babelHelpers.typeof(xx);return null==xx||"boolean"===bx?hg(xx):("number"===bx?fg:"string"===bx?(vx=Id(xx))?(xx=vx,mg):wg:xx instanceof Id?mg:xx instanceof Date?yg:Array.isArray(xx)?gg:"function"!=typeof xx.valueOf&&"function"!=typeof xx.toString||isNaN(xx)?xg:fg)(fx,xx)},kg=function(fx,xx){return fx=+fx,xx-=fx,function(vx){return Math.round(fx+xx*vx)}},Sg=180/Math.PI,Cg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},zg=function(fx,xx,vx,bx,wx,Tx){var kx,Sx,Cx;return(kx=Math.sqrt(fx*fx+xx*xx))&&(fx/=kx,xx/=kx),(Cx=fx*vx+xx*bx)&&(vx-=fx*Cx,bx-=xx*Cx),(Sx=Math.sqrt(vx*vx+bx*bx))&&(vx/=Sx,bx/=Sx,Cx/=Sx),fx*bx<xx*vx&&(fx=-fx,xx=-xx,Cx=-Cx,kx=-kx),{translateX:wx,translateY:Tx,rotate:Math.atan2(xx,fx)*Sg,skewX:Math.atan(Cx)*Sg,scaleX:kx,scaleY:Sx}},Mg=Mc(function(yx){return"none"===yx?Cg:(cg||(cg=document.createElement("DIV"),ug=document.documentElement,pg=document.defaultView),cg.style.transform=yx,yx=pg.getComputedStyle(ug.appendChild(cg),null).getPropertyValue("transform"),ug.removeChild(cg),yx=yx.slice(7,-1).split(","),zg(+yx[0],+yx[1],+yx[2],+yx[3],+yx[4],+yx[5]))},"px, ","px)","deg)"),Ug=Mc(function(yx){return null==yx?Cg:(_g||(_g=document.createElementNS("http://www.w3.org/2000/svg","g")),_g.setAttribute("transform",yx),(yx=_g.transform.baseVal.consolidate())?(yx=yx.matrix,zg(yx.a,yx.b,yx.c,yx.d,yx.e,yx.f)):Cg)},", ",")",")"),Ag=Math.SQRT2,Yg=function(fx,xx){var vx,bx,wx=fx[0],Tx=fx[1],kx=fx[2],Sx=xx[0],Cx=xx[1],zx=xx[2],Mx=Sx-wx,Ux=Cx-Tx,Ax=Mx*Mx+Ux*Ux;if(1e-12>Ax)bx=Math.log(zx/kx)/Ag,vx=function(Hx){return[wx+Hx*Mx,Tx+Hx*Ux,kx*Math.exp(Ag*Hx*bx)]};else{var Yx=Math.sqrt(Ax),Ex=(zx*zx-kx*kx+4*Ax)/(2*(2*kx)*Yx),Px=(zx*zx-kx*kx-4*Ax)/(2*(2*zx)*Yx),Dx=Math.log(Math.sqrt(Ex*Ex+1)-Ex),Fx=Math.log(Math.sqrt(Px*Px+1)-Px);bx=(Fx-Dx)/Ag,vx=function(Hx){var Xx=Hx*bx,Lx=Uc(Dx),qx=kx/(2*Yx)*(Lx*Yc(Ag*Xx+Dx)-Ac(Dx));return[wx+qx*Mx,Tx+qx*Ux,kx*Lx/Uc(Ag*Xx+Dx)]}}return vx.duration=1e3*bx,vx};Ec(function(yx,fx){var xx=fx-yx;return xx?xc(yx,180<xx||-180>xx?xx-360*Math.round(xx/360):xx):hg(isNaN(yx)?fx:yx)});var Eg=Ec(Tc),Pg=function(fx){return function(){return fx}},Dg=function(fx){return+fx},Fg=[0,1],Lg=function(fx,xx,vx){var bx,wx=fx[0],Tx=fx[fx.length-1],kx=ol(wx,Tx,null==xx?10:xx);switch((vx=Yl(null==vx?",f":vx)).type){case"s":var Sx=Math.max(Math.abs(wx),Math.abs(Tx));return null!=vx.precision||isNaN(bx=km(kx,Sx))||(vx.precision=bx),gm(vx,Sx);case"":case"e":case"g":case"p":case"r":null!=vx.precision||isNaN(bx=Sm(kx,Math.max(Math.abs(wx),Math.abs(Tx))))||(vx.precision=bx-("e"===vx.type));break;case"f":case"%":null!=vx.precision||isNaN(bx=Tm(kx))||(vx.precision=bx-2*("%"===vx.type));}return el.format(vx)},Hg=function(fx,xx){var vx,bx=0,wx=(fx=fx.slice()).length-1,Tx=fx[bx],kx=fx[wx];return kx<Tx&&(vx=bx,bx=wx,wx=vx,vx=Tx,Tx=kx,kx=vx),fx[bx]=xx.floor(Tx),fx[wx]=xx.ceil(kx),fx},Xg=1e3,qg=60*Xg,Ig=60*qg,Ng=24*Ig,Og=7*Ng,$g=30*Ng,jg=365*Ng,Bg=function(fx){return fx.match(/.{6}/g).map(function(xx){return"#"+xx})};Bg("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Bg("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Bg("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Bg("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Eg(yc(300,.5,0),yc(-240,.5,1)),Eg(yc(-100,.75,.35),yc(80,1.5,.8)),Eg(yc(260,.75,.35),yc(80,1.5,.8)),yc();var Zg=Array.prototype.slice,Wg=function(fx){return fx},Rg=1,Jg=2,Gg=3,Kg=4,Qg=1e-6,ey={value:function(){}};cp.prototype=sp.prototype={constructor:cp,on:function(fx,xx){var vx,bx=this._,wx=up(fx+"",bx),Tx=-1,kx=wx.length;{if(!(2>arguments.length)){if(null!=xx&&"function"!=typeof xx)throw new Error("invalid callback: "+xx);for(;++Tx<kx;)if(vx=(fx=wx[Tx]).type)bx[vx]=_p(bx[vx],fx.name,xx);else if(null==xx)for(vx in bx)bx[vx]=_p(bx[vx],fx.name,null);return this}for(;++Tx<kx;)if((vx=(fx=wx[Tx]).type)&&(vx=pp(bx[vx],fx.name)))return vx}},copy:function(){var fx={},xx=this._;for(var vx in xx)fx[vx]=xx[vx].slice();return new cp(fx)},call:function(fx,xx){if(0<(vx=arguments.length-2))for(var vx,bx,wx=Array(vx),Tx=0;Tx<vx;++Tx)wx[Tx]=arguments[Tx+2];if(!this._.hasOwnProperty(fx))throw new Error("unknown type: "+fx);for(Tx=0,vx=(bx=this._[fx]).length;Tx<vx;++Tx)bx[Tx].value.apply(xx,wx)},apply:function(fx,xx,vx){if(!this._.hasOwnProperty(fx))throw new Error("unknown type: "+fx);for(var bx=this._[fx],wx=0,Tx=bx.length;wx<Tx;++wx)bx[wx].value.apply(xx,vx)}};var ty="http://www.w3.org/1999/xhtml",ny={svg:"http://www.w3.org/2000/svg",xhtml:ty,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oy=function(fx){var xx=fx+="",vx=xx.indexOf(":");return 0<=vx&&"xmlns"!==(xx=fx.slice(0,vx))&&(fx=fx.slice(vx+1)),ny.hasOwnProperty(xx)?{space:ny[xx],local:fx}:fx},ay=function(fx){var xx=oy(fx);return(xx.local?mp:hp)(xx)},iy=function(fx){return function(){return this.matches(fx)}};if("undefined"!=typeof document){var ly=document.documentElement;if(!ly.matches){var ry=ly.webkitMatchesSelector||ly.msMatchesSelector||ly.mozMatchesSelector||ly.oMatchesSelector;iy=function(fx){return function(){return ry.call(this,fx)}}}}var dy=iy,sy={};el.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(sy={mouseenter:"mouseover",mouseleave:"mouseout"}));var uy=function(){for(var fx,xx=el.event;fx=xx.sourceEvent;)xx=fx;return xx},py=function(fx,xx){var vx=fx.ownerSVGElement||fx;if(vx.createSVGPoint){var bx=vx.createSVGPoint();return bx.x=xx.clientX,bx.y=xx.clientY,bx=bx.matrixTransform(fx.getScreenCTM().inverse()),[bx.x,bx.y]}var wx=fx.getBoundingClientRect();return[xx.clientX-wx.left-fx.clientLeft,xx.clientY-wx.top-fx.clientTop]},_y=function(fx){var xx=uy();return xx.changedTouches&&(xx=xx.changedTouches[0]),py(fx,xx)},hy=function(fx){return null==fx?wp:function(){return this.querySelector(fx)}},gy=function(fx){return null==fx?Tp:function(){return this.querySelectorAll(fx)}},xy=function(fx){return Array(fx.length)};kp.prototype={constructor:kp,appendChild:function(fx){return this._parent.insertBefore(fx,this._next)},insertBefore:function(fx,xx){return this._parent.insertBefore(fx,xx)},querySelector:function(fx){return this._parent.querySelector(fx)},querySelectorAll:function(fx){return this._parent.querySelectorAll(fx)}};var by=function(fx){return function(){return fx}},wy="$",Fy=function(fx){return fx.ownerDocument&&fx.ownerDocument.defaultView||fx.document&&fx||fx.defaultView};$p.prototype={add:function(fx){0>this._names.indexOf(fx)&&(this._names.push(fx),this._node.setAttribute("class",this._names.join(" ")))},remove:function(fx){var xx=this._names.indexOf(fx);0<=xx&&(this._names.splice(xx,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(fx){return 0<=this._names.indexOf(fx)}};var Wy=[null];d_.prototype=s_.prototype={constructor:d_,select:function(fx){"function"!=typeof fx&&(fx=hy(fx));for(var xx=this._groups,vx=xx.length,bx=Array(vx),wx=0;wx<vx;++wx)for(var Tx,kx,Sx=xx[wx],Cx=Sx.length,zx=bx[wx]=Array(Cx),Mx=0;Mx<Cx;++Mx)(Tx=Sx[Mx])&&(kx=fx.call(Tx,Tx.__data__,Mx,Sx))&&("__data__"in Tx&&(kx.__data__=Tx.__data__),zx[Mx]=kx);return new d_(bx,this._parents)},selectAll:function(fx){"function"!=typeof fx&&(fx=gy(fx));for(var xx=this._groups,vx=xx.length,bx=[],wx=[],Tx=0;Tx<vx;++Tx)for(var kx,Sx=xx[Tx],Cx=Sx.length,zx=0;zx<Cx;++zx)(kx=Sx[zx])&&(bx.push(fx.call(kx,kx.__data__,zx,Sx)),wx.push(kx));return new d_(bx,wx)},filter:function(fx){"function"!=typeof fx&&(fx=dy(fx));for(var xx=this._groups,vx=xx.length,bx=Array(vx),wx=0;wx<vx;++wx)for(var Tx,kx=xx[wx],Sx=kx.length,Cx=bx[wx]=[],zx=0;zx<Sx;++zx)(Tx=kx[zx])&&fx.call(Tx,Tx.__data__,zx,kx)&&Cx.push(Tx);return new d_(bx,this._parents)},data:function(fx,xx){if(!fx)return Yx=Array(this.size()),zx=-1,this.each(function(qx){Yx[++zx]=qx}),Yx;var vx=xx?Cp:Sp,bx=this._parents,wx=this._groups;"function"!=typeof fx&&(fx=by(fx));for(var Tx=wx.length,kx=Array(Tx),Sx=Array(Tx),Cx=Array(Tx),zx=0;zx<Tx;++zx){var Mx=bx[zx],Ux=wx[zx],Ax=Ux.length,Yx=fx.call(Mx,Mx&&Mx.__data__,zx,bx),Ex=Yx.length,Px=Sx[zx]=Array(Ex),Dx=kx[zx]=Array(Ex);vx(Mx,Ux,Px,Dx,Cx[zx]=Array(Ax),Yx,xx);for(var Fx,Lx,Hx=0,Xx=0;Hx<Ex;++Hx)if(Fx=Px[Hx]){for(Hx>=Xx&&(Xx=Hx+1);!(Lx=Dx[Xx])&&++Xx<Ex;);Fx._next=Lx||null}}return kx=new d_(kx,bx),kx._enter=Sx,kx._exit=Cx,kx},enter:function(){return new d_(this._enter||this._groups.map(xy),this._parents)},exit:function(){return new d_(this._exit||this._groups.map(xy),this._parents)},merge:function(fx){for(var xx=this._groups,vx=fx._groups,bx=xx.length,wx=vx.length,Tx=Math.min(bx,wx),kx=Array(bx),Sx=0;Sx<Tx;++Sx)for(var Cx,zx=xx[Sx],Mx=vx[Sx],Ux=zx.length,Ax=kx[Sx]=Array(Ux),Yx=0;Yx<Ux;++Yx)(Cx=zx[Yx]||Mx[Yx])&&(Ax[Yx]=Cx);for(;Sx<bx;++Sx)kx[Sx]=xx[Sx];return new d_(kx,this._parents)},order:function(){for(var fx=this._groups,xx=-1,vx=fx.length;++xx<vx;)for(var bx,wx=fx[xx],Tx=wx.length-1,kx=wx[Tx];0<=--Tx;)(bx=wx[Tx])&&(kx&&kx!==bx.nextSibling&&kx.parentNode.insertBefore(bx,kx),kx=bx);return this},sort:function(fx){function xx(Ux,Ax){return Ux&&Ax?fx(Ux.__data__,Ax.__data__):!Ux-!Ax}fx||(fx=zp);for(var vx=this._groups,bx=vx.length,wx=Array(bx),Tx=0;Tx<bx;++Tx){for(var kx,Sx=vx[Tx],Cx=Sx.length,zx=wx[Tx]=Array(Cx),Mx=0;Mx<Cx;++Mx)(kx=Sx[Mx])&&(zx[Mx]=kx);zx.sort(xx)}return new d_(wx,this._parents).order()},call:function(){var fx=arguments[0];return arguments[0]=this,fx.apply(null,arguments),this},nodes:function(){var fx=Array(this.size()),xx=-1;return this.each(function(){fx[++xx]=this}),fx},node:function(){for(var fx=this._groups,xx=0,vx=fx.length;xx<vx;++xx)for(var kx,bx=fx[xx],wx=0,Tx=bx.length;wx<Tx;++wx)if(kx=bx[wx],kx)return kx;return null},size:function(){var fx=0;return this.each(function(){++fx}),fx},empty:function(){return!this.node()},each:function(fx){for(var xx=this._groups,vx=0,bx=xx.length;vx<bx;++vx)for(var wx,Tx=xx[vx],kx=0,Sx=Tx.length;kx<Sx;++kx)(wx=Tx[kx])&&fx.call(wx,wx.__data__,kx,Tx);return this},attr:function(fx,xx){var vx=oy(fx);if(2>arguments.length){var bx=this.node();return vx.local?bx.getAttributeNS(vx.space,vx.local):bx.getAttribute(vx)}return this.each((null==xx?vx.local?Up:Mp:"function"==typeof xx?vx.local?Pp:Ep:vx.local?Yp:Ap)(vx,xx))},style:function(fx,xx,vx){return 1<arguments.length?this.each((null==xx?Dp:"function"==typeof xx?Lp:Fp)(fx,xx,null==vx?"":vx)):Hp(this.node(),fx)},property:function(fx,xx){return 1<arguments.length?this.each((null==xx?Xp:"function"==typeof xx?Ip:qp)(fx,xx)):this.node()[fx]},classed:function(fx,xx){var vx=Np(fx+"");if(2>arguments.length){for(var bx=Op(this.node()),wx=-1,Tx=vx.length;++wx<Tx;)if(!bx.contains(vx[wx]))return!1;return!0}return this.each(("function"==typeof xx?Wp:xx?Bp:Zp)(vx,xx))},text:function(fx){return arguments.length?this.each(null==fx?Rp:("function"==typeof fx?Gp:Jp)(fx)):this.node().textContent},html:function(fx){return arguments.length?this.each(null==fx?Kp:("function"==typeof fx?e_:Qp)(fx)):this.node().innerHTML},raise:function(){return this.each(t_)},lower:function(){return this.each(n_)},append:function(fx){var xx="function"==typeof fx?fx:ay(fx);return this.select(function(){return this.appendChild(xx.apply(this,arguments))})},insert:function(fx,xx){var vx="function"==typeof fx?fx:ay(fx),bx=null==xx?o_:"function"==typeof xx?xx:hy(xx);return this.select(function(){return this.insertBefore(vx.apply(this,arguments),bx.apply(this,arguments)||null)})},remove:function(){return this.each(a_)},datum:function(fx){return arguments.length?this.property("__data__",fx):this.node().__data__},on:function(fx,xx,vx){var bx,wx,Tx=fp(fx+""),kx=Tx.length;{if(!(2>arguments.length)){for(Sx=xx?vp:xp,null==vx&&(vx=!1),bx=0;bx<kx;++bx)this.each(Sx(Tx[bx],xx,vx));return this}var Sx=this.node().__on;if(Sx)for(var Cx,zx=0,Mx=Sx.length;zx<Mx;++zx)for(bx=0,Cx=Sx[zx];bx<kx;++bx)if((wx=Tx[bx]).type===Cx.type&&wx.name===Cx.name)return Cx.value}},dispatch:function(fx,xx){return this.each(("function"==typeof xx?r_:l_)(fx,xx))}};var Ry=function(fx){return"string"==typeof fx?new d_([[document.querySelector(fx)]],[document.documentElement]):new d_([[fx]],Wy)},Gy=function(fx,xx,vx){3>arguments.length&&(vx=xx,xx=uy().changedTouches);for(var bx,wx=0,Tx=xx?xx.length:0;wx<Tx;++wx)if((bx=xx[wx]).identifier===vx)return py(fx,bx);return null},Ky=function(){el.event.preventDefault(),el.event.stopImmediatePropagation()},Qy=function(fx){var xx=fx.document.documentElement,vx=Ry(fx).on("dragstart.drag",Ky,!0);"onselectstart"in xx?vx.on("selectstart.drag",Ky,!0):(xx.__noselect=xx.style.MozUserSelect,xx.style.MozUserSelect="none")},ef=function(fx){return function(){return fx}};p_.prototype.on=function(){var yx=this._.on.apply(this._,arguments);return yx===this._?this:yx};var tf,nf,af=0,lf=0,rf=0,df=1e3,sf=0,cf=0,uf=0,pf="object"==("undefined"===typeof performance?"undefined":babelHelpers.typeof(performance))&&performance.now?performance:Date,_f="function"==typeof requestAnimationFrame?requestAnimationFrame:function(yx){setTimeout(yx,17)};f_.prototype=x_.prototype={constructor:f_,restart:function(fx,xx,vx){if("function"!=typeof fx)throw new TypeError("callback is not a function");vx=(null==vx?g_():+vx)+(null==xx?0:+xx),this._next||nf===this||(nf?nf._next=this:tf=this,nf=this),this._call=fx,this._time=vx,k_()},stop:function(){this._call&&(this._call=null,this._time=1/0,k_())}};var hf=function(fx,xx,vx){var bx=new f_;return xx=null==xx?0:+xx,bx.restart(function(wx){bx.stop(),fx(wx+xx)},xx,vx),bx},mf=sp("start","end","interrupt"),gf=[],yf=0,ff=1,xf=2,vf=3,bf=4,wf=5,Tf=6,kf=function(fx,xx,vx,bx,wx,Tx){var kx=fx.__transition;if(!kx)fx.__transition={};else if(vx in kx)return;M_(fx,vx,{name:xx,index:bx,group:wx,on:mf,tween:gf,time:Tx.time,delay:Tx.delay,duration:Tx.duration,ease:Tx.ease,timer:null,state:yf})},Sf=function(fx,xx){var vx,bx,wx,Tx=fx.__transition,kx=!0;if(Tx){for(wx in xx=null==xx?null:xx+"",Tx)(vx=Tx[wx]).name===xx?(bx=vx.state>xf&&vx.state<wf,vx.state=Tf,vx.timer.stop(),bx&&vx.on.call("interrupt",fx,fx.__data__,vx.index,vx.group),delete Tx[wx]):kx=!1;kx&&delete fx.__transition}},Mf=function(fx,xx){var vx;return("number"==typeof xx?fg:xx instanceof Id?mg:(vx=Id(xx))?(xx=vx,mg):wg)(fx,xx)},If=s_.prototype.constructor,Bf=0,Zf=s_.prototype;th.prototype=function(yx){return s_().transition(yx)}.prototype={constructor:th,select:function(fx){var xx=this._name,vx=this._id;"function"!=typeof fx&&(fx=hy(fx));for(var bx=this._groups,wx=bx.length,Tx=Array(wx),kx=0;kx<wx;++kx)for(var Sx,Cx,zx=bx[kx],Mx=zx.length,Ux=Tx[kx]=Array(Mx),Ax=0;Ax<Mx;++Ax)(Sx=zx[Ax])&&(Cx=fx.call(Sx,Sx.__data__,Ax,zx))&&("__data__"in Sx&&(Cx.__data__=Sx.__data__),Ux[Ax]=Cx,kf(Ux[Ax],xx,vx,Ax,Ux,z_(Sx,vx)));return new th(Tx,this._parents,xx,vx)},selectAll:function(fx){var xx=this._name,vx=this._id;"function"!=typeof fx&&(fx=gy(fx));for(var bx=this._groups,wx=bx.length,Tx=[],kx=[],Sx=0;Sx<wx;++Sx)for(var Cx,zx=bx[Sx],Mx=zx.length,Ux=0;Ux<Mx;++Ux)if(Cx=zx[Ux]){for(var Ax,Yx=fx.call(Cx,Cx.__data__,Ux,zx),Ex=z_(Cx,vx),Px=0,Dx=Yx.length;Px<Dx;++Px)(Ax=Yx[Px])&&kf(Ax,xx,vx,Px,Yx,Ex);Tx.push(Yx),kx.push(Cx)}return new th(Tx,kx,xx,vx)},filter:function(fx){"function"!=typeof fx&&(fx=dy(fx));for(var xx=this._groups,vx=xx.length,bx=Array(vx),wx=0;wx<vx;++wx)for(var Tx,kx=xx[wx],Sx=kx.length,Cx=bx[wx]=[],zx=0;zx<Sx;++zx)(Tx=kx[zx])&&fx.call(Tx,Tx.__data__,zx,kx)&&Cx.push(Tx);return new th(bx,this._parents,this._name,this._id)},merge:function(fx){if(fx._id!==this._id)throw new Error;for(var xx=this._groups,vx=fx._groups,bx=xx.length,wx=vx.length,Tx=Math.min(bx,wx),kx=Array(bx),Sx=0;Sx<Tx;++Sx)for(var Cx,zx=xx[Sx],Mx=vx[Sx],Ux=zx.length,Ax=kx[Sx]=Array(Ux),Yx=0;Yx<Ux;++Yx)(Cx=zx[Yx]||Mx[Yx])&&(Ax[Yx]=Cx);for(;Sx<bx;++Sx)kx[Sx]=xx[Sx];return new th(kx,this._parents,this._name,this._id)},selection:function(){return new If(this._groups,this._parents)},transition:function(){for(var fx=this._name,xx=this._id,vx=oh(),bx=this._groups,wx=bx.length,Tx=0;Tx<wx;++Tx)for(var kx,Sx=bx[Tx],Cx=Sx.length,zx=0;zx<Cx;++zx)if(kx=Sx[zx]){var Mx=z_(kx,xx);kf(kx,fx,vx,zx,Sx,{time:Mx.time+Mx.delay+Mx.duration,delay:0,duration:Mx.duration,ease:Mx.ease})}return new th(bx,this._parents,fx,vx)},call:Zf.call,nodes:Zf.nodes,node:Zf.node,size:Zf.size,empty:Zf.empty,each:Zf.each,on:function(fx,xx){var vx=this._id;return 2>arguments.length?z_(this.node(),vx).on.on(fx):this.each(B_(vx,fx,xx))},attr:function(fx,xx){var vx=oy(fx),bx="transform"===vx?Ug:Mf;return this.attrTween(fx,"function"==typeof xx?(vx.local?H_:L_)(vx,bx,Y_(this,"attr."+fx,xx)):null==xx?(vx.local?P_:E_)(vx):(vx.local?F_:D_)(vx,bx,xx+""))},attrTween:function(fx,xx){var vx="attr."+fx;if(2>arguments.length)return(vx=this.tween(vx))&&vx._value;if(null==xx)return this.tween(vx,null);if("function"!=typeof xx)throw new Error;var bx=oy(fx);return this.tween(vx,(bx.local?X_:q_)(bx,xx))},style:function(fx,xx,vx){var bx="transform"==(fx+="")?Mg:Mf;return null==xx?this.styleTween(fx,W_(fx,bx)).on("end.style."+fx,R_(fx)):this.styleTween(fx,"function"==typeof xx?G_(fx,bx,Y_(this,"style."+fx,xx)):J_(fx,bx,xx+""),vx)},styleTween:function(fx,xx,vx){var bx="style."+(fx+="");if(2>arguments.length)return(bx=this.tween(bx))&&bx._value;if(null==xx)return this.tween(bx,null);if("function"!=typeof xx)throw new Error;return this.tween(bx,K_(fx,xx,null==vx?"":vx))},text:function(fx){return this.tween("text","function"==typeof fx?eh(Y_(this,"text",fx)):Q_(null==fx?"":fx+""))},remove:function(){return this.on("end.remove",Z_(this._id))},tween:function(fx,xx){var vx=this._id;if(fx+="",2>arguments.length){for(var bx,wx=z_(this.node(),vx).tween,Tx=0,kx=wx.length;Tx<kx;++Tx)if((bx=wx[Tx]).name===fx)return bx.value;return null}return this.each((null==xx?U_:A_)(vx,fx,xx))},delay:function(fx){var xx=this._id;return arguments.length?this.each(("function"==typeof fx?I_:N_)(xx,fx)):z_(this.node(),xx).delay},duration:function(fx){var xx=this._id;return arguments.length?this.each(("function"==typeof fx?O_:$_)(xx,fx)):z_(this.node(),xx).duration},ease:function(fx){var xx=this._id;return arguments.length?this.each(j_(xx,fx)):z_(this.node(),xx).ease}},function yx(fx){function xx(vx){return Math.pow(vx,fx)}return fx=+fx,xx.exponent=yx,xx}(3),function yx(fx){function xx(vx){return 1-Math.pow(1-vx,fx)}return fx=+fx,xx.exponent=yx,xx}(3),function yx(fx){function xx(vx){return(1>=(vx*=2)?Math.pow(vx,fx):2-Math.pow(2-vx,fx))/2}return fx=+fx,xx.exponent=yx,xx}(3),function yx(fx){function xx(vx){return vx*vx*((fx+1)*vx-fx)}return fx=+fx,xx.overshoot=yx,xx}(1.70158),function yx(fx){function xx(vx){return--vx*vx*((fx+1)*vx+fx)+1}return fx=+fx,xx.overshoot=yx,xx}(1.70158),function yx(fx){function xx(vx){return(1>(vx*=2)?vx*vx*((fx+1)*vx-fx):(vx-=2)*vx*((fx+1)*vx+fx)+2)/2}return fx=+fx,xx.overshoot=yx,xx}(1.70158);var Wf=2*Math.PI,Rf=(function yx(fx,xx){function vx(wx){return fx*Math.pow(2,10*--wx)*Math.sin((bx-wx)/xx)}var bx=Math.asin(1/(fx=Math.max(1,fx)))*(xx/=Wf);return vx.amplitude=function(wx){return yx(wx,xx*Wf)},vx.period=function(wx){return yx(fx,wx)},vx}(1,.3),function yx(fx,xx){function vx(wx){return 1-fx*Math.pow(2,-10*(wx=+wx))*Math.sin((wx+bx)/xx)}var bx=Math.asin(1/(fx=Math.max(1,fx)))*(xx/=Wf);return vx.amplitude=function(wx){return yx(wx,xx*Wf)},vx.period=function(wx){return yx(fx,wx)},vx}(1,.3),function yx(fx,xx){function vx(wx){return(0>(wx=2*wx-1)?fx*Math.pow(2,10*wx)*Math.sin((bx-wx)/xx):2-fx*Math.pow(2,-10*wx)*Math.sin((bx+wx)/xx))/2}var bx=Math.asin(1/(fx=Math.max(1,fx)))*(xx/=Wf);return vx.amplitude=function(wx){return yx(wx,xx*Wf)},vx.period=function(wx){return yx(fx,wx)},vx}(1,.3),{time:null,delay:0,duration:250,ease:function(yx){return(1>=(yx*=2)?yx*yx*yx:(yx-=2)*yx*yx+2)/2}});s_.prototype.interrupt=function(fx){return this.each(function(){Sf(this,fx)})},s_.prototype.transition=function(fx){var xx,vx;fx instanceof th?(xx=fx._id,fx=fx._name):(xx=oh(),(vx=Rf).time=g_(),fx=null==fx?null:fx+"");for(var bx=this._groups,wx=bx.length,Tx=0;Tx<wx;++Tx)for(var kx,Sx=bx[Tx],Cx=Sx.length,zx=0;zx<Cx;++zx)(kx=Sx[zx])&&kf(kx,fx,xx,zx,Sx,vx||ih(kx,xx));return new th(bx,this._parents,fx,xx)};var Gf=function(fx){return function(){return fx}};rh.prototype={constructor:rh,scale:function(fx){return 1===fx?this:new rh(this.k*fx,this.x,this.y)},translate:function(fx,xx){return 0===fx&0===xx?this:new rh(this.k,this.x+this.k*fx,this.y+this.k*xx)},apply:function(fx){return[fx[0]*this.k+this.x,fx[1]*this.k+this.y]},applyX:function(fx){return fx*this.k+this.x},applyY:function(fx){return fx*this.k+this.y},invert:function(fx){return[(fx[0]-this.x)/this.k,(fx[1]-this.y)/this.k]},invertX:function(fx){return(fx-this.x)/this.k},invertY:function(fx){return(fx-this.y)/this.k},rescaleX:function(fx){return fx.copy().domain(fx.range().map(this.invertX,this).map(fx.invert,fx))},rescaleY:function(fx){return fx.copy().domain(fx.range().map(this.invertY,this).map(fx.invert,fx))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kf=new rh(1,0,0),Qf=function(){el.event.preventDefault(),el.event.stopImmediatePropagation()},tx=function(fx){return function(){return fx}},nx=function(fx,xx,vx){this.target=fx,this.type=xx,this.selection=vx},ox=function(){el.event.preventDefault(),el.event.stopImmediatePropagation()},ax={name:"drag"},ix={name:"space"},lx={name:"handle"},rx={name:"center"},dx={name:"x",handles:["e","w"].map(_h),input:function(fx,xx){return fx&&[[fx[0],xx[0][1]],[fx[1],xx[1][1]]]},output:function(fx){return fx&&[fx[0][0],fx[1][0]]}},sx={name:"y",handles:["n","s"].map(_h),input:function(fx,xx){return fx&&[[xx[0][0],fx[0]],[xx[1][0],fx[1]]]},output:function(fx){return fx&&[fx[0][1],fx[1][1]]}},cx={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(_h),input:function(fx){return fx},output:function(fx){return fx}},ux={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},px={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},_x={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},hx={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mx={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};el.bisector=wh,el.extent=function(fx,xx){var vx,bx,wx,Tx=fx.length,kx=-1;if(null==xx){for(;++kx<Tx;)if(null!=(vx=fx[kx])&&vx>=vx)for(bx=wx=vx;++kx<Tx;)null!=(vx=fx[kx])&&(bx>vx&&(bx=vx),wx<vx&&(wx=vx));}else for(;++kx<Tx;)if(null!=(vx=xx(fx[kx],kx,fx))&&vx>=vx)for(bx=wx=vx;++kx<Tx;)null!=(vx=xx(fx[kx],kx,fx))&&(bx>vx&&(bx=vx),wx<vx&&(wx=vx));return[bx,wx]},el.max=function(fx,xx){var vx,bx,wx=fx.length,Tx=-1;if(null==xx){for(;++Tx<wx;)if(null!=(vx=fx[Tx])&&vx>=vx)for(bx=vx;++Tx<wx;)null!=(vx=fx[Tx])&&vx>bx&&(bx=vx);}else for(;++Tx<wx;)if(null!=(vx=xx(fx[Tx],Tx,fx))&&vx>=vx)for(bx=vx;++Tx<wx;)null!=(vx=xx(fx[Tx],Tx,fx))&&vx>bx&&(bx=vx);return bx},el.min=function(fx,xx){var vx,bx,wx=fx.length,Tx=-1;if(null==xx){for(;++Tx<wx;)if(null!=(vx=fx[Tx])&&vx>=vx)for(bx=vx;++Tx<wx;)null!=(vx=fx[Tx])&&bx>vx&&(bx=vx);}else for(;++Tx<wx;)if(null!=(vx=xx(fx[Tx],Tx,fx))&&vx>=vx)for(bx=vx;++Tx<wx;)null!=(vx=xx(fx[Tx],Tx,fx))&&bx>vx&&(bx=vx);return bx},el.line=Hh,el.area=function(){function fx(Mx){var Ux,Ax,Yx,Ex,Px,Dx=Mx.length,Fx=!1,Lx=Array(Dx),Hx=Array(Dx);for(null==Sx&&(zx=Cx(Px=il())),Ux=0;Ux<=Dx;++Ux){if(!(Ux<Dx&&kx(Ex=Mx[Ux],Ux,Mx))===Fx)if(Fx=!Fx)Ax=Ux,zx.areaStart(),zx.lineStart();else{for(zx.lineEnd(),zx.lineStart(),Yx=Ux-1;Yx>=Ax;--Yx)zx.point(Lx[Yx],Hx[Yx]);zx.lineEnd(),zx.areaEnd()}Fx&&(Lx[Ux]=+vx(Ex,Ux,Mx),Hx[Ux]=+wx(Ex,Ux,Mx),zx.point(bx?+bx(Ex,Ux,Mx):Lx[Ux],Tx?+Tx(Ex,Ux,Mx):Hx[Ux]))}if(Px)return zx=null,Px+""||null}function xx(){return Hh().defined(kx).curve(Cx).context(Sx)}var vx=rl,bx=null,wx=Dh(0),Tx=dl,kx=Dh(!0),Sx=null,Cx=Lh,zx=null;return fx.x=function(Mx){return arguments.length?(vx="function"==typeof Mx?Mx:Dh(+Mx),bx=null,fx):vx},fx.x0=function(Mx){return arguments.length?(vx="function"==typeof Mx?Mx:Dh(+Mx),fx):vx},fx.x1=function(Mx){return arguments.length?(bx=null==Mx?null:"function"==typeof Mx?Mx:Dh(+Mx),fx):bx},fx.y=function(Mx){return arguments.length?(wx="function"==typeof Mx?Mx:Dh(+Mx),Tx=null,fx):wx},fx.y0=function(Mx){return arguments.length?(wx="function"==typeof Mx?Mx:Dh(+Mx),fx):wx},fx.y1=function(Mx){return arguments.length?(Tx=null==Mx?null:"function"==typeof Mx?Mx:Dh(+Mx),fx):Tx},fx.lineX0=fx.lineY0=function(){return xx().x(vx).y(wx)},fx.lineY1=function(){return xx().x(vx).y(Tx)},fx.lineX1=function(){return xx().x(bx).y(wx)},fx.defined=function(Mx){return arguments.length?(kx="function"==typeof Mx?Mx:Dh(!!Mx),fx):kx},fx.curve=function(Mx){return arguments.length?(Cx=Mx,null!=Sx&&(zx=Cx(Sx)),fx):Cx},fx.context=function(Mx){return arguments.length?(null==Mx?Sx=zx=null:zx=Cx(Sx=Mx),fx):Sx},fx},el.curveBasis=function(fx){return new cl(fx)},el.curveMonotoneX=function(yx){return new xl(yx)},el.curveNatural=function(fx){return new Tl(fx)},el.curveCardinal=Ih,el.curveCatmullRom=Nh,el.curveStep=function(fx){return new Sl(fx,.5)},el.curveStepAfter=function(yx){return new Sl(yx,1)},el.curveStepBefore=function(yx){return new Sl(yx,0)},el.curveLinear=Lh,el.timeMillisecond=Bh,el.timeSecond=Rh,el.timeMinute=Jh,el.timeHour=Gh,el.timeDay=Kh,el.timeWeek=Qh,el.timeMonth=tm,el.timeYear=nm,el.formatDefaultLocale=Pl,el.formatLocale=xm,el.timeFormatLocale=Hl,el.timeFormatDefaultLocale=Yd,el.scaleLinear=Nc,el.scaleLog=Wc,el.scalePow=Jc,el.scaleTime=function(){return Qc(nm,tm,Qh,Kh,Gh,Jh,Rh,Bh,el.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},el.axisRight=function(yx){return ap(Jg,yx)},el.axisTop=function(yx){return ap(Rg,yx)},el.axisBottom=function(yx){return ap(Gg,yx)},el.axisLeft=function(yx){return ap(Kg,yx)},el.zoom=function(){function fx(Rx){Rx.on("wheel.zoom",Cx).on("mousedown.zoom",zx).on("dblclick.zoom",Mx).on("touchstart.zoom",Ux).on("touchmove.zoom",Ax).on("touchend.zoom touchcancel.zoom",Yx).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",uh)}function xx(Rx,Jx){return Jx=Math.max(Lx,Math.min(Hx,Jx)),Jx===Rx.k?Rx:new rh(Jx,Rx.x,Rx.y)}function vx(Rx,Jx,Gx){var Kx=Jx[0]-Gx[0]*Rx.k,Qx=Jx[1]-Gx[1]*Rx.k;return Kx===Rx.x&&Qx===Rx.y?Rx:new rh(Rx.k,Kx,Qx)}function bx(Rx,Jx){var Gx=Rx.invertX(Jx[0][0])-Xx,Kx=Rx.invertX(Jx[1][0])-qx,Qx=Rx.invertY(Jx[0][1])-Ix,ev=Rx.invertY(Jx[1][1])-Nx;return Rx.translate(Kx>Gx?(Gx+Kx)/2:Math.min(0,Gx)||Math.max(0,Kx),ev>Qx?(Qx+ev)/2:Math.min(0,Qx)||Math.max(0,ev))}function wx(Rx){return[(+Rx[0][0]+ +Rx[1][0])/2,(+Rx[0][1]+ +Rx[1][1])/2]}function Tx(Rx,Jx,Gx){Rx.on("start.zoom",function(){kx(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){kx(this,arguments).end()}).tween("zoom",function(){var Kx=this,Qx=arguments,ev=kx(Kx,Qx),tv=Fx.apply(Kx,Qx),nv=Gx||wx(tv),ov=Math.max(tv[1][0]-tv[0][0],tv[1][1]-tv[0][1]),av=Kx.__zoom,iv="function"==typeof Jx?Jx.apply(Kx,Qx):Jx,lv=$x(av.invert(nv).concat(ov/av.k),iv.invert(nv).concat(ov/iv.k));return function(rv){if(1===rv)rv=iv;else{var dv=lv(rv),sv=ov/dv[2];rv=new rh(sv,nv[0]-dv[0]*sv,nv[1]-dv[1]*sv)}ev.zoom(null,rv)}})}function kx(Rx,Jx){for(var Gx,Kx=0,Qx=jx.length;Kx<Qx;++Kx)if((Gx=jx[Kx]).that===Rx)return Gx;return new Sx(Rx,Jx)}function Sx(Rx,Jx){this.that=Rx,this.args=Jx,this.index=-1,this.active=0,this.extent=Fx.apply(Rx,Jx)}function Cx(){function Rx(){Jx.wheel=null,Jx.end()}if(Dx.apply(this,arguments)){var Jx=kx(this,arguments),Gx=this.__zoom,Kx=Math.max(Lx,Math.min(Hx,Gx.k*Math.pow(2,-el.event.deltaY*(el.event.deltaMode?120:1)/500))),Qx=_y(this);if(Jx.wheel)Jx.mouse[0][0]===Qx[0]&&Jx.mouse[0][1]===Qx[1]||(Jx.mouse[1]=Gx.invert(Jx.mouse[0]=Qx)),clearTimeout(Jx.wheel);else{if(Gx.k===Kx)return;Jx.mouse=[Qx,Gx.invert(Qx)],Sf(this),Jx.start()}Qf(),Jx.wheel=setTimeout(Rx,Zx),Jx.zoom("mouse",bx(vx(xx(Gx,Kx),Jx.mouse[0],Jx.mouse[1]),Jx.extent))}}function zx(){function Rx(){if(Qf(),!Gx.moved){var nv=el.event.clientX-ev,ov=el.event.clientY-tv;Gx.moved=nv*nv+ov*ov>Wx}Gx.zoom("mouse",bx(vx(Gx.that.__zoom,Gx.mouse[0]=_y(Gx.that),Gx.mouse[1]),Gx.extent))}function Jx(){Kx.on("mousemove.zoom mouseup.zoom",null),u_(el.event.view,Gx.moved),Qf(),Gx.end()}if(!Px&&Dx.apply(this,arguments)){var Gx=kx(this,arguments),Kx=Ry(el.event.view).on("mousemove.zoom",Rx,!0).on("mouseup.zoom",Jx,!0),Qx=_y(this),ev=el.event.clientX,tv=el.event.clientY;Qy(el.event.view),dh(),Gx.mouse=[Qx,this.__zoom.invert(Qx)],Sf(this),Gx.start()}}function Mx(){if(Dx.apply(this,arguments)){var Rx=this.__zoom,Jx=_y(this),Gx=Rx.invert(Jx),Kx=bx(vx(xx(Rx,Rx.k*(el.event.shiftKey?.5:2)),Jx,Gx),Fx.apply(this,arguments));Qf(),0<Ox?Ry(this).transition().duration(Ox).call(Tx,Kx,Jx):Ry(this).call(fx.transform,Kx)}}function Ux(){if(Dx.apply(this,arguments)){var Rx,Jx,Gx,Kx,Qx=kx(this,arguments),ev=el.event.changedTouches,tv=ev.length;for(dh(),Jx=0;Jx<tv;++Jx)Gx=ev[Jx],Kx=[Kx=Gy(this,ev,Gx.identifier),this.__zoom.invert(Kx),Gx.identifier],Qx.touch0?Qx.touch1||(Qx.touch1=Kx):(Qx.touch0=Kx,Rx=!0);if(Ex&&(Ex=clearTimeout(Ex),!Qx.touch1))return Qx.end(),void((Kx=Ry(this).on("dblclick.zoom"))&&Kx.apply(this,arguments));Rx&&(Ex=setTimeout(function(){Ex=null},Bx),Sf(this),Qx.start())}}function Ax(){var Rx,Jx,Gx,Kx,Qx=kx(this,arguments),ev=el.event.changedTouches,tv=ev.length;for(Qf(),Ex&&(Ex=clearTimeout(Ex)),Rx=0;Rx<tv;++Rx)Jx=ev[Rx],Gx=Gy(this,ev,Jx.identifier),Qx.touch0&&Qx.touch0[2]===Jx.identifier?Qx.touch0[0]=Gx:Qx.touch1&&Qx.touch1[2]===Jx.identifier&&(Qx.touch1[0]=Gx);if(Jx=Qx.that.__zoom,Qx.touch1){var nv=Qx.touch0[0],ov=Qx.touch0[1],av=Qx.touch1[0],iv=Qx.touch1[1],lv=(lv=av[0]-nv[0])*lv+(lv=av[1]-nv[1])*lv,rv=(rv=iv[0]-ov[0])*rv+(rv=iv[1]-ov[1])*rv;Jx=xx(Jx,Math.sqrt(lv/rv)),Gx=[(nv[0]+av[0])/2,(nv[1]+av[1])/2],Kx=[(ov[0]+iv[0])/2,(ov[1]+iv[1])/2]}else{if(!Qx.touch0)return;Gx=Qx.touch0[0],Kx=Qx.touch0[1]}Qx.zoom("touch",bx(vx(Jx,Gx,Kx),Qx.extent))}function Yx(){var Rx,Jx,Gx=kx(this,arguments),Kx=el.event.changedTouches,Qx=Kx.length;for(dh(),Px&&clearTimeout(Px),Px=setTimeout(function(){Px=null},Bx),Rx=0;Rx<Qx;++Rx)Jx=Kx[Rx],Gx.touch0&&Gx.touch0[2]===Jx.identifier?delete Gx.touch0:Gx.touch1&&Gx.touch1[2]===Jx.identifier&&delete Gx.touch1;Gx.touch1&&!Gx.touch0&&(Gx.touch0=Gx.touch1,delete Gx.touch1),Gx.touch0?Gx.touch0[1]=this.__zoom.invert(Gx.touch0[0]):Gx.end()}var Ex,Px,Dx=sh,Fx=ch,Lx=0,Hx=1/0,Xx=-Hx,qx=Hx,Ix=Xx,Nx=qx,Ox=250,$x=Yg,jx=[],Vx=sp("start","zoom","end"),Bx=500,Zx=150,Wx=0;return fx.transform=function(Rx,Jx){var Gx=Rx.selection?Rx.selection():Rx;Gx.property("__zoom",uh),Rx===Gx?Gx.interrupt().each(function(){kx(this,arguments).start().zoom(null,"function"==typeof Jx?Jx.apply(this,arguments):Jx).end()}):Tx(Rx,Jx)},fx.scaleBy=function(Rx,Jx){fx.scaleTo(Rx,function(){return this.__zoom.k*("function"==typeof Jx?Jx.apply(this,arguments):Jx)})},fx.scaleTo=function(Rx,Jx){fx.transform(Rx,function(){var Gx=Fx.apply(this,arguments),Kx=this.__zoom,Qx=wx(Gx),ev=Kx.invert(Qx);return bx(vx(xx(Kx,"function"==typeof Jx?Jx.apply(this,arguments):Jx),Qx,ev),Gx)})},fx.translateBy=function(Rx,Jx,Gx){fx.transform(Rx,function(){return bx(this.__zoom.translate("function"==typeof Jx?Jx.apply(this,arguments):Jx,"function"==typeof Gx?Gx.apply(this,arguments):Gx),Fx.apply(this,arguments))})},Sx.prototype={start:function(){return 1==++this.active&&(this.index=jx.push(this)-1,this.emit("start")),this},zoom:function(Jx,Gx){return this.mouse&&"mouse"!==Jx&&(this.mouse[1]=Gx.invert(this.mouse[0])),this.touch0&&"touch"!==Jx&&(this.touch0[1]=Gx.invert(this.touch0[0])),this.touch1&&"touch"!==Jx&&(this.touch1[1]=Gx.invert(this.touch1[0])),this.that.__zoom=Gx,this.emit("zoom"),this},end:function(){return 0==--this.active&&(jx.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(Jx){bp(new lh(fx,Jx,this.that.__zoom),Vx.apply,Vx,[Jx,this.that,this.args])}},fx.filter=function(Rx){return arguments.length?(Dx="function"==typeof Rx?Rx:Gf(!!Rx),fx):Dx},fx.extent=function(Rx){return arguments.length?(Fx="function"==typeof Rx?Rx:Gf([[+Rx[0][0],+Rx[0][1]],[+Rx[1][0],+Rx[1][1]]]),fx):Fx},fx.scaleExtent=function(Rx){return arguments.length?(Lx=+Rx[0],Hx=+Rx[1],fx):[Lx,Hx]},fx.translateExtent=function(Rx){return arguments.length?(Xx=+Rx[0][0],qx=+Rx[1][0],Ix=+Rx[0][1],Nx=+Rx[1][1],fx):[[Xx,Ix],[qx,Nx]]},fx.duration=function(Rx){return arguments.length?(Ox=+Rx,fx):Ox},fx.interpolate=function(Rx){return arguments.length?($x=Rx,fx):$x},fx.on=function(){var Rx=Vx.on.apply(Vx,arguments);return Rx===Vx?fx:Rx},fx.clickDistance=function(Rx){return arguments.length?(Wx=(Rx=+Rx)*Rx,fx):Math.sqrt(Wx)},fx},el.zoomIdentity=Kf,el.drag=function(){function fx(Hx){Hx.on("mousedown.drag",xx).on("touchstart.drag",wx).on("touchmove.drag",Tx).on("touchend.drag touchcancel.drag",kx).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function xx(){if(!Ux&&Ax.apply(this,arguments)){var Hx=Sx("mouse",Yx.apply(this,arguments),_y,this,arguments);Hx&&(Ry(el.event.view).on("mousemove.drag",vx,!0).on("mouseup.drag",bx,!0),Qy(el.event.view),c_(),Mx=!1,Cx=el.event.clientX,zx=el.event.clientY,Hx("start"))}}function vx(){if(Ky(),!Mx){var Hx=el.event.clientX-Cx,Xx=el.event.clientY-zx;Mx=Hx*Hx+Xx*Xx>Lx}Px.mouse("drag")}function bx(){Ry(el.event.view).on("mousemove.drag mouseup.drag",null),u_(el.event.view,Mx),Ky(),Px.mouse("end")}function wx(){if(Ax.apply(this,arguments)){var Hx,Xx,qx=el.event.changedTouches,Ix=Yx.apply(this,arguments),Nx=qx.length;for(Hx=0;Hx<Nx;++Hx)(Xx=Sx(qx[Hx].identifier,Ix,Gy,this,arguments))&&(c_(),Xx("start"))}}function Tx(){var Hx,Xx,qx=el.event.changedTouches,Ix=qx.length;for(Hx=0;Hx<Ix;++Hx)(Xx=Px[qx[Hx].identifier])&&(Ky(),Xx("drag"))}function kx(){var Hx,Xx,qx=el.event.changedTouches,Ix=qx.length;for(Ux&&clearTimeout(Ux),Ux=setTimeout(function(){Ux=null},500),Hx=0;Hx<Ix;++Hx)(Xx=Px[qx[Hx].identifier])&&(c_(),Xx("end"))}function Sx(Hx,Xx,qx,Ix,Nx){var Ox,$x,jx,Vx=qx(Xx,Hx),Bx=Dx.copy();if(bp(new p_(fx,"beforestart",Ox,Hx,Fx,Vx[0],Vx[1],0,0,Bx),function(){return null!=(el.event.subject=Ox=Ex.apply(Ix,Nx))&&($x=Ox.x-Vx[0]||0,jx=Ox.y-Vx[1]||0,!0)}))return function Zx(Wx){var Rx,Jx=Vx;switch(Wx){case"start":Px[Hx]=Zx,Rx=Fx++;break;case"end":delete Px[Hx],--Fx;case"drag":Vx=qx(Xx,Hx),Rx=Fx;}bp(new p_(fx,Wx,Ox,Hx,Rx,Vx[0]+$x,Vx[1]+jx,Vx[0]-Jx[0],Vx[1]-Jx[1],Bx),Bx.apply,Bx,[Wx,Ix,Nx])}}var Cx,zx,Mx,Ux,Ax=__,Yx=h_,Ex=m_,Px={},Dx=sp("start","drag","end"),Fx=0,Lx=0;return fx.filter=function(Hx){return arguments.length?(Ax="function"==typeof Hx?Hx:ef(!!Hx),fx):Ax},fx.container=function(Hx){return arguments.length?(Yx="function"==typeof Hx?Hx:ef(Hx),fx):Yx},fx.subject=function(Hx){return arguments.length?(Ex="function"==typeof Hx?Hx:ef(Hx),fx):Ex},fx.on=function(){var Hx=Dx.on.apply(Dx,arguments);return Hx===Dx?fx:Hx},fx.clickDistance=function(Hx){return arguments.length?(Lx=(Hx=+Hx)*Hx,fx):Math.sqrt(Lx)},fx},el.brush=function(){return vh(cx)},el.brushX=function(){return vh(dx)},el.brushY=function(){return vh(sx)},el.mouse=_y,el.select=Ry,el.selection=s_,el.selectAll=function(fx){return"string"==typeof fx?new d_([document.querySelectorAll(fx)],[document.documentElement]):new d_([null==fx?[]:fx],Wy)},el.selectorAll=gy,el.touch=Gy}(this.d3=this.d3||{});</script><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.FullscreenMixin=function(a){return function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'_isFullscreen',value:function(){return document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement}},{key:'_getParent',value:function(){var f=Polymer.dom(this).getOwnerRoot();return f?f.nodeType==Node.DOCUMENT_FRAGMENT_NODE?f.host:void 0:Polymer.dom(this).parentNode}},{key:'connectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'connectedCallback',this).call(this),this.requestFullscreen?(this.exitFullscreen=document.exitFullscreen.bind(document),this.addEventListener('fullscreenchange',this.fullScreenChanged.bind(this))):this.webkitRequestFullScreen?(this.requestFullscreen=this.$.svgContainer.webkitRequestFullScreen.bind(this),this.exitFullscreen=document.webkitCancelFullScreen.bind(document),this.addEventListener('webkitfullscreenchange',this.fullScreenChanged.bind(this))):this.mozRequestFullScreen?(this.requestFullscreen=this.mozRequestFullScreen.bind(this),this.exitFullscreen=document.mozCancelFullScreen.bind(document),document.addEventListener('mozfullscreenchange',this.fullScreenChanged.bind(this))):this.msRequestFullscreen&&(this.requestFullscreen=this.msRequestFullscreen.bind(this),this.exitFullscreen=document.msExitFullscreen.bind(document),document.addEventListener('MSFullscreenChange',this.fullScreenChanged.bind(this)))}},{key:'disconnectedCallback',value:function(){babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'disconnectedCallback',this).call(this),this.removeEventListener('fullscreenchange',this.fullScreenChanged.bind(this),!1),this.removeEventListener('webkitfullscreenchange',this.fullScreenChanged.bind(this),!1),document.removeEventListener('mozfullscreenchange',this.fullScreenChanged.bind(this),!1),document.removeEventListener('MSFullscreenChange',this.fullScreenChanged.bind(this),!1)}},{key:'toggleFullscreen',value:function(f){f.stopPropagation(),this._isFullscreen()?this.exitFullscreen():this.requestFullscreen()}},{key:'fullScreenChanged',value:function(){this._fullScreenChanged()}},{key:'_fullScreenChanged',value:function(){var f=this;requestAnimationFrame(function(){var g=f._isFullscreen(),h=f._getParent();g?(f.fullscreen=!0,f.style.position='fixed',f.style.top='0',f.style.left='0',f.style.right='0',f.style.bottom='0',f.style.zIndex='1000',f.style['border-radius']='0px',document.body.style.overflow='hidden',h&&h.classList.add('fullscreen')):(f.fullscreen=!1,f.style.position='',f.style.top='',f.style.left='',f.style.right='',f.style.bottom='',f.style.zIndex='',f.style['border-radius']='',document.body.style.overflow='',h&&h.classList.remove('fullscreen')),f.notifyResize&&f.notifyResize()})}},{key:'computeFullscreenIcon',value:function(f){return f?'fullscreen-exit':'fullscreen'}}],[{key:'properties',get:function(){return{fullscreen:{type:Boolean,value:!1,reflectToAttribute:!0},fullscreenIcon:{type:String,computed:'computeFullscreenIcon(fullscreen)'}}}}]),c}(a)};</script><dom-module id="device-svg"><template strip-whitespace=""><style>:host{position:relative;border-radius:inherit;-webkit-overflow-scrolling:touch;-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;font-family:'FiraSans-Regular';letter-spacing:normal;user-select:none !important;background-color:transparent;color:currentColor;z-index:auto;transition:background 250ms linear;}:host([opened]){pointer-events:all;}:host([fullscreen]){color:var(--fullscreen-color, currentColor);background-color:var(--fullscreen-background-color);min-height:100vh;min-width:100vw;padding:0 !important;margin:0 !important;--control-bottom:8px;--control-right:16px;--control-button-distance:8px;}:host(:-webkit-full-screen){color:var(--fullscreen-color, currentColor);background-color:var(--fullscreen-background-color);}svg{border-radius:inherit;user-select:none !important;}#svgContainer{position:relative;box-sizing:border-box;width:100%;height:100%;border-radius:inherit;isolation:isolate;}#svgContainer svg{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;font-family:inherit;}#control{position:absolute;bottom:var(--control-bottom, 0px);right:var(--control-right, 0px);mix-blend-mode:exclusion;}#control > *:not(:first-of-type){margin-left:var(--control-button-distance, 0px);}#control > *{background:rgba(255,255,255,0.0625);}text{pointer-events:none !important;cursor:default !important;letter-spacing:normal !important;stroke:none !important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;@apply --svg-text;mix-blend-mode:exclusion;}svg *{pointer-events:none;}.selectable{pointer-events:all !important;cursor:pointer;transform-origin:center center;-moz-transform-origin:50% 50%;@apply --svg-selectable;}.clicked{fill:#3852D7 !important;fill-opacity:0.25;@apply --svg-clicked;}.selected{fill-opacity:0.75;stroke-opacity:0.5 !important;@apply --svg-selected;}.exceeding{stroke:#D95656;fill-opacity:1;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round;transform-origin:center center;will-change:transform;animation-name:exceeding-animation;animation-duration:2s;animation-timing-function:linear;animation-iteration-count:infinite;@apply --svg-exceeding;}@keyframes exceeding-animation{0%{transform:scale(1.0);}50%{fill:#D95656;transform:scale(0.8);-moz-transform:scale(1.0);}100%{transform:scale(1.0);}}icon-button:focus{opacity:1;background-color:rgba(255,255,255, 0.125);}[hidden]{display:none !important;}</style><div id="svgContainer" on-contextmenu="_resetZoom"><div id="control"><icon-button title="focus" icon="filter-center-focus" on-tap="_resetZoom"></icon-button><icon-button title="fullscreen" icon="[[fullscreenIcon]]" on-tap="toggleFullscreen"></icon-button></div></div></template><script>var DeviceSVG=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_openedChanged',value:function(){this.src&&(this._srcChanged(),!this._inialized&&this._initialize(),this._resetZoom())}},{key:'open',value:function(d){this.setSvg(d.detail),this.opened=!0}},{key:'close',value:function(){this.opened=!1}},{key:'_srcChanged',value:function(d){d&&this._recentSrc!==d&&(this._recentSrc=d,this._fetch(d,'GET','include','xml').then(this._registerXML.bind(this)).catch(function(f){console.log(d,f)}))}},{key:'_registerXML',value:function(d){if(d&&d.documentElement){var f=document.importNode(d.documentElement.cloneNode(!0),!0);if(this._svg=d3.select(this.$.svgContainer).select('#main'),this._svg&&!this._svg.empty()&&this.$.svgContainer.removeChild(this._svg.node()),this.$.svgContainer.insertBefore(f,this.$.svgContainer.firstChild),this._svg=d3.select(f).attr('id','main').attr('preserveAspectRatio','xMinYMin meet').attr('height',null).attr('width',null).classed('style-scope',!0).classed('device-svg',!0),this._mainG=this._svg.select('g').attr('id','mainG'),this._mainG.selectAll('text').classed('style-scope',!0).classed('device-svg',!0),this._svg.attr('viewBox')){var g=this._svg.attr('viewBox').split(' ');this._width=g[2]-g[0],this._height=g[3]-g[1],this._ratio=this._height/this._width}this._initZoom(),this._initialize()}}},{key:'_initialize',value:function(){var d=this;setTimeout(function(){d._selectableItemsChanged(),d._selectSelected(),d._selectExceeds()},0)}},{key:'_initZoom',value:function(){this._d3Zoom=d3.zoom().scaleExtent([this.minZoom,this.maxZoom]).on('zoom',this._zoom.bind(this)),this._svg.call(this._d3Zoom)}},{key:'_selectedItemsChanged',value:function(){var d=this.item,f=this.items;d&&Object.keys(d).length||f&&f.length?(!this.src&&(d&&d.svg&&d.svg.path?this.src=d.svg.path:0<f.length&&f[f.length-1].svg&&f[f.length-1].svg.path&&(this.src=f[f.length-1].svg.path)),this.opened=this.src&&(this.opened||this.forceOpened||this.openOnSelect),this._selectSelected()):this._mainG&&this._mainG.selectAll&&this._mainG.selectAll('.'+this.selectedClass).classed(this.selectedClass,!1)}},{key:'_exceedingChanged',value:function(){var d=this.exceeding;d&&d.length?(!this.src&&d[d.length-1].svg&&d[d.length-1].svg.path&&(this.src=d[d.length-1].svg.path),this.opened=this.src&&(this.opened||this.forceOpened||this.openOnExceed),this._selectExceeds()):this._mainG&&this._mainG.selectAll&&this._mainG.selectAll('.'+this.exceedingClass).classed(this.exceedingClass,!1)}},{key:'reset',value:function(){this.opened=!1,this.set('item',{}),this.set('items',[]),this.set('exceeding',[])}},{key:'_initialChanged',value:function(d){this.src&&d&&this._resetZoom()}},{key:'_selectableItemsChanged',value:function(){if(this._mainG&&this._mainG.node&&this.src&&this.selectableItems&&this.selectableItems.items){var d=this;for(var f in this.selectableItems.items)this._mainG.selectAll(this.selectableItems.items[f]).classed('selectable',!0).classed('style-scope',!0).classed('device-svg',!0).attr('title',f).on('click',function(){d._zoomToElement(this),d._mainG.selectAll('.clicked').classed('clicked',!1),d3.select(this).classed('clicked',!0)});void 0!==this.selectableItems.minZoom&&(this.minZoom=this.selectableItems.minZoom),void 0!==this.selectableItems.maxZoom&&(this.maxZoom=this.selectableItems.maxZoom),void 0!==this.selectableItems.zoomPartition&&(this.zoomPartition=this.selectableItems.zoomPartition),this._initZoom(),this._inialized=!0}}},{key:'_zoom',value:function(){this._mainG.attr('transform',d3.event.transform)}},{key:'_zoomToElement',value:function(d){if(void 0!==d&&this._svg.node()){var f=this._calcCenterZoom(d),g=d3.zoomIdentity.translate(f.x,f.y).scale(f.k);this._svg.node().__zoom=g,this._mainG.transition(300).attr('transform',g)}}},{key:'_selectSelected',value:function(){var d=this;requestAnimationFrame(function(){var f=d.multi?d.items||[]:[];d.item&&Object.keys(d.item).length&&-1===f.indexOf(d.item)&&f.push(d.item);var g;if(g=ShadyCSS&&!0===ShadyCSS.nativeShadow?d.shadowRoot.querySelector('style'):document.querySelector('style[scope="device-svg"]'),g&&f&&f.length){for(var l,m,n,o=0;o<f.length;o++)if(f[o]&&f[o].color&&f[o].svg&&f[o].svg.selector&&g&&g.sheet&&g.sheet.cssRules&&g.sheet.insertRule){l=f[o].svg.selector.split(',');for(var p=0;p<l.length;p++){m=l[p]+'.'+d.selectedClass,n=!1;for(var q=0;q<g.sheet.cssRules.length;q++)g.sheet.cssRules[o].selectorText===m&&(n=!0);!1===n&&g.sheet.insertRule(m+' {\nfill: '+f[o].color+' !important;\n}',g.sheet.cssRules.length)}}d.updateStyles(),d.select(f,d.selectedClass)}})}},{key:'_selectExceeds',value:function(){this.exceeding&&this.exceeding.length&&this.select(this.exceeding,this.exceedingClass)}},{key:'select',value:function(d,f){if(this._mainG&&this._mainG.node&&this.src){this._mainG=this._svg.select('g'),this._mainG.selectAll('.'+f).classed(f,!1);var g,h=[];if(Array.isArray(d)){for(var l=0;l<d.length;l++)d[l].svg&&d[l].svg.selector&&h.push(d[l].svg.selector);h=h.join(',')}else h=d&&d.svg&&d.svg.selector?d.svg.selector:'';if(''===h||(g=this._mainG.selectAll(h)).classed(f,!0).empty())return void(this.opened&&this._resetZoom());var m,n=[],o=this;g.each(function(){m=this.getBoundingClientRect(),n[0]=(n[0]>m.left?m.left:n[0])||m.left,n[1]=(n[1]>m.top?m.top:n[1])||m.top,n[2]=(n[2]<m.right?m.right:n[2])||m.right,n[3]=(n[3]<m.bottom?m.bottom:n[3])||m.bottom}),m={left:n[0],top:n[1],height:n[3]-n[1],width:n[2]-n[0]},this.opened&&this._zoomToElement(m)}}},{key:'_calcCenterZoom',value:function(d){var f=this.getBoundingClientRect();if(void 0===f||void 0===d||0===f.height||0===f.width)return{x:0,y:0,k:1};var g,m,l=f.height/f.width;g=void 0===d.nodeType?d:d.getBoundingClientRect();var n=this._mainG.node().getBBox(),o=this._mainG.node().getBoundingClientRect(),p=n.width/o.width||1,q=(g.left-o.left)*p+n.x,r=(g.top-o.top)*p+n.y,s=this._height,u=this._width,v=this._ratio,w=this.zoomPartition;return m=l<v?Math.min(u/(w*g.width*p*l),s/(w*g.height*p)):Math.min(u/(w*g.width*p),u*l/(w*g.height*p)),m<this.minZoom?m=this.minZoom:m>this.maxZoom&&(m=this.maxZoom),l<v?(q=-m*q+(s/l-m*g.width*p)/2,r=-m*r+(s-m*g.height*p)/2):(q=-m*q+(u-m*g.width*p)/2,r=-m*r+(u*l-m*g.height*p)/2),isNaN(q)||isNaN(r)||isNaN(m)?{x:0,y:0,k:1}:{x:q,y:r,k:m}}},{key:'notifyResize',value:function(){this._resetZoom()}},{key:'_resetZoom',value:function(d){var f=this;d&&(d.preventDefault(),d.stopPropagation()),requestAnimationFrame(function(){if(f.opened&&f._mainG&&f._mainG.node&&f.src&&(f._mainG.selectAll('.clicked').classed('clicked',!1),!f.initiallyZoomToAll)){if(f.item&&Object.keys(f.item).length||f.items&&f.items.length)return void f._selectSelected();if(f.exceeding.length)return void f._selectExceeds();if(f.initial){var g;if(!(g=f._mainG.selectAll(f.initial)).empty())return void f.select([{svg:{selector:f.initial}}],'initial')}f._zoomToElement(f._mainG.node())}})}}],[{key:'is',get:function(){return'device-svg'}},{key:'properties',get:function(){return{urlPrefix:{type:String,value:'/images/'},src:{type:String},_recentSrc:{type:String},selectedClass:{type:String,value:'selected'},exceedingClass:{type:String,value:'exceeding'},initial:{type:String,value:'',observer:'_initialChanged'},initiallyZoomToAll:Boolean,opened:{type:Boolean,reflectToAttribute:!0,observer:'_openedChanged'},minZoom:{type:Number,value:0.9},maxZoom:{type:Number,value:5},zoomPartition:{type:Number,value:2},selectableItems:{type:Object,value:function(){return{}}},multi:Boolean,item:{type:Object,value:function(){return{}}},items:{type:Array,value:function(){return[]}},exceeding:{type:Array,value:function(){return[]}},_height:{type:Number,value:0},_width:{type:Number,value:0},_mainG:{type:Object},_svg:{type:Object},_d3Zoom:{type:Object}}}},{key:'observers',get:function(){return['_srcChanged(src)','_selectableItemsChanged(selectableItems)','_selectedItemsChanged(item)','_selectedItemsChanged(items.length)','_exceedingChanged(exceeding.length)']}}]),b}(WebvisualMixins.FetchMixin(WebvisualMixins.FullscreenMixin(Polymer.Element)));customElements.define(DeviceSVG.is,DeviceSVG);</script><dom-module></dom-module></dom-module><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.ScaleMixin=function(a){return function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'_domainXChanged',value:function(f){void 0===f||void 0===this.scaleX||f.some(function(g){return void 0===g||null===g})||this.scaleX.domain(f)}},{key:'_domainYChanged',value:function(f){void 0===f||void 0===this.scaleY||f.some(function(g){return void 0===g||null===g})||this.scaleY.domain(f).nice()}},{key:'_rangeXChanged',value:function(f){void 0===f||void 0===this.scaleX||f.some(function(g){return void 0===g||null===g})||this.scaleX.range(f)}},{key:'_rangeYChanged',value:function(f){void 0===f||void 0===this.scaleY||f.some(function(g){return void 0===g||null===g})||this.scaleY.range(f).nice()}},{key:'_computeScaleFn',value:function(f,g,h){if(void 0!==f){var i='time'===f?d3.scaleTime():'ln'===f?d3.scaleLog().base(Math.E):'log'===f?d3.scaleLog().base(g||10):'log\u2082'===f?d3.scaleLog().base(2):'log\u2081\u2080'===f?d3.scaleLog().base(10):'\u221A'===f?d3.scalePow().exponent(0.5):'pow'===f?d3.scalePow().exponent(g||1):d3.scaleLinear();return'x'===h?(i.ticks(this.ticksX||10),this.domainX&&i.domain(this.domainX),this.rangeX&&i.range(this.rangeX)):'y'===h&&(i.ticks(this.ticksY||10),this.domainY&&i.domain(this.domainY),this.rangeY&&i.range(this.rangeY),i.nice()),i}}},{key:'_SCALE_USES_BASE',value:function(f){return'log'===f||'pow'===f}},{key:'_IS_LOG_SCALE',value:function(f){return-1<['ln','log','log\u2082','log\u2081\u2080'].indexOf(f)}}],[{key:'properties',get:function(){return{scalingX:{type:String,value:'time'},scalingY:{type:String,value:'linear'},ticksX:{type:Number,value:10},ticksY:{type:Number,value:10},scaleBaseX:{type:Number},scaleBaseY:{type:Number},scaleX:{type:Function,computed:'_computeScaleFn(scalingX, scaleBaseX, "x")'},scaleY:{type:Function,computed:'_computeScaleFn(scalingY, scaleBaseY, "y")'},domainX:{type:Array},domainY:{type:Array},rangeX:{type:Array},rangeY:{type:Array}}}},{key:'observers',get:function(){return['_domainXChanged(domainX)','_domainYChanged(domainY)','_rangeXChanged(rangeX)','_rangeYChanged(rangeY)']}},{key:'_VALID_SCALES',get:function(){return['time','ln','log','log\u2082','log\u2081\u2080','\u221A','pow']}}]),c}(a)};</script><script>window.WebvisualMixins=window.WebvisualMixins||{},WebvisualMixins.AxesMixin=function(c){return function(e){function f(){return babelHelpers.classCallCheck(this,f),babelHelpers.possibleConstructorReturn(this,(f.__proto__||Object.getPrototypeOf(f)).call(this))}return babelHelpers.inherits(f,e),babelHelpers.createClass(f,[{key:'_updateAxisBrushGenerator',value:function(j,k,l){l=l||8;var n=[[0,0],[j[1],j[0]]];'left'===k?n[0][0]=-l:'right'===k?n[1][0]=l:'top'===k?n[0][1]=-l:'bottom'===k&&(n[1][1]=l),this.extent(n)}},{key:'_computeAxisGenerator',value:function(j,k,l,n){if(j&&void 0!==k&&void 0!==l){var o=this.tickSize||6;return('left'===j?d3.axisLeft(k):'right'===j?d3.axisRight(k):'top'===j?d3.axisTop(k):d3.axisBottom(k)).tickSize(o).tickFormat(this._computeFormatFn(l,n))}}},{key:'_computeAxisNode',value:function(j,k,l){if(void 0!==j){var n=this.axisColor||'';l=l||this.axisTitle||'';var o=j.append('svg:g').classed('axis',!0).attr('orient',k).style('color',n);return o.on('mouseover',this._onAxisMouseover.bind(this)).on('mouseleave',this._onAxisMouseleave.bind(this)).on('click',this._onAxisClicked.bind(this,o)).call(d3.drag().on('start',this._onAxisDragStart).on('drag',this._onAxisDragged).on('end',this._onAxisDragEnd)),o.append('svg:title').text(l),o.append('svg:g').classed('brush',!0),o.node()._genitor=this,o.node()._axis=o,o._left=0,o._right=0,o._bottom=0,o._top=0,o}}},{key:'_setAxisProperties',value:function(j,k,l){j.classed('expanded',l),k.tickFormat(l?null:'')}},{key:'_removeAxes',value:function(){if(this.axisX&&this.axisX.node){var j=this.axisX.node();j&&j.parentElement&&j.parentElement.removeChild(j),this.axisX=null}if(this.axisY&&this.axisY.node){var j=this.axisY.node();j&&j.parentElement&&j.parentElement.removeChild(j),this.axisY=null}delete this.axisGeneratorY,delete this.axisGeneratorX,delete this.axisBrushGeneratorY,delete this.axisBrushGeneratorX}},{key:'_onAxisClicked',value:function(){}},{key:'_onAxisMouseover',value:function(){this.axisX.select('.brush').raise(),this.axisY.select('.brush').raise(),this.axisX.raise(),this.axisY.raise()}},{key:'_onAxisMouseleave',value:function(){}},{key:'_onAxisDragStart',value:function(){d3.select(this).raise().classed('dragged',!0),this._startleft=d3.event.x,this._starttop=d3.event.y}},{key:'_onAxisDragged',value:function(){var j=d3.select(this).classed('vertical'),k=0,l=0;j?k=(this._axis._left||0)+d3.event.x-this._startleft:l=(this._axis._top||0)+d3.event.y-this._starttop,d3.select(this).attr('transform','translate('+k+','+l+')')}},{key:'_onAxisDragEnd',value:function(){d3.select(this).classed('dragged',!1);var n,j=d3.select(this).classed('vertical'),k=0,l=0,o=this._genitor;if(j){if(k=(this._axis._left||0)+d3.event.x-this._startleft,n=k>o.rangeX[1]/2?'right':'left',n!==o.axisOrientY){o.axisGeneratorY=o._computeAxisGenerator(o.axisOrientY=n,o.scaleY,o.scalingY,o.scaleBaseY).ticks(o.ticksY).tickSize(o.tickSize).tickFormat(o.axisY.classed('expanded')?o._computeFormatFn(o.scalingY,o.scaleBaseY):'');var p=o.axisY.node();return p&&p.parentElement&&p.parentElement.removeChild(p),o.axisY=o._computeAxisNode(o._axisInsertionPoint,o.item&&o.item.mount).classed('vertical',!0).classed('expanded',!0).classed('y',!0).call(o.axisGeneratorY),void o.sizeChanged()}k=this._axis._left}else{if(l=(this._axis._top||0)+d3.event.y-this._starttop,n=l>o.rangeY[0]/2?'bottom':'top',n!==o.axisOrientX)return void setTimeout(function(){o.axisGeneratorX=o._computeAxisGenerator(o.axisOrientX=n,o.scaleX,o.scalingX,o.scaleBaseX).tickFormat(o.axisX.classed('expanded')?o._computeFormatFn(o.scalingX,o.scaleBaseX):'');var q=o.axisX.node();q&&q.parentElement&&q.parentElement.removeChild(q),o.axisX=o._computeAxisNode(o._axisInsertionPoint,o.item&&o.item.mount).classed('expanded',!0).classed('x',!0).call(o.axisGeneratorX),o.sizeChanged()},0);l=this._axis._top}d3.select(this).attr('transform','translate('+k+','+l+')'),this._startleft=0,this._starttop=0}},{key:'_onAxisBrushEnd',value:function(j){var k='y'===j,l=d3.event.selection,n=k?this.scaleY:this.scaleX,o=k?this.axisY:this.axisX,p=o.select('.brush'),q=k?this.axisBrushGeneratorY:this.axisBrushGeneratorX,r=o._isBrushed;l&&(l[0]===l[1]&&(o._isBrushed=!1,l=k?this.rangeY:this.rangeX),o._isBrushed=!0,l=l.map(n.invert,n).sort(function(t,u){return t>u}),this.set(k?'domainY':'domainX',l),p.call(q.move,null),this.redraw())}},{key:'_axisColorChanged',value:function(j){this.axisX&&this.axisX.style('color',j),this.axisY&&this.axisY.style('color',j)}},{key:'_isVertical',value:function(j){return'left'===j||'right'===j}},{key:'_computeFormatFn',value:function(j,k){return'time'===j?this.formatTime.bind(this):this.formatNumber.bind(this,j,k)}},{key:'sizeChanged',value:function(){}},{key:'redraw',value:function(){}},{key:'formatTime',value:function(j){return(d3.timeSecond(j)<j?this.timeFormat('.%L'):d3.timeMinute(j)<j?this.timeFormat(':%S'):d3.timeHour(j)<j?this.timeFormat('%H:%M'):d3.timeDay(j)<j?this.timeFormat('%X'):d3.timeMonth(j)<j?d3.timeWeek(j)<j?this.timeFormat('%e %m'):this.timeFormat('%d %m'):d3.timeYear(j)<j?this.timeFormat('%d %b'):this.timeFormat('%Y'))(j)}},{key:'formatTimeRange',value:function(j,k,l){var n=(k[1]-k[0]).valueOf()/l;return(100>n?this.timeFormat(':%S.%L'):500>n?this.timeFormat(':%M:%S.%L'):5E3>n?this.timeFormat(':%M:%S'):2E4>n?this.timeFormat('%H:%M:%S'):6E4>n?this.timeFormat('%H:%M'):36E5>n?this.timeFormat('%X'):864E5>n?this.timeFormat('%d.%m'):6048E5>n?this.timeFormat('%d.%m'):24192E5>n?this.timeFormat('%d. %b'):this.timeFormat('%Y'))(j)}},{key:'formatTimeAbsolute',value:function(j){var k=j%315576E5,l=(j-k)/315576E5,n=k%864E5,o=(k-n)/864E5,p=n%36E5,q=(n-p)/36E5,r=p%6E4,t=(p-r)/6E4,u=r%1E3,v=(r-u)/1E3,w='';return l&&(w+=l+'y '),o&&(w+=o+'d '),q&&(w+=q+'h '),t&&(w+=t+'m '),v&&(w+=v+'s '),u&&(w+=u+'ms'),w}},{key:'formatNumber',value:function(j,k,l){return this.numberFormat('n')(l)}},{key:'_setDateNumberFormat',value:function(j,k){void 0===k||void 0===j||(k&&(this.localeDate=k,d3.timeFormatDefaultLocale(k),this.timeFormat=d3.timeFormatLocale(k).format),j&&(this.localeNumber=j,d3.formatDefaultLocale(j),this.numberFormat=d3.formatLocale(j).format),this.axisGeneratorX&&(this.axisGeneratorX=this._computeAxisGenerator(this.axisOrientX,this.scaleX,this.scalingX,this.scaleBaseX),this.axisX&&this.axisX.call(this.axisGeneratorX.tickSize(this.tickSize).tickFormat(this.axisX.classed('expanded')?this._computeFormatFn(this.scalingX,this.scaleBaseX):''))),this.axisGeneratorY&&(this.axisGeneratorY=this._computeAxisGenerator(this.axisOrientY,this.scaleY,this.scalingY,this.scaleBaseY),this.axisY&&this.axisY.call(this.axisGeneratorY.tickSize(this.tickSize).tickFormat(this.axisY.classed('expanded')?this._computeFormatFn(this.scalingY,this.scaleBaseY):''))))}}],[{key:'properties',get:function(){return{axisOrientX:{type:String,value:'bottom'},axisOrientY:{type:String,value:'left'},axisTransitionTime:{type:Number,value:100},axisTitle:{type:String},axisColor:{type:String,observer:'_axisColorChanged'},tickSize:{type:Number,value:8},axisMargin:{type:Number,value:6},axisSizeX:{type:Number,value:20},axisSizeY:{type:Number,value:54},_axisInsertionPoint:{type:Object},axisX:{type:Object},axisY:{type:Object},axisGeneratorX:{type:Function},axisGeneratorY:{type:Function},axisBrushGeneratorX:{type:Function,value:function(){return d3.brushX().on('end',this._onAxisBrushEnd.bind(this,'x'))}},axisBrushGeneratorY:{type:Function,value:function(){return d3.brushY().on('end',this._onAxisBrushEnd.bind(this,'y'))}},timeFormat:{type:Function,value:function(){return d3.timeFormat}},numberFormat:{type:Function,value:function(){return d3.format}},localeNumber:{type:Object},localeDate:{type:Object}}}},{key:'observers',get:function(){return['_setDateNumberFormat(localeNumber, localeDate)']}},{key:'_VALID_AXIS_POSITIONS',get:function(){return['top','right','bottom','bottom']}}]),f}(WebvisualMixins.ScaleMixin(c))};</script><dom-module id="device-graph"><template><style></style></template><script>var DeviceGraph=function(a){function b(){babelHelpers.classCallCheck(this,b);var c=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return c._isAttached=!1,c._chart=null,c._areaGenerator=d3.area().defined(c._defined.bind(c)).x(function(f){return c.scaleX(f.x)}).y0(function(){return c.keys&&c.keys.y&&c._IS_LOG_SCALE(c.keys.y.scale)?c._chart._height:c.scaleY(0)}).y1(function(f){return c.scaleY(f.y)}),c._lineGenerator=d3.line().defined(c._defined.bind(c)).x(function(f){return c.scaleX(f.x)}).y(function(f){return c.scaleY(f.y)}),c.bisectDate=d3.bisector(function(f,g){return f.x-g}),c}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'device-graph'}},{key:'properties',get:function(){return{hasLine:{type:Boolean,value:!0},hasArea:{type:Boolean,value:!0},interpolation:{type:String,value:'Lineare Verbindung',observer:'_interpolationChanged'},lineWidth:{type:Number,value:1,observer:'_lineWidthChanged'},dotRadius:{type:Number,value:3},viewLength:{type:Number,value:2e4},storeInside:{type:Boolean,value:!0,readOnly:!0},multiAxes:{type:Object},languageResourcePrefix:{type:String,value:void 0,readOnly:!0}}}}]),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this.item&&this.addNodes()}},{key:'disconnectedCallback',value:function(){this._isAttached=!1,babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this),this.removeNodes()}},{key:'addNodes',value:function(){this._isAttached&&this.clearValues(!0);var f=this._containerRoot;return f&&'DEVICE-CHART'===f.nodeName?f._isAttached?void(this._chart=f,this._axisInsertionPoint=f._axisInsertionPoint,!this._chart.multiAxesX&&this.set('domainX',this._chart.domainX),!this._chart.multiAxesY&&this.set('domainY',this._chart.domainY),this.set('rangeX',this._chart.rangeX),this.set('rangeY',this._chart.rangeY),this._areaChanged(this.hasArea),this._lineChanged(this.hasLine),!this.axisX&&(this.axisX=this._computeAxisNode(this._axisInsertionPoint,this.axisOrientY,this.item.mount).attr('hidden',!this._chart.multiAxesX||null).classed('mount',this.item.mount).classed('x',!0)),!this.axisY&&(this.axisY=this._computeAxisNode(this._axisInsertionPoint,this.axisOrientY,this.item.mount).attr('hidden',!this._chart.multiAxesY||null).classed('vertical',!0).classed('y',!0)),this.axisGeneratorX=this._computeAxisGenerator(this.axisOrientX,this.scaleX,this.scalingX,this.scaleBaseX),this.axisGeneratorY=this._computeAxisGenerator(this.axisOrientY,this.scaleY,this.scalingY,this.scaleBaseY),this._chart._addGraph(this),this._setColorProperties(),this._isAttached=!0,this._chart.sizeChanged()):void console.warn('Chart has not been attached yet for adding a graph. Registration of Graph Element failed'):void console.warn('No parentElement (chart) for graph found. Registration of Graph Element failed',f)}},{key:'removeNodes',value:function(){var f;this.axisX&&(f=this.axisX.node(),f&&f.parentElement&&f.parentElement.removeChild(f)),this.axisY&&(f=this.axisY.node(),f&&f.parentElement&&f.parentElement.removeChild(f)),this._areaChanged(),this._lineChanged(),this._thresholdChanged(),this._chart._removeGraph(this),this._chart.sizeChanged()}},{key:'_areaChanged',value:function(f){if(this._chart&&this._chart._area)if(!1!==f)this._area&&this._area.node||(this._area=this._chart._area.append('svg:path'),this._area.append('svg:title').text(this.item.mount).on('mouseover',this._onAxisMouseover.bind(this))),this._area.attr('mount',this.item.mount).attr('class','area').attr('stroke-width',0).attr('d',this._areaGenerator([]));else if(this._area&&this._area.node){var h=this._area.node();h&&h.parentElement&&h.parentElement.removeChild(h),this._area=null}}},{key:'_lineChanged',value:function(f){if(this._chart&&this._chart._line)if(!1!==f)this._line&&this._line.node||(this._line=this._chart._line.append('svg:path'),this._line.append('svg:title').text(this.item.mount).on('mouseover',this._onAxisMouseover.bind(this))),this._line.attr('mount',this.item.mount).attr('class','line').attr('fill','none').attr('stroke-width',this.lineWidth).attr('d',this._lineGenerator([]));else if(this._line&&this._line.node){var h=this._line.node();h&&h.parentElement&&h.parentElement.removeChild(h),this._line=null}}},{key:'_thresholdChanged',value:function(f){if(this._chart&&this._chart._boundery)if(f)this.boundery||(this.boundery=this._chart._boundery.append('linearGradient')),this.boundery.attr('id','boundery-line-'+this.item.mount).attr('gradientUnits','userSpaceOnUse').attr('x1',0).attr('y1',this._chart._height).attr('x2',0).attr('y2',0);else if(this.boundery&&this.boundery.node){var g=this.boundery.node();g&&g.parentElement&&g.parentElement.removeChild(g),this.boundery=null}}},{key:'_setColorProperties',value:function(){if(this._chart&&this.item&&this.item.color){this.axisColor=this.item.color;var f=this.item.theshold?'url(#boundery-line-'+this.item.mount+')':this.item.color||'#000';this._area&&this._area.attr&&this._area.attr('fill',f),this._line&&this._line.attr&&this._line.attr('stroke',f)}}},{key:'_itemChanged',value:function(f){return this._isAttached?f&&f.mount?void this.addNodes():void this.removeNodes():void 0}},{key:'insertValues',value:function(f,g){if(void 0!==f){console.log(this.domainX);var g=g||(0<this.viewLength?this.viewLength:f.length);if(g&&(f=f.slice(f.length-g,f.length)),f.map(function(l){return{x:+l.x,y:+l.y,state:+l.state}}),this.storeInside){if(this.values=this.values.concat(f),this.axisX&&!this.axisX._isBrushed){var h=this.min(this.values,'x'),k=this.max(this.values,'x');void 0===h&&void 0===k||this.set('domainX',[h,k])}if(this.axisY&&!this.axisY._isBrushed){var h=this.min(this.values,'y'),k=this.max(this.values,'y');void 0===h&&void 0===k||this.set('domainY',[h,k])}}this.renderInsertedValues(f)}}},{key:'spliceValues',value:function(f){for(var g=0;g<f.length;g++){for(var h=this.values.length-1;0<=h&&this.values[h].x!==f[g].x;h--);-1!==h&&this.values.splice(h,1)}this.redraw()}},{key:'renderInsertedValues',value:function(f){if(!this._isAttached&&this.item&&this.addNodes(),this._chart){var g;this._chart.domainX&&this._chart.domainX.some(function(h){return void 0===h||null===h})&&(this._chart.set('domainX',this.domainX),g=!0),this._chart.domainY&&this._chart.domainY.some(function(h){return void 0===h||null===h})&&(this._chart.set('domainY',this.domainY),g=!0),this._chart.multiAxesY&&this._chart.multiAxesX||this._chart._isZoomed||(g=!0),this.redraw(g,f)}}},{key:'sizeChanged',value:function(){this._isAttached&&this._chart.sizeChanged()}},{key:'redraw',value:function(f){if(this._isAttached){if(console.log(this.domainX),f)return void this._chart.redraw(!0);this.axisX.attr('hidden')||this.axisX.transition(100).call(this.axisGeneratorX.ticks(this._chart.ticksX).tickSize(this.tickSize).tickFormat(this.axisX.classed('expanded')?this._computeFormatFn(this.scalingX,this.scaleBaseX):'')),this.axisY.attr('hidden')||this.axisY.transition(100).call(this.axisGeneratorY.ticks(this._chart.ticksY).tickSize(this.tickSize).tickFormat(this.axisY.classed('expanded')?this._computeFormatFn(this.scalingY,this.scaleBaseY):''));var h=this.values||[];if(this.hasArea&&this._area.attr('d',this._areaGenerator(h)),this.hasLine&&this._line.attr('d',this._lineGenerator(h)),this.item&&this.item.threshold){this.boundery&&this.boundery.node||this._thresholdChanged(this.item.threshold);var l,k=[],n=this.getComputedStyleValue('--device-state-exceeds-color')||'#F20C0C',o=this.getComputedStyleValue('--device-state-deceeds-color')||'#F20C0C',q=this.item.color||'#000';void 0!==this.item.threshold.from&&(l=100*(1-Math.ceil(this.scaleY(this.item.threshold.from)+1.25*this.lineWidth)/this._chart._height),Number.isFinite(l)&&(k.push({o:l+'%',c:o}),k.push({o:l+'%',c:q}))),void 0!==this.item.threshold.to&&(l=100*(1-Math.floor(this.scaleY(this.item.threshold.to)-1.25*this.lineWidth)/this._chart._height),Number.isFinite(l)&&(k.push({o:l+'%',c:q}),k.push({o:l+'%',c:n})));var r=this.boundery.attr('x1',0).attr('y1',this._chart._height).attr('x2',0).attr('y2',0).selectAll('stop').data(k);r.attr('offset',function(s){return s.o}).attr('stop-color',function(s){return s.c}),r.enter().append('stop').attr('offset',function(s){return s.o}).attr('stop-color',function(s){return s.c}),r.exit().remove()}}}},{key:'_getDomain',value:function(f,g){var h=this;return new Promise(function(k,l){var o='y'===f?h.scalingY:h.scalingX;h.requestRange(f).then(function(q){if(void 0!==q[0]&&void 0!==q[1]){var r=h._IS_LOG_SCALE(o);if(r){var s=0<q[0]*q[1];s&&0>=q[0]&&(q[0]=Math.sign(q[1])*Number.EPSILON),s&&0>=q[1]&&(q[1]=Math.sign(q[0])*Number.EPSILON)}g&&('x'===f?h.set('domainX',q):'y'===f&&h.set('domainY',q))}k({domain:q,key:f})}).catch(function(q){l(q)})})}},{key:'_defined',value:function(f){return Number.isFinite(f.y)?0>=f.y&&this.keys&&this.keys.y&&this._IS_LOG_SCALE(this.keys.y.scale)?null:!0:null}},{key:'_closestPoint',value:function(f){function g(E){var F=h(new Date(E.x))-f[0],G=k(E.y)-f[1];return F*F+G*G}var h=this.scaleX,k=this.scaleY,l=this.values,n=h.invert(f[0]),o=Math.ceil(this._chart._width/l.length),q=Math.pow(Math.ceil(l.length/this._chart._width),2),r=this.bisectDate.left(l,n,0,l.length-1),s=g(l[r]),t=Math.sqrt(s)/q,u=h.invert(f[0]-t),w=this.bisectDate.left(l,u,0,r),z=2*r-w;0>w&&(w=0),z>l.length&&(z=l.length);var B,A=s,C=r;for(D=w;D<z;D+=o)(B=g(l[D]))<A&&(r=D,A=B);C=r;for(var D=r+1;D<z&&D<r+o-1;D++)(B=g(l[D]))<A&&(A=B,C=D);for(var D=r-1;D>w&&D>r-o+1;D--)(B=g(l[D]))<A&&(A=B,C=D);return l[C]}},{key:'_closestInterpolatedPoint',value:function(f,g){function h(D){var E=D.x-f[0],F=D.y-f[1];return E*E+F*F}g=g||this._area.node()||this._line.node();for(var n,o,r,t,k=g.getTotalLength(),l=2*Math.ceil(k/this._chart._width/2),q=Infinity,s=0;s<=k;s+=l)(t=h(r=g.getPointAtLength(s)))<q&&(n=r,o=s,q=t);for(l/=2;0.5<l;){var u,w,z,A,B,C;0<=(z=o-l)&&(B=h(u=g.getPointAtLength(z)))<q?(n=u,o=z,q=B):(A=o+l)<=k&&(C=h(w=g.getPointAtLength(A)))<q?(n=w,o=A,q=C):l/=2}return n={x:this.scaleX(n.x),y:this.scaleY(n.y)},n.distance=Math.sqrt(q),n}},{key:'setColor',value:function(f){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'setColor',this).call(this,f),this._setColorProperties()}},{key:'clearValues',value:function(f){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'clearValues',this).call(this,f)}},{key:'_getStrokeColor',value:function(f){if(this.item.threshold)switch(f.state){case 1:return this.getComputedStyleValue('device-state-exceeds-color')||'#F20C0C';case-1:return this.getComputedStyleValue('device-state-deceeds-color')||'#F20C0C';}return this.item.color||'#fff'}},{key:'_lineWidthChanged',value:function(f){this._line&&this._line.attr&&this._line.attr('stroke-width',f)}},{key:'_interpolationChanged',value:function(f){var g;g='Basis Spline'===f?d3.curveBasis:'Monotoner Spline'===f?d3.curveMonotoneX:'Kubischer Spline'===f?d3.curveNatural:'Cardinaler Spline'===f?d3.curveCardinal:'Catmull-Rom-Spline'===f?d3.curveCatmullRom:'Stufe (mitte)'===f?d3.curveStep:'Stufe (davor)'===f?d3.curveStepAfter:'Stufe (danach)'===f?d3.curveStepBefore:d3.curveLinear,this._areaGenerator.curve(g),this._lineGenerator.curve(g)}},{key:'_onAxisClicked',value:function(f){var g=f.classed('expanded');f.classed('expanded',!g),this.sizeChanged()}},{key:'_onAxisMouseover',value:function(f,g){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_onAxisMouseover',this).call(this,f,g),this._area&&this._area.raise(),this._line&&this._line.raise()}},{key:'_containerRoot',get:function(){var f=Polymer.dom(this).getOwnerRoot();return f?f.host||f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:void 0:Polymer.dom(this).parentNode}}],[{key:'observers',get:function(){return['_itemChanged(item)','_lineChanged(hasLine, "line")','_areaChanged(hasArea, "area")','_thresholdChanged(item.threshold, "boundery")']}}]),b}(WebvisualMixins.AxesMixin(WebvisualMixins.ColorMixin(WebvisualMixins.DeviceMixin(Polymer.Element))));customElements.define(DeviceGraph.is,DeviceGraph);</script></dom-module><dom-module id="device-chart"><template strip-whitespace=""><style include="selectbox-style button-style">:host{box-sizing:border-box;position:relative;font-family:inherit;color:white;letter-spacing:normal !important;user-select:none !important;z-index:auto;transition:background 150ms linear;}:host([fullscreen]){color:var(--fullscreen-color, white);background-color:var(--fullscreen-background-color);min-height:100vh;min-width:100vw;padding:1.25em !important;margin:0 !important;--control-bottom:8px;--control-right:16px;--control-button-distance:8px;}:host(:-webkit-full-screen){color:var(--fullscreen-color, white);background-color:var(--fullscreen-background-color);}#svgContainer{position:relative;box-sizing:border-box;width:100%;height:100%;border-radius:inherit;isolation:isolate;}#svg{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%;overflow:opened;font-family:inherit !important;}text{fill:currentColor;stroke:white;stroke-width:0.1;stroke-opacity:0.2;font-size:1em;letter-spacing:-0.0125em;font-family:inherit !important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}text.info{fill:var(--primary-text-color);}rect#plot{fill:var(--chart-plot-background-color, #fff);stroke:currentColor;fill-opacity:var(--chart-plot-background-opacity, 0.2);stroke-opacity:0.5;stroke-width:1px;}.grid .tick line{stroke:currentColor;stroke-opacity:0.15;}.grid{mix-blend-mode:exclusion;}.grid path{stroke-width:0;}.axis{cursor:-webkit-grab;cursor:grab;pointer-events:all;font-family:inherit !important;}.axis.dragged{cursor:-webkit-grabbing;cursor:grabbing;}.axis path, .axis line{fill:currentColor;fill-opacity:0.01;stroke:currentColor;stroke-opacity:0.75;transition:fill-opacity 150ms linear;}.axis:hover path{fill-opacity:0.3;}.axis.expanded path, .axis.expanded line{stroke-opacity:0.9;}.axis.dragged path{fill-opacity:0.2;}.brush .selection{fill:currentColor;fill-opacity:0.5;stroke:currentColor;stroke-width:0;}.axis.vertical .brush .overlay{cursor:ns-resize;}.axis:not(.vertical) .brush .overlay{cursor:ew-resize;}#graphs .area{fill-opacity:0.3;transition:fill-opacity 200ms linear;@apply --chart-area;}#graphs .area:last-of-type{fill-opacity:0.4;}#graphs .line{cursor:pointer;stroke-opacity:0.9;@apply --chart-line;}#graphs .line:last-of-type{stroke-opacity:1;}.focus,
      .delta{color:var(--focus-color, currentColor);}#focus > *,
      #delta > *{stroke:var(--focus-color, currentColor);stroke-opacity:0.5;stroke-width:1.5px;}marker{fill:var(--focus-color, currentColor);}#focus .line{stroke-dasharray:2;mix-blend-mode:darken;}.zoom{cursor:default;fill:none;stroke:none;pointer-events:all;}.dot{fill-opacity:0.9;cursor:pointer;pointer-events:all;}.selectbox > *{flex:1 0 auto;padding:0.6em 0.3em;font-size:inherit !important;}.selectbox{padding:0;}#control{position:absolute;bottom:var(--control-bottom, 0px);right:var(--control-right, 0px);mix-blend-mode:exclusion;}#control > *:not(:first-of-type){margin-left:var(--control-button-distance, 0px);}#control > *{background:rgba(255,255,255,0.0625);}.selectbox,
      .button{font-size:0.8em;margin-top:0.25em;margin-left:0.25em;margin-right:0.25em;}.button{padding:0.3em;}#controlcontent{transform:translateY(-100%);position:absolute;top:0;right:0;display:flex;flex-direction:column;background-color:rgba(255, 255, 255, 0.25);}[hidden]{display:none !important;}</style><div id="svgContainer" on-contextmenu="_resetZoom"><svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMinYMin meet"><defs><marker id="arrowToLeft" markerWidth="20" markerHeight="20" refX="0" refY="0" orient="auto" markerUnits="strokeWidth" viewBox="-10 0 15 10"><path d="m 5.29167,-1.7197893 v 3.439581 L 0,2.6966667e-6 Z"></path></marker><marker id="arrowToRight" markerWidth="20" markerHeight="20" refX="0" refY="0" orient="auto" markerUnits="strokeWidth" viewBox="-10 0 15 10"><path d="m -5.2916667,-1.7197893 v 3.439581 L 3.3333333e-6,2.6966667e-6 Z"></path></marker><marker id="stub" markerWidth="5" markerHeight="5" refX="0" refY="0" orient="auto" markerUnits="strokeWidth" viewBox="-1 -5 2 10"><path d="M0,0 m-1,-5 L1,-5 L1,5 L-1,5 z"></path><path d="M -2,0 M -5,-1 H 1 V 1 H -5 Z"></path></marker><filter x="0" y="0" width="1" height="1" id="solid"><feFlood flood-color="white" id="flood"></feFlood><feMerge><feMergeNode in="flood"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter></defs><g id="chart"><clipPath id="clip"><rect x="0" y="0"></rect></clipPath><rect id="plot" clip-path="url(#clip)"></rect><g id="yGrid" class="grid" clip-path="url(#clip)"></g><g id="graphs" clip-path="url(#clip)"><g id="area"></g><g id="line"></g><g id="boundery"></g></g><g id="zoom" clip-path="url(#clip)"></g><g id="delta" hidden=""><line id="deltaX" class="line x" marker-start="url(#arrowToLeft)" marker-end="url(#arrowToRight)"></line><line id="deltaY" class="line y" marker-start="url(#arrowToLeft)" marker-end="url(#arrowToRight)"></line><circle id="deltaDot" class="dot"></circle></g><g id="focus" hidden=""><line id="focusX" class="line x" x1="0" marker-start="url(#stub)" marker-end="url(#arrowToRight)"></line><line id="focusY" class="line y" marker-start="url(#stub)" marker-end="url(#arrowToRight)"></line><circle id="focusDot" class="dot"></circle></g><g id="axis" on-tap="_resetZoom"></g><text id="info" class="focus info" x="0" y="0" filter="url(#solid)" hidden=""></text><text id="infoDeltaX" class="delta info" x="0" y="0" filter="url(#solid)" hidden=""></text><text id="infoDeltaY" class="delta info" x="0" y="0" filter="url(#solid)" hidden=""></text></g></svg><section id="control"><iron-collapse id="controlcontent" opened="[[showControl]]"><div class="selectbox"><select value="{{interpolation::change}}"><option value="Lineare Verbindung">Lineare Verbindung</option><option value="Basis Spline">Basis Spline</option><option value="Kubischer Spline">Kubischer Spline</option><option value="Cardinaler Spline">Cardinaler Spline</option><option value="Catmull-Rom-Spline">Catmull-Rom-Spline</option><option value="Stufe (mitte)">Stufe (mitte)</option><option value="Stufe (davor)">Stufe (davor)</option><option value="Stufe (danach)">Stufe (danach)</option></select></div><div class="selectbox"><select value="{{yScale::change}}"><option value="linear">linear</option><option value="âˆš">âˆš</option><option value="ln">ln</option><option value="logâ‚â‚€">logâ‚â‚€</option></select></div><div class="selectbox"><select value="{{modus::change}}"><option value="zoom">zoom</option><option value="delta">delta</option></select></div></iron-collapse><icon-button title="settings" icon="tune" checked="{{showControl}}"></icon-button><icon-button icon="[[fullscreenIcon]]" on-tap="toggleFullscreen"></icon-button></section></div><template is="dom-if" if="[[multi]]" restamp=""><template is="dom-repeat" items="[[items]]"><device-graph item="[[item]]" interpolation="[[interpolation]]" locale-date="[[localeDate]]" locale-number="[[localeNumber]]" range-x="[[rangeX]]" range-y="[[rangeY]]" no-link="[[!opened]]"></device-graph></template></template><template is="dom-if" if="[[!multi]]" restamp=""><device-graph item="[[item]]" interpolation="[[interpolation]]" locale-date="[[localeDate]]" locale-number="[[localeNumber]]" range-x="[[rangeX]]" range-y="[[rangeY]]" no-link="[[!opened]]"></device-graph></template></template><script>var DeviceChart=function(c){function f(){babelHelpers.classCallCheck(this,f);var h=babelHelpers.possibleConstructorReturn(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return h._width=0,h._height=0,h._graphs=new Set,h}return babelHelpers.inherits(f,c),babelHelpers.createClass(f,null,[{key:'is',get:function(){return'device-chart'}},{key:'properties',get:function(){return{opened:{type:Boolean},margin:{type:Object,value:function(){return{top:6,right:6,bottom:6,left:6}}},gridMult:{type:Number,value:2},multiAxesX:{type:Boolean,value:!1},multiAxesY:{type:Boolean,value:!0},interpolation:{type:String,value:'Lineare Verbindung',observer:'changeInterpolation'},noLink:{type:Boolean},item:{type:Object},items:{type:Array},multi:{type:Boolean,value:!1},showControl:{type:Boolean,value:!1},modus:{type:String,value:'delta',observer:'_modusChanged'},languageResourcePrefix:{type:String,value:'/locales/format/'}}}}]),babelHelpers.createClass(f,[{key:'_localizeChanged',value:function(j){this.set('localeDate',j('date')),this.set('localeNumber',j('number'))}},{key:'_fireResize',value:function(){this.dispatchEvent(new CustomEvent('iron-resize',{bubbles:!1,composed:!0,node:this})),this.sizeChanged()}},{key:'connectedCallback',value:function(){babelHelpers.get(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),'connectedCallback',this).call(this),this._buildLayout()}},{key:'_buildLayout',value:function(){var j=this;this._svg=d3.select(this.$.svg).attr('height',null).attr('width',null),this._chart=d3.select(this.$.chart),this._control=d3.select(this.$.control),this._axisInsertionPoint=d3.select(this.$.axis),this._area=d3.select(this.$.area),this._line=d3.select(this.$.line),this._boundery=d3.select(this.$.boundery),this.axisX=this._computeAxisNode(this._axisInsertionPoint,this.axisOrientX).attr('hidden',!!this.multiAxesX||null).classed('expanded',!0).classed('x',!0),this.axisY=this._computeAxisNode(this._axisInsertionPoint,this.axisOrientY).attr('hidden',!!this.multiAxesY||null).classed('expanded',!0).classed('vertical',!0).classed('y',!0),this.axisGeneratorX=this._computeAxisGenerator(this.axisOrientX,this.scaleX,this.scalingX,this.scaleBaseX),this.axisGeneratorY=this._computeAxisGenerator(this.axisOrientY,this.scaleY,this.scalingY,this.scaleBaseY),this._info=d3.select(this.$.info),this._focus=d3.select(this.$.focus),this._focusX=d3.select(this.$.focusX),this._focusY=d3.select(this.$.focusY),this._focusDot=d3.select(this.$.focusDot),this._focusDot.on('mouseenter',function(){j.cancelDebouncer('hideinfo')},{passive:!0}).on('mouseleave',this._debouncedHideInfo.bind(this),{passive:!0}).on('click',this._dotClicked.bind(this),{passive:!0}),this._infoDeltaX=d3.select(this.$.infoDeltaX),this._infoDeltaY=d3.select(this.$.infoDeltaY),this._delta=d3.select(this.$.delta),this._deltaX=d3.select(this.$.deltaX),this._deltaY=d3.select(this.$.deltaY),this._deltaDot=d3.select(this.$.deltaDot),this._zoomBehavior=d3.zoom().scaleExtent([1,Infinity]).on('zoom',this._onZoomed.bind(this)),this._zoom=d3.select(this.$.zoom).append('svg:rect').classed('zoom',!0).call(this._zoomBehavior),this._svg.selectAll('g,line,text,path,rect').classed('style-scope',!0).classed('device-chart',!0),this._isAttached=!0,this._modusChanged(this.modus),this._multiAxesChanged(this.multiAxesX,this.multiAxesY),this.sizeChanged()}},{key:'reset',value:function(){this.opened=!1,this.set('item',{}),this.set('items',[]),this.set('exceeding',[])}},{key:'sizeChanged',value:function(){var j=this;this.opened&&this._isAttached&&(this._activeSizeJob&&cancelAnimationFrame(this._activeSizeJob),this._activeSizeJob=requestAnimationFrame(function(){j.sizeLayout()},0))}},{key:'sizeLayout',value:function(){function j(E,F){return'left'===E?(this._left=u,this._right=0,u-=F):'right'===E?(this._left=0,this._right=o,o+=F):(this._left=0,this._right=0),'top'===E?(this._bottom=0,this._top=n,n-=F):'bottom'===E?(this._bottom=r,this._top=0,r+=F):(this._bottom=0,this._top=0),!0}function k(E,F,G){return this._left+=this._right,this._top+=this._bottom,this._bottom=0,this._right=0,'right'===E?this._left+=F:'bottom'===E&&(this._top+=G),!0}var l=this;if(this.opened&&this._isAttached){var m=this.$.svg.getBoundingClientRect();if(this._activeSizeJob&&cancelAnimationFrame(this._activeSizeJob),0===m.height||0===m.width)return void requestAnimationFrame(function(){l.sizeChanged()});console.log('sizeLayout');var n=-2,o=1,r=1,u=-2,v=this.axisSizeX,w=this.axisSizeY,z=this.tickSize,A=this.axisMargin,B=z+A,C=[];if(this._graphs.forEach(function(E){if(E._isAttached){if(!E.axisX.attr('hidden')){var F=E.axisX.classed('expanded')?v:B;C.push(j.call(E.axisX,E.axisOrientX,F))}if(!E.axisY.attr('hidden')){var F=E.axisY.classed('expanded')?w:B;C.push(j.call(E.axisY,E.axisOrientY,F))}}}),!this.axisX.attr('hidden')){var D=this.axisX.classed('expanded')?v:B;C.push(j.call(this.axisX,this.axisOrientX,D))}if(!this.axisY.attr('hidden')){var D=this.axisY.classed('expanded')?w:B;C.push(j.call(this.axisY,this.axisOrientX,D))}Promise.all(C).then(function(){var E=l.$.svg.getBoundingClientRect();l._width=Math.abs(E.width-Math.abs(u||0)-Math.abs(o||0)-(l.margin.left||0)-(l.margin.right||0)),l._height=Math.abs(E.height-Math.abs(r||0)-Math.abs(n||0)-(l.margin.bottom||0)-(l.margin.top||0)),l.set('rangeX',[0,l._width]),l.set('rangeY',[l._height,0]),l.ticksX=Math.ceil(l._width/75),l.ticksY=Math.ceil(l._height/50),l._zoom.attr('height',l._height).attr('width',l._width),l._zoomBehavior.extent([[0,0],[l._width,l._height]]),l._zoom.call(l._zoomBehavior.transform,d3.zoomIdentity);var F=[];l._graphs.forEach(function(G){G._isAttached&&(!G.axisX.attr('hidden')&&F.push(k.call(G.axisX,G.axisOrientX,l._width,l._height)),!G.axisY.attr('hidden')&&F.push(k.call(G.axisY,G.axisOrientY,l._width,l._height)))}),l.axisX.attr('hidden')||F.push(k.call(l.axisX,l.axisOrientX,l._width,l._height)),l.axisY.attr('hidden')||F.push(k.call(l.axisY,l.axisOrientY,l._width,l._height)),Promise.all(F).then(function(){n-=l.margin.top||0,o+=l.margin.right||0,r+=l.margin.bottom||0,u-=l.margin.left||0,l._chart._top=n,l._chart._right=o,l._chart._bottom=r,l._chart._left=u,!l.domainX||!l.domainY||l.domainX.some(function(G){return void 0===G||null===G})||l.domainY.some(function(G){return void 0===G||null===G})?l.redraw(!0):l.redraw()})})}}},{key:'_domainXChanged',value:function(j){if(!(void 0===j||void 0===this.scaleX||j.some(function(l){return void 0===l||null===l}))&&(console.log('domainchanged'),this.scaleX.domain(j),!this.multiAxesX)){var k=this._zoomBehavior.translateExtent();this._zoomBehavior.translateExtent([[this.scaleX(this.domainX[0]),k[0][1]],[this.scaleX(this.domainX[1]),k[1][1]]])}}},{key:'_domainYChanged',value:function(j){if(!(void 0===j||void 0===this.scaleY||j.some(function(l){return void 0===l||null===l}))&&(this.scaleY.domain(j).nice(),!this.multiAxesY)){var k=this._zoomBehavior.translateExtent();this._zoomBehavior.translateExtent([[k[0][0],this.scaleY(this.domainY[0])],[k[1][0],this.scaleY(this.domainY[1])]])}}},{key:'_multiAxesChanged',value:function(j,k){var l=this;if(this._isAttached){var m;if(this._graphs.forEach(function(o){o._isAttached&&(m=j&&o.axisX?null:!0,o.axisX.attr('hidden',m),m&&o.set('domainX',l.domainX),m=k&&o.axisY?null:!0,o.axisY.attr('hidden',m),m&&o.set('domainY',l.domainY))}),m=j&&this.axisX||null,this.axisX.attr('hidden',m),m=k&&this.axisY||null,this.axisY.attr('hidden',m),!j&&this.scaleX&&this.domainX){var n=this._zoomBehavior.translateExtent();this._zoomBehavior.translateExtent([[this.scaleX(this.domainX[0]),n[0][1]],[this.scaleX(this.domainX[1]),n[1][1]]])}if(!k&&this.scaleY&&this.domainY){var n=this._zoomBehavior.translateExtent();this._zoomBehavior.translateExtent([[n[0][0],this.scaleY(this.domainY[0])],[n[1][0],this.scaleY(this.domainY[1])]])}}}},{key:'_addGraph',value:function(j){this._graphs.add(j)}},{key:'_removeGraph',value:function(j){this._graphs.delete(j),0===this._graphs.size&&(this.set('domainX',[null,null]),this.set('domainY',[null,null]))}},{key:'_redomain',value:function(){this._isAttached&&(this._activeRedrawJob&&clearTimeout(this._activeRedrawJob),console.log('_redomain'),Promise.resolve(this._getDomain.call(this)).then(this.redraw.bind(this,!1)).catch(function(k){k&&console.warn(k)}))}},{key:'redraw',value:function(j){var k=this;return this._isAttached?j?(console.log('force'),void this._redomain()):void(console.log('chart redraw'),this._activeRedrawJob&&clearTimeout(this._activeRedrawJob),this._activeRedrawJob=setTimeout(function(){k._graphs.forEach(function(l){l._isAttached&&(l.axisX.attr('hidden')?l.set('domainX',k.domainX):(l._updateAxisBrushGenerator.call(l.axisBrushGeneratorX,k.rangeX,l.axisOrientX),l.axisX.select('.brush').raise().call(l.axisBrushGeneratorX),l.axisX.attr('transform','translate('+(l.axisX._left||0)+','+(l.axisX._top||0)+')')),l.axisY.attr('hidden')?l.set('domainY',k.domainY):(l._updateAxisBrushGenerator.call(l.axisBrushGeneratorY,k.rangeY,l.axisOrientY),l.axisY.select('.brush').raise().call(l.axisBrushGeneratorY),l.axisY.attr('transform','translate('+(l.axisY._left||0)+','+(l.axisY._top||0)+')')),l.redraw())}),k.axisX.attr('hidden')||(k._updateAxisBrushGenerator.call(k.axisBrushGeneratorX,k.rangeX,k.axisOrientX),k.axisX.select('.brush').raise().call(k.axisBrushGeneratorX),k.axisX.transition(100).call(k.axisGeneratorX.tickSize(k.tickSize).tickFormat(k.axisX.classed('expanded')?k._computeFormatFn(k.scalingX,k.scaleBaseX):'')).transition(100).attr('transform','translate('+(k.axisX._left||0)+','+(k.axisX._top||0)+')')),k.axisY.attr('hidden')||(k._updateAxisBrushGenerator.call(k.axisBrushGeneratorY,k.rangeY,k.axisOrientY),k.axisY.select('.brush').raise().call(k.axisBrushGeneratorY),k.axisY.transition(100).call(k.axisGeneratorY.tickSize(k.tickSize).tickFormat(k.axisY.classed('expanded')?k._computeFormatFn(k.scalingY,k.scaleBaseY):'')).transition(100).attr('transform','translate('+(k.axisY._left||0)+','+(k.axisY._top||0)+')')),k._control.transition(100).style('transform','translate(-'+k._chart._right+'px,-'+k._chart._bottom+'px)'),k._chart.select('clipPath#clip rect').transition(100).attr('width',k._width).attr('height',k._height),k._chart.select('rect#plot').transition(100).attr('width',k._width).attr('height',k._height),k._chart.transition(100).attr('transform','translate('+(-k._chart._left||0)+','+(-k._chart._top||0)+')'),k._focusY.attr('y1',k._height),k._svg.selectAll('g,line,text,path,rect').classed('style-scope device-chart',!0).classed('device-chart',!0),k._updateInfo()},0)):void 0}},{key:'_getDomain',value:function(){var j=this;return console.log('_getDomain'),new Promise(function(k,l){var m=[],n=[];j._graphs.forEach(function(o){m.push(o._getDomain('x',j.multiAxesX)),n.push(o._getDomain('y',j.multiAxesX))}),Promise.all(m).then(function(o){for(var r,u,v,w=0;w<o.length;w++)r=void 0===r||r>o[w].domain[0]?o[w].domain[0]:r,u=void 0===u||u<o[w].domain[1]?o[w].domain[1]:u;(void 0===r||void 0===u)&&k(),v=[r,u],j.set('domainX',v),j.scaleX.domain(v),!1===j.multiAxesX&&j._graphs.forEach(function(z){z.axisX._isBrushed=!1,z.set('domainX',v),z.scaleX.domain(v)}),Promise.all(n).then(function(z){for(var A,B,C,D=0;D<z.length;D++)A=void 0===A||A>z[D].domain[0]?z[D].domain[0]:A,B=void 0===B||B<z[D].domain[1]?z[D].domain[1]:B;(void 0===A||void 0===B)&&k(),C=[A,B],j.set('domainY',C),!1===j.multiAxesY&&j._graphs.forEach(function(E){E.axisY._isBrushed=!1,E.set('domainY',C)}),k()}).catch(function(z){l(z)})}).catch(function(o){l(o)})})}},{key:'insertValues',value:function(j){this._graphs.forEach(function(k){k&&k._isAttached&&k.item&&k.item.mount&&j[k.item.mount]&&k.insertValues(j[k.item.mount])})}},{key:'clearValues',value:function(){this._graphs.forEach(function(j){j&&j._isAttached&&j.clearValues()})}},{key:'_moveInfo',value:function(j){if(Number.isFinite(this.scaleY(j.y))){var k=this.timeFormatRange.call(this,j.x,this.scaleX.domain(),this._width),l=this.numberFormat.call(this,j.y);this._info.text(k+'\u1680'+l);var m=this._fixedValue;if(m){var n=Math.abs(m.x-j.x),o=Math.abs(m.y-j.y);n=this.timeFormat.call(this,n),o=this.numberFormat.call(this,o),this._infoDeltaX.text(n),this._infoDeltaY.text(o)}this._updateInfo()}}},{key:'_showInfo',value:function(){this.cancelDebouncer('hideinfo'),this._info.attr('hidden',null),this._focus.attr('hidden',null),this._fixedValue&&this._showDelta()}},{key:'_showDelta',value:function(){this._infoDeltaX.attr('hidden',null),this._infoDeltaY.attr('hidden',null),this._delta.attr('hidden',null)}},{key:'_debouncedHideInfo',value:function(){this._activeHideInfoJob&&clearTimeout(this._activeHideInfoJob),this._activeHideInfoJob=setTimeout(function(){},1e3)}},{key:'_hideInfo',value:function(){this._info.attr('hidden',''),this._focus.attr('hidden',''),this._hideDelta(),this._svg.selectAll('g,line,text,path,rect').classed('style-scope',!0).classed('device-chart',!0)}},{key:'_hideDelta',value:function(){this._infoDeltaX.attr('hidden',''),this._infoDeltaY.attr('hidden',''),this._delta.attr('hidden','')}},{key:'_updateInfo',value:function(){if(this._focusedValue&&''!==this._info.attr('hidden')){var j=this._focusedValue,k=this.scaleX(+j.x),l=this.scaleY(+j.y);if(k&&l){switch(this._alignText(this._info.node(),k,l,null,1.5*this._focusDot.attr('r')),this.modus){case'delta':var m=this._fixedValue;if(m&&m.x&&j.x!==m.x&&m.y&&j.y!==m.y){var n=this.scaleX(+m.x),o=this.scaleY(+m.y);this._deltaX.attr('x1',k).attr('x2',n).attr('y1',o).attr('y2',o),this._deltaY.attr('y1',l).attr('y2',o),o<l||k<n?(this._deltaY.attr('x1',k).attr('x2',k),this._alignText(this._infoDeltaY.node(),k,(o+l)/2,null,null,null,'middle')):(this._deltaY.attr('x1',n).attr('x2',n),this._alignText(this._infoDeltaY.node(),n,(o+l)/2,null,null,null,'middle')),this._deltaX,this._alignText(this._infoDeltaX.node(),(n+k)/2,o,null,null,null,'middle'),this._deltaDot.attr('cy',o).attr('cx',n)}else this._hideDelta();case'integral':default:this._focusX.attr('x1',j._y_axis).attr('x2',k).attr('y2',l).attr('y1',l),this._focusY.attr('y1',j._x_axis).attr('y2',l).attr('x2',k).attr('x1',k),this._focusDot.attr('cy',l).attr('cx',k);}this._svg.selectAll('g,line,text,path,rect').classed('style-scope',!0).classed('device-chart',!0)}}}},{key:'_alignText',value:function(j,k,l,m,n,o,r){m=m||0,n=n||0;var u=j.getBBox(),v=this._height,w=this._width,o=o||'middle',r=r||'ideographic',z=m,A=n;switch(o){case'middle':z+=u.width/2;case'end ':z+=u.width;}switch(r){case'ideographic':A+=u.height;case'middle':A+=u.height/2;case'hanging':A-=u.height;}0>l-A?r='hanging':l+A>v&&(l=v-A),k+z>w?o='end':0>k-z&&(o='start'),j.setAttribute('x',k+m),j.setAttribute('y',l-n),j.setAttribute('text-anchor',o),j.setAttribute('alignment-baseline',r)}},{key:'_modusChanged',value:function(j){switch(j){case'zoom':break;case'delta':break;case'integral':break;default:}}},{key:'_dotClicked',value:function(j){var k=this;switch(this.modus){case'zoom':var l=(this.scaleX(this.scaleX.domain()[1])-this.scaleX(this.scaleX.domain()[0]))/4,m=(this.scaleY(this.scaleY.domain()[0])-this.scaleY(this.scaleY.domain()[1]))/4,n=this.scaleX(+j.x),o=this.scaleY(+j.y)||0;d3.event.selection=[[n-l,o-m],[n+l,o+m]],this.brushed();break;case'delta':var r=this._fixedValue;if(r&&r.x&&r.y&&r.x===j.x&&r.y===j.y)return this._fixedValue=null,this._hideDelta(),void this._updateInfo();this._fixedValue=j,this._deltaDot.datum(this._fixedValue).attr('cx',function(u){return k.scaleX(u.x)}).attr('cy',function(u){return k.scaleY(u.y)}).attr('r',this._focusDot.attr('r')).attr('fill',this._focusDot.attr('fill'));break;case'integral':}}},{key:'closeMenu',value:function(){this.showMenu=!1}},{key:'changeInterpolation',value:function(j){this._graphs.forEach(function(l){l&&l._isAttached&&l.set('interpolation',j)})}},{key:'_onAxisBrushEnd',value:function(){if(!(d3.event.sourceEvent&&'zoom'===d3.event.sourceEvent.type)){var k=d3.event.selection;if(k){if(!this.multiAxesX){var l=k.map(this.scaleX.invert,this.scaleX).sort(function(m,n){return m>n});this._graphs.forEach(function(m){m.scaleX.domain(l),m.axisGeneratorX.scale(m.scaleX),m.redraw()}),this.axisX._isBrushed=!0,this.axisX.call(this.axisGeneratorX.scale().domain(l)),this.axisX.select('.brush').call(this.axisBrushGeneratorX.move,null)}if(!this.multiAxesY){var l=k.map(this.scaleY.invert,this.scaleY).sort(function(m,n){return m>n});this._graphs.forEach(function(m){m.scaleY.domain(l),m.axisGeneratorY.scale(m.scaleY),m.redraw()}),this.axisY._isBrushed=!0,this.axisY.call(this.axisGeneratorY.scale().domain(l)),this.axisY.select('.brush').call(this.axisBrushGeneratorY.move,null)}this._zoom.call(this._zoomBehavior.transform,d3.zoomIdentity.scale(this._width/(k[1]-k[0])).translate(-k[0],0))}}}},{key:'_onZoomed',value:function(){if(!(d3.event.sourceEvent&&'brush'===d3.event.sourceEvent.type)){var j=d3.event.transform;if(!this.multiAxesX){var k=d3.event.transform.rescaleX(this.scaleX);this._graphs.forEach(function(m){m.scaleX.domain(k.domain()),m.axisGeneratorX.scale(m.scaleX),console.log(m.scaleX.domain(),m.scaleY.domain()),m.redraw()}),this.axisX.call(this.axisGeneratorX.scale(k)),this._isZoomed=1!==j.k||0!==j.x||0!==j.y,console.log('zoomed x',this._isZoomed)}if(!this.multiAxesY){var l=d3.event.transform.rescaleY(this.scaleY);this._graphs.forEach(function(m){m.scaleY.domain(l.domain()),m.axisGeneratorY.scale(m.scaleY),m.redraw()}),this.axisY.call(this.axisGeneratorY.scale(l)),this._isZoomed=1!==j.k||0!==j.x||0!==j.y,console.log('zoomed',this._isZoomed)}}}},{key:'_resetZoom',value:function(j){d3.event?d3.event.preventDefault():j&&j.preventDefault&&j.preventDefault(),this._isZoomed=!1,this._fixedValue=null,this._focusedValue=null,this.axisX._isBrushed=!1,this.axisY._isBrushed=!1,this._zoom.call(this._zoomBehavior.transform,d3.zoomIdentity.scale(1)),this._graphs.forEach(function(k){k.axisX._isBrushed=!1,k.axisY._isBrushed=!1}),this._hideInfo(),this._redomain()}},{key:'_self',get:function(){return this}}],[{key:'observers',get:function(){return['_localizeChanged(localize)']}}]),f}(Polymer.mixinBehaviors([Polymer.IronResizableBehavior],WebvisualMixins.AxesMixin(WebvisualMixins.FullscreenMixin(WebvisualMixins.LocalizeMixin(Polymer.Element)))));customElements.define(DeviceChart.is,DeviceChart);</script></dom-module><dom-module id="calendar-element" assetpath="../bower_components/datetime-picker/"><template strip-whitespace=""><style>:host{display:inline-block;font-family:inherit;background-color:var(--calendar-background, #252525);color:var(--calendar-color, #ccc);-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;outline-width:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--calendar-selected:var(--primary-color, #253EEC);padding:6px;@apply --calendar-element;}:host > *{position:relative;}#top{width:100%;display:inline-flex;flex-direction:row;align-items:center;font-size:1em;}.view{flex:1;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer;}#calendar{display:table;}#header{display:table-header-group;}#dates{display:table-row-group;}.week{font-size:0.8em;display:table-row;}.day{display:table-cell;padding:0.5em;text-align:center;border-radius:50%;border-style:solid;border-width:thin;border-color:transparent;}#dates .day:hover{border-color:rgba(255, 255, 255, 0.25);}.day.notinmonth{opacity:0.5;}.day.selected{background-color:var(--calendar-selected);border-color:transparent !important;}.day.current{border-style:solid;border-width:thin;border-color:var(--calendar-selected) !important;}.day.outofrange{opacity:0.15;font-style:italic;pointer-events:none;}.day,
      .button{cursor:pointer;will-change:background-color;transition:background-color 150ms cubic-bezier(0.6, 1, 0.2, 1);fill:currentColor;}.button{height:1em;padding:0.5em;}.button:hover{background-color:var(--calendar-selected);}#viewMonth{float:left;margin-right:0.3em;}#viewYear{float:left;font-weight:bold;}input::-webkit-input-placeholder{color:currentColor;}</style><div id="top"><svg class="button" on-click="_prevMonth" aria-label="previous" viewBox="0 0 24 24"><g><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g></svg><section class="view" on-click="_jumpToNow"><div id="viewMonth"></div><div id="viewYear"></div></section><svg class="button" on-click="_nextMonth" aria-label="next" viewBox="0 0 24 24"><g><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></svg><slot></slot></div><div id="calendar"><div id="header"><div id="dayCaption" class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div></div><div id="dates" on-click="_onClick"><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div><div class="week"><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div><div class="day"></div></div></div></div></template><script>var CalendarElement=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){var f=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),setTimeout(function(){var g;g=f.date?new Date(f.date):new Date,f.date=f._toDate(g.getFullYear(),g.getMonth()+1,g.getDate())},0)}},{key:'_dateChanged',value:function(f){var h,k,g=new Date(f||null);this.min&&(h=+new Date(this.min)),this.max&&(k=+new Date(this.max)),!g||h&&h>g||k&&k<g?this.set('date',null):this.set('date',this._toDate(g)),this.set('viewDate',+new Date(g.getFullYear(),g.getMonth())),this.render()}},{key:'_pad',value:function(f){return 10>f?'0'+f:''+f}},{key:'_onClick',value:function(f){if(f)for(var g=f.path||[f.target],h=0;h<g.length;h++)if(g[h].dataset&&g[h].dataset.date){this._prevSelected&&this._prevSelected.classList.remove('selected'),g[h].classList.add('selected'),this.date=g[h].dataset.date,this._prevSelected=g[h];break}}},{key:'_jumpToNow',value:function(){var f=new Date;this.viewDate=+new Date(f.getFullYear(),f.getMonth())}},{key:'_prevMonth',value:function(){var f=new Date(this.viewDate);f&&(this.viewDate=+new Date(f.getFullYear(),f.getMonth()-1))}},{key:'_nextMonth',value:function(){var f=new Date(this.viewDate);f&&(this.viewDate=+new Date(f.getFullYear(),f.getMonth()+1))}},{key:'_localeChanged',value:function(){var g,f=new Date(this.viewDate);f&&(this.$.viewMonth.textContent=f.toLocaleDateString(this.locale,{month:'long'}),this.$.viewYear.textContent=f.toLocaleDateString(this.locale,{year:'numeric'}));for(var h=0;7>h;h++)f=new Date(0,0,h),g=(f.getDay()-1+7)%7,this.$.dayCaption.children[g]&&(this.$.dayCaption.children[g].textContent=f.toLocaleDateString(this.locale,{weekday:'short'}))}},{key:'render',value:function(){if(this.viewDate){var f=new Date(this.viewDate);this.$.viewMonth.textContent=f.toLocaleDateString(this.locale,{month:'long'}),this.$.viewYear.textContent=f.toLocaleDateString(this.locale,{year:'numeric'});var g,h,k,l,m,o,p;o=f.getFullYear(),p=f.getMonth(),k=Math.floor(new Date(o,p,1).getTime()/865E5),h=Math.ceil(new Date().getTime()/865E5)-k,void 0!==this.date&&(g=Math.ceil(new Date(this.date).getTime()/865E5)-k),void 0!==this.min&&(l=Math.ceil(+new Date(this.min).getTime()/865E5)-k),void 0!==this.max&&(m=Math.floor(+new Date(this.max).getTime()/865E5)-k);for(var q=+new Date(o,p,0).getDate(),r=+new Date(o,p+1,0).getDate(),s=+new Date(o,p,1).getDay()-1,t=-(7+s)+1,u=0;u<this.$.dates.children.length;u++)for(var v=0;v<this.$.dates.children[u].children.length;v++)0>=t?(this.$.dates.children[u].children[v].classList.add('notinmonth'),this.$.dates.children[u].children[v].textContent=q+t):t>r?(this.$.dates.children[u].children[v].classList.add('notinmonth'),this.$.dates.children[u].children[v].textContent=t-r):(this.$.dates.children[u].children[v].classList.remove('notinmonth'),this.$.dates.children[u].children[v].textContent=t),void 0!==g&&t===g?this.$.dates.children[u].children[v].classList.add('selected'):this.$.dates.children[u].children[v].classList.remove('selected'),t===h?this.$.dates.children[u].children[v].classList.add('current'):this.$.dates.children[u].children[v].classList.remove('current'),void 0!==l&&t<l||void 0!==m&&t>m?this.$.dates.children[u].children[v].classList.add('outofrange'):this.$.dates.children[u].children[v].classList.remove('outofrange'),this.$.dates.children[u].children[v].dataset.date=this._toDate(o,p,t),t++}}},{key:'_toDate',value:function(){var k,f=arguments[0],g=arguments[1],h=arguments[2];if(void 0!==h)k=new Date(f,g,h);else if(void 0!==g)k=new Date(f,g);else if(void 0!==f)k=new Date(f);else return;return f=k.getFullYear(),g=this._pad(k.getMonth()+1),h=this._pad(k.getDate()),f+'-'+g+'-'+h}},{key:'_minChanged',value:function(f){if(void 0!==f){var g=+new Date(f);g?this.render():this.min=void 0}}},{key:'_maxChanged',value:function(f){if(void 0!==f){var g=+new Date(f);g?this.render():this.max=void 0}}}],[{key:'is',get:function(){return'calendar-element'}},{key:'properties',get:function(){return{date:{type:String,notify:!0,observer:'_dateChanged'},min:{type:String,notify:!0,observer:'_minChanged'},max:{type:String,notify:!0,observer:'_maxChanged'},viewDate:{type:Number,observer:'render'},locale:{type:String,value:window.navigator.language,observer:'_localeChanged'}}}}]),b}(Polymer.Element);window.customElements.define(CalendarElement.is,CalendarElement);</script></dom-module><dom-module id="time-element" assetpath="../bower_components/datetime-picker/"><template strip-whitespace=""><style>:host{display:inline-block;font-family:inherit;background-color:var(--calendar-background, #252525);color:var(--calendar-color, #ccc);-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;outline-width:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;--calendar-selected:var(--primary-color, #253EEC);padding:6px;@apply --calendar-element;}:host > *{position:relative;}#content{width:100%;display:inline-flex;flex-direction:row;align-items:center;justify-content:center;font-size:0.8em;}#content > *{position:relative;display:flex;flex-direction:column;flex-wrap:nowrap;align-items:center;}.button{cursor:pointer;will-change:background-color;transition:background-color 150ms cubic-bezier(0.6, 1, 0.2, 1);color:inherit;fill:currentColor;height:1em;padding:0.5em;}.button:hover{cursor:pointer;background-color:var(--calendar-selected);}input.time{border-radius:2px;padding:0.2em;width:2ch;outline:none;font-family:inherit;text-align:center;border:none;background-color:var(--calendar-background, #333);color:inherit;}input::-webkit-input-placeholder{color:currentColor;}input.time:focus{background-color:var(--calendar-selected);}</style><div id="content"><div id="h"><svg class="button" viewBox="0 0 24 24" on-click="_onClick" for="hour" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="hour" type="text" tabindex="0" on-keydown="_checkKeycode" pattern="[0-1]?[0-9]|[2][0-3]" value="{{hour::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" on-click="_onClick" for="hour" step="-1"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div>:<div id="m"><svg class="button" viewBox="0 0 24 24" on-click="_onClick" for="minute" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="minute" type="text" tabindex="1" on-keydown="_checkKeycode" pattern="[0-5]?[0-9]" value="{{minute::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" on-click="_onClick" for="minute" step="-1"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div>:<div id="s"><svg class="button" viewBox="0 0 24 24" on-click="_onClick" for="second" step="1"><g><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"></path></g></svg> <input class="time" id="second" type="text" tabindex="2" on-keydown="_checkKeycode" pattern="[0-5]?[0-9]" value="{{second::input}}" placeholder="00"> <svg class="button" viewBox="0 0 24 24" for="second" step="-1" on-click="_onClick"><g><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g></svg></div><div id="extra"><slot></slot></div></div></template><script>var TimeElement=function(b){function c(){return babelHelpers.classCallCheck(this,c),babelHelpers.possibleConstructorReturn(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return babelHelpers.inherits(c,b),babelHelpers.createClass(c,[{key:'connectedCallback',value:function(){var g=this;babelHelpers.get(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),'connectedCallback',this).call(this),setTimeout(function(){var h;h=g.time?new Date(g.time):new Date,g.time=g._pad(h.getHours())+':'+g._pad(h.getMinutes())+':'+g._pad(h.getSeconds())},0)}},{key:'_pad',value:function(g){return 10>g?'0'+g:''+g}},{key:'_timeChanged',value:function(g,h,j){if(void 0!==g&&void 0!==h&&void 0!==j){var k=this._pad(g)+':'+this._pad(h)+':'+this._pad(j);k=this._checktime(k),this.time!==k&&(this.time=k)}}},{key:'_timeStringChanged',value:function(g){g=this._checktime(g||'00:00:00'),g=g.split(':').map(function(h){return parseInt(h)}),(g[0]!==this.hour||g[1]!==this.minute||g[2]!==this.second)&&this.setProperties({hour:g[0],minute:g[1],second:g[2]})}},{key:'_checkKeycode',value:function(g){if(!g.target)return void(g&&g.preventDefault&&g.preventDefault());var h=38===g.keyCode?1:40===g.keyCode?-1:0;if(h)return void this._pad(this._increm(g.target.id,h));if(h=39===g.keyCode?1:37===g.keyCode?-1:0,h){for(var k,j=['hour','minute','second'],l=0;l<j.length;l++)j[l]===g.target.id&&(k=l);this.$[j[(k+h+3)%3]].focus()}}},{key:'_checktime',value:function(g){var k,h=g.split(':'),j='';return 3===h.length?(k=parseInt(h[0]),j+=isNaN(k)||0>k||23<k?'00:':this._pad(k)+':',k=parseInt(h[1]),j+=isNaN(k)||0>k||59<k?'00:':this._pad(k)+':',k=parseInt(h[2]),j+=isNaN(k)||0>k||59<k?'00':this._pad(k),j):'00:00:00'}},{key:'_onClick',value:function(g){var h=g.currentTarget||g.path[0],j=h.getAttribute('for'),k=parseInt(h.getAttribute('step'));this._increm(j,k)}},{key:'_increm',value:function(g,h){g&&h&&('hour'===g?this.hour=this._pad((parseInt(this.hour)+h+24)%24):'minute'===g||'second'===g?this[g]=this._pad((parseInt(this[g])+h+60)%60):void 0)}}],[{key:'is',get:function(){return'time-element'}},{key:'properties',get:function(){return{time:{type:String,notify:!0},hour:{type:String,notify:!0},minute:{type:String,notify:!0},second:{type:String,notify:!0}}}},{key:'observers',get:function(){return['_timeChanged(hour, minute, second)','_timeStringChanged(time)']}}]),c}(Polymer.Element);window.customElements.define(TimeElement.is,TimeElement);</script></dom-module><dom-module id="datetime-picker" assetpath="../bower_components/datetime-picker/"><template><style>:host{display:inline-flex;outline:none;position:relative;}:host > *{position:relative;}#calendar,
      #timepicker{position:absolute;opacity:0;will-change:opacity;transition:opacity 150ms cubic-bezier(0.6, 1, 0.2, 1);pointer-events:none;@apply --calendar-element;}#calendar[opened],
      #timepicker[opened]{opacity:1;z-index:1;pointer-events:all;}:host([position="top"]) #calendar,
      :host([position="top"]) #timepicker{top:0;left:0;transform:translateY(-100%);}:host([position="bottom"]) #calendar,
      :host([position="bottom"]) #timepicker{bottom:0;left:0;transform:translateY(100%);}:host([position="left"]) #calendar,
      :host([position="left"]) #timepicker{top:0;left:0;transform:translateX(-100%);}:host([position="right"]) #calendar,
      :host([position="right"]) #timepicker{top:0;right:0;transform:translateX(100%);}:host([position="center"]) #calendar,
      :host([position="center"]) #timepicker{top:50%;left:50%;transform:translate(-50%, -50%);}#date,
      #time{position:relative;box-sizing:border-box;padding:0.4em 0.2em;box-sizing:border-box;font-family:inherit;font-size:0.75em;text-align:center;@apply --datetime-picker-input;}#icon{display:block;height:1em;padding:0.5em;will-change:background-color;transition:background-color 150ms cubic-bezier(0.6, 1, 0.2, 1);cursor:pointer;fill:currentColor;}#icon:hover{background-color:var(--calendar-selected);}</style><div><input id="date" type="date" disabled$="[[disabled]]" min="[[min]]" max="[[max]]" autocomplete="off" value="{{date::input}}" on-click="toggleCalendarElement"><dom-if if="[[!_useNative]]"><template><calendar-element id="calendar" date="{{date}}" min="{{min}}" max="{{max}}" opened$="[[_calendarOpened]]"><svg id="icon" viewBox="0 0 24 24" on-click="closeCalendarElement"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg></calendar-element></template></dom-if></div><div><input id="time" type="time" disabled$="[[disabled]]" autocomplete="off" value="{{time::input}}" step="1" on-click="toggleTimeElement"><dom-if if="[[!_useNative]]"><template><time-element id="timepicker" time="{{time}}" opened$="[[_timeOpened]]"><svg id="icon" viewBox="0 0 24 24" on-click="closeTimeElement"><g><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></svg></time-element></template></dom-if></div></template><script>var DatetimePicker=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'connectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'connectedCallback',this).call(this),this._nativeDateTime='date'!==this.$.date.type||'time'!==this.$.time.type?!1:!0}},{key:'disconnectedCallback',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'disconnectedCallback',this).call(this)}},{key:'_setInputTypes',value:function(e){e?(this.$.date.type='date',this.$.time.type='time'):(this.$.date.type='text',this.$.time.type='text')}},{key:'_computeValue',value:function(e){if(e){var f=+new Date(e);f&&f!==this.value&&this.set('value',f)}}},{key:'_computeDatetime',value:function(e,f){return e&&f?e+' '+f:''}},{key:'_valueChanged',value:function(e){if(e){var h,i,f=new Date(e),g=new Date(this.datetime);(h=this._toDate(f))!==this._toDate(g)&&this.set('date',h),(i=this._toTime(f))!==this._toTime(g)&&this.set('time',i)}}},{key:'_toDate',value:function(e){return e.getFullYear()+'-'+this._pad(e.getMonth()+1)+'-'+this._pad(e.getDate())}},{key:'_toTime',value:function(e){return this._pad(e.getHours())+':'+this._pad(e.getMinutes())+':'+this._pad(e.getSeconds())}},{key:'_pad',value:function(e){return 10>e?'0'+e:''+e}},{key:'toggle',value:function(){this.toggleCalendarElement(),this.toggleTimeElement()}},{key:'open',value:function(){this.openCalendarElement(),this.openTimeElement()}},{key:'close',value:function(){this.closeCalendarElement(),this.closeTimeElement()}},{key:'toggleCalendarElement',value:function(){this._useNative||(this._calendarOpened&&!this._timeOpened?this.closeCalendarElement():this.openCalendarElement())}},{key:'openCalendarElement',value:function(){this._useNative||(this._calendarOpened=!0,this._timeOpened=!1)}},{key:'closeCalendarElement',value:function(){this._useNative||(this._calendarOpened=!1)}},{key:'toggleTimeElement',value:function(){this._useNative||(!this._calendarOpened&&this._timeOpened?this.closeTimeElement():this.openTimeElement())}},{key:'openTimeElement',value:function(){this._useNative||(this._calendarOpened=!1,this._timeOpened=!0)}},{key:'closeTimeElement',value:function(){this._useNative||(this._timeOpened=!1)}},{key:'_computeUseNative',value:function(e,f){return e&&!f}}],[{key:'is',get:function(){return'datetime-picker'}},{key:'properties',get:function(){return{date:{type:String,notify:!0},time:{type:String,notify:!0},datetime:{type:String,computed:'_computeDatetime(date, time)'},value:{type:Number,notify:!0},min:{type:String,notify:!0},max:{type:String,notify:!0},position:{type:String,value:'top',reflectToAttribute:!0},useNotNative:{type:Boolean,value:!1},opened:{type:Boolean,reflectToAttribute:!0},disabled:{type:Boolean},_timeOpened:{type:Boolean},_calendarOpened:{type:Boolean},_nativeDateTime:{type:Boolean},_useNative:{type:Boolean,computed:'_computeUseNative(_nativeDateTime, useNotNative)'}}}},{key:'observers',get:function(){return['_computeValue(datetime)','_valueChanged(value)','_setInputTypes(_useNative)']}}]),b}(Polymer.Element);window.customElements.define(DatetimePicker.is,DatetimePicker);</script></dom-module><dom-module id="dialog-detail-request"><template><style include="button-style">:host{--caption-background:transparent;--caption-color:currentColor;}device-caption{align-items:baseline;justify-content:flex-start;}datetime-picker{--datetime-picker-input:{text-align:center;border:none;outline:none;border-bottom:thin solid currentColor;};}#chart{color:inherit;position:absolute;top:0;right:0;bottom:0;left:0;}.button{flex:0;}.icon{color:currentColor;fill:currentColor;}[dialog-bottom]{@apply --layout-center-center;font-size:0.9em !important;padding-left:2em !important;padding-right:2em !important;}[dialog-bottom] > *{align-self:stretch;margin:0.25em !important;height:2.5em;}.date{@apply --layout-inline;@apply --layout-center-center;}.date > *{margin:0 0.25em;height:100%;}.button{padding:0.5em 1.5em;}.send{position:absolute !important;right:4px;bottom:4px;}#spinner{position:absolute !important;left:4px;bottom:4px;box-sizing:border-box;height:40px;width:40px;fill:currentColor;}#dialog{height:100vh;width:100vw;border-radius:0;margin:64px;}@media (max-width: 768px){#dialog{margin:0;}}[hidden]{display:none;}</style><dialog-element id="dialog" opened="{{opened}}"><div dialog-title=""><device-caption keys="[[item.keys]]"></device-caption></div><div dialog-content=""><device-chart id="chart" opened="[[opened]]" item="[[item]]" no-link="" domain-x="{{domainX}}"></device-chart></div><section dialog-bottom=""><div class="date"><iron-icon class="icon" icon="first-page"></iron-icon><datetime-picker id="dateFrom" value="{{fromDate}}" date-string="{{_minDate}}" max-date="[[_maxDate]]" locales="[[language]]"></datetime-picker></div><div class="date"><iron-icon class="icon" icon="last-page"></iron-icon><datetime-picker id="dateTo" value="{{toDate}}" date-string="{{_maxDate}}" min-date="[[_minDate]]" locales="[[language]]"></datetime-picker></div></section><icon-button class="send" icon="date-range" title="{{localize('detail', 'query')}}" on-tap="requestFromSocket"></icon-button><svg id="spinner" hidden$="[[!isLoading]]" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve"><path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path></svg></dialog-element></template></dom-module><script>var DialogDetailRequest=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'requestFromSocket',value:function(){var d={target:'socket',operation:'request',args:{mounts:[this.item.mount],from:this.fromDate,to:this.toDate}},f=+new Date;this.isLoading=!0,Promise.resolve(new Promise(function(g){window.Webvisual.request(d,g)})).then(function(g){this.$.chart.clearValues(g),this.$.chart.insertValues(g);var h=new Date-f;1e3>h?this.async(function(){this.isLoading=!1},h):this.isLoading=!1}.bind(this)).catch(function(g){console.log(g)})}},{key:'_domainXChanged',value:function(){this.domainX&&Number.isFinite(this.domainX[0])&&Number.isFinite(this.domainX[1])&&(this.set('fromDate',this.domainX[0]),this.set('toDate',this.domainX[1]))}},{key:'_reset',value:function(){}},{key:'_resize',value:function(){setTimeout(this.$.chart._sizeLayout.bind(this.$.chart),0)}}],[{key:'is',get:function(){return'dialog-detail-request'}},{key:'properties',get:function(){return{item:{type:Object,value:function(){return{}}},opened:{type:Boolean,reflectToAttribute:!0},isLoading:{type:Boolean,value:!1},fromDate:{type:Number,value:+(new Date-3.6e6)},toDate:{type:Number,value:+new Date},domainX:{type:Array,observer:'_domainXChanged'},languageResourcePrefix:{type:String,value:'/locales/ui/'}}}},{key:'listeners',get:function(){return{'dialog.iron-overlay-closed':'_reset','dialog.iron-overlay-opened':'_resize'}}}]),b}(WebvisualMixins.LocalizeMixin(Polymer.Element));customElements.define(DialogDetailRequest.is,DialogDetailRequest);</script></div></body></html>