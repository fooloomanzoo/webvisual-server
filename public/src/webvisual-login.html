<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="behaviors/localize-behavior.html">

<link rel="import" href="style/shared-styles.html">
<link rel="import" href="style/webvisual-button.html">
<link rel="import" href="style/webvisual-input.html">

<dom-module id="webvisual-login">

  <template>

    <style include="shared-styles webvisual-input webvisual-button">
      :host {
        @apply(--layout-vertical);
        @apply(--layout-justified);
        height: 100%;
        box-sizing: border-box;
        color: var(--bright-text-color);
        outline: none;
      }
      .box {
        position: relative;
        box-sizing: border-box;
        font-size: 1em;
        padding: 1.5em;
        margin: auto;
        align-self: center;
        white-space: normal;
        line-height: 1.4;
      }
      #login {
        @apply(--layout-vertical);
        @apply(--layout-justified);
        position: relative;
        box-sizing: border-box;
        font-size: 1em;
        padding: 1.5em;
        margin: auto;
        align-self: center;
        white-space: normal;
        line-height: 1.4;
      }

      #login > * {
        margin-bottom: 1em;
      }

      h1, h2 {
        font-weight: normal;
        text-align: center;
        white-space: normal;
      }
      h1 {
        font-size: 2em;
        margin: 0;
      }
      input-box {
        display: inline-flex;
        align-items: center;
      }
      .left {
        margin-right: 0.75em;
      }
      .right {
        margin-left: 0.75em;
      }

    </style>

    <div class="box">

      <header>
        <h1>Webvisual</h1>
      </header>

      <form id="login"
        action="/login"
        method="post">

        <h2 id="loginInfo">{{localize('login', 'name')}}</h2>

        <input-box>
          <iron-icon class="left" icon="perm-identity"></iron-icon>
          <webvisual-input>
            <input id="username" type="text" name="username" placeholder$="{{localize('login', 'username')}}(@fz-juelich.de)" autofocus required tabindex="1"
            aria-labelledby="usernameLabel loginInfo" autocomplete="username"/>
            <webvisual-md-decorator error-message="Invalid Username" aria-hidden="true">
              <label id="usernameLabel">{{localize('login', 'username')}}</label>
              <webvisual-underline></webvisual-underline>
            </webvisual-md-decorator>
          </webvisual-input>
        </input-box>

        <input-box>
          <iron-icon class="left" icon="more-horiz"></iron-icon>
          <webvisual-input>
            <input id="password" class="input" type="password" name="password" placeholder="{{localize('login', 'password')}}" required tabindex="2" autocomplete="password"
            aria-labelledby="passwordLabel loginInfo" autocomplete="password"/>
            <webvisual-md-decorator error-message="Invalid Password" aria-hidden="true">
              <label id="passwordLabel">{{localize('login', 'password')}}</label>
              <webvisual-underline></webvisual-underline>
            </webvisual-md-decorator>
          </webvisual-input>
        </input-box>

        <webvisual-button>
          <button type="submit" name="button" class="button">
            <iron-icon class="left" icon="juelich:logo"></iron-icon>
            <span>{{localize('login', 'name')}}</span>
          </button>
        </webvisual-button>
      </form>
    </div>
  </template>

  <script>

    Polymer({

      is: 'webvisual-login',

      behaviors: [
        LocalizeBehavior
      ],

      properties: {

        loggedIn: {
          type: Boolean,
          notify: true
        }

      }
    });

  </script>

</dom-module>
