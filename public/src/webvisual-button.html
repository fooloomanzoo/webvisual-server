<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="../bower_components/paper-behaviors/paper-button-behavior.html">
<link rel="import" href="../bower_components/paper-material/paper-material-shared-styles.html">
<!-- Modification of polymers paper-button because of conflicts with paper-style -->

<dom-module id="webvisual-button">
  <template strip-whitespace>
    <style include="paper-material-shared-styles">
      :host {
        display: inline-flex;
        align-items: center;
        align-content: center;
        justify-content: flex-start;
        position: relative;
        box-sizing: border-box;
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -webkit-tap-highlight-color: transparent;
        outline-width: 0;
        -moz-user-select: none; -ms-user-select: none; -webkit-user-select: none; user-select: none;
        border: none;
        border-color: var(--highlight-color);
        background: linear-gradient(to bottom, rgba(255,255,255,0.04) 5%,rgba(255,255,255,0.10) 40%);
        color: currentColor;
        cursor: pointer;
        transition: background 0.28s cubic-bezier(0.4, 0, 0.2, 1);
        padding: 0.75em 1.5em;
        margin: 0em;
        letter-spacing: 0.2px;
        @apply(--webvisual-button);
      }
      :host ::content span {
        flex: 1;
        text-align: center;
      }
      :host(:hover) {
        background: linear-gradient(to bottom, rgba(255,255,255,0.06) 5%,rgba(255,255,255,0.15) 40%);
      }
      :host([raised].keyboard-focus) {
        font-weight: bold;
      }
      :host(:not([raised]).keyboard-focus) {
        font-weight: bold;
      }
      :host([disabled]) {
        color: var(--disabled-text-color);
        background: none;
        border-color: var(--disabled-text-color);
        cursor: auto;
        pointer-events: none;
      }

      :host.iron-selected {
        background: linear-gradient(to bottom, rgba(173,173,173,0.1) 5%,rgba(173,173,173,0.25) 40%);
        font-weight: bold;
      }
      ::content iron-icon {
        color: currentColor;
      }
      ::content .left {
        margin-right: 0.5em;
      }

      ::content .right {
        margin-left: 0.5em;
        @apply(--default-transition);
      }
    </style>
    <content></content>
  </template>

  <script>
    Polymer({
      is: 'webvisual-button',

      behaviors: [
        Polymer.IronFormElementBehavior,
        Polymer.PaperButtonBehavior
      ],

      properties: {
        raised: {
          type: Boolean,
          reflectToAttribute: true,
          value: false,
          observer: '_calculateElevation'
        }
      },

      _calculateElevation: function() {
        if (!this.raised) {
          this._setElevation(0);
        } else {
          Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this);
        }
      }
    });
  </script>
</dom-module>
