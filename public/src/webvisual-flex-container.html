<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="behaviors/container-behavior.html"/>
<link rel="import" href="behaviors/attribute-repeat-animation-behavior.html"/>

<dom-module id='webvisual-flex-container'>
  <template>
    <style>
      :host {
        display: inline-flex;
        flex-direction: row;
        position: relative;
        overflow: hidden;
        /*height: 100%;*/
      }
      :host([vertical]) {
        flex-direction: column;
      }
      :host ::content > * {
        box-sizing: border-box;
        flex: 1 0 auto;
        padding-right: 1px;
        padding-bottom: 0;
        border-radius: 0 !important;
        border-width: 0 !important;
        border-color: inherit !important;
        border-radius: inherit !important;
      }

      :host([vertical]) ::content > * {
        padding-right: 0;
        padding-bottom: 1px;
      }

      :host ::content > *:first-child {
        border-top-left-radius: inherit !important;
        border-top-right-radius: inherit !important;
        border-bottom-right-radius: 0 !important;
        border-bottom-left-radius: 0 !important;
      }
      :host ::content > *:last-child {
        border-top-left-radius: 0 !important;
        border-top-right-radius: 0 !important;
        border-bottom-right-radius: inherit !important;
        border-bottom-left-radius: inherit !important;
        padding-right: 0;
        padding-bottom: 0;
      }
      :host(:not([vertical])) ::content > *:first-child {
        border-top-left-radius: inherit !important;
        border-top-right-radius: 0 !important;
        border-bottom-right-radius: 0 !important;
        border-bottom-left-radius: inherit !important;
      }
      :host(:not([vertical])) ::content > *:last-child {
        border-top-left-radius: 0 !important;
        border-top-right-radius: inherit !important;
        border-bottom-right-radius: inherit !important;
        border-bottom-left-radius: 0 !important;
      }
    </style>

    <content></content>

  </template>
  <script>
    WebvisiualFlexContainer = Polymer({
      is: 'webvisual-flex-container',

      behaviors: [
        AttributeRepeatAnimationBehavior,
        ContainerBehavior
      ],

      properties: {

        vertical: {
          type: Boolean
        },

        reproduce: {
          type: Boolean,
          value: true,
          readOnly: true
        },

        attributeAlias: {
          type: Array,
          value: function() {
            return {
              'expanded': 'vertical'
            };
          }
        },
        repeatedAttributes: {
          type: Array,
          value: function() {
            return [ 'vertical' ];
          }
        }
      }
    });
  </script>
</dom-module>
