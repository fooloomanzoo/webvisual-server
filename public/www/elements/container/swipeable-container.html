<dom-module id='swipeable-container'>
  <template>
    <style>
      :host {
        position: relative;
      }
      iron-swipeable-container#content {
        padding: 0.5em 0.5em 0.25em 0.5em;
        display: block;
        position: relative;
        width: auto;
      }
      iron-swipeable-container#content > list-element {
        margin-bottom: 0.25em;
        float: left;
        clear: both;
        width: 100%;
        position: relative;
      }
    </style>

    <iron-swipeable-container id='content' on-iron-swipe="_onSwipe">
      <template is="dom-if" if="[[!noExceedNotify]]">
        <template is="dom-repeat" items="[[exceedingElements]]">
          <list-element data-id="[[item.dataId]]" data-label="[[item.dataLabel]]" data-keys="[[item.dataKeys]]" grouped-key="[[item.groupedKey]]" unit="[[item.unit]]"
                        color="[[item.color]]" is-boolean="[[item.isBoolean]]" selectable exceedable="[[item.exceedable]]" show-date>
          </list-element>
        </template>
      </template>
      <template is="dom-if" if="[[!noSelectNotify]]">
        <template is="dom-repeat" items="[[selectedElements]]">
          <list-element data-id="[[item.dataId]]" data-label="[[item.dataLabel]]" data-keys="[[item.dataKeys]]" grouped-key="[[item.groupedKey]]"  unit="[[item.unit]]"
                        color="[[item.color]]" is-boolean="[[item.isBoolean]]" selectable exceedable="[[item.exceedable]]" show-date>
          </list-element>
        </template>
      </template>
    </iron-swipeable-container>

  </template>
  <script>
    SwipeableContainer = Polymer({
      is: 'swipeable-container',

      behaviors: [
        ContainerBehavior
      ],

      properties: {
        multiSelect: {
          type: Boolean,
          value: true
        },
        toggles: {
          type: Boolean,
          value: false
        },

        notify: {
          type: Boolean,
          value: false
        },
        notifyParent: {
          type: Boolean,
          value: false
        },
        noSelectNotify: {
          type: Boolean,
          value: false
        },
        noExceedNotify: {
          type: Boolean,
          value: false
        },

        reproduce: {
          type: Boolean,
          value: false,
          readOnly: true
        }
      },

      _onSwipe: function(e) {
        this.unsetExceedingElement(e);
        this.async(function(){
          if(this.$.content.children.length === 0) {
            this.clearExceedingElements();
          }
        }, 16)
      }

    });
  </script>
</dom-module>
